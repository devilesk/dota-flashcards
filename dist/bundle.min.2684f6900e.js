!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.DotaFlashCardsApp=e()}}(function(){var define,module,exports;return function e(t,a,i){function n(o,l){if(!a[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=a[o]={exports:{}};t[o][0].call(c.exports,function(e){var a=t[o][1][e];return n(a?a:e)},c,c.exports,e,t,a,i)}return a[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(e,t,a){(function(e){var a="undefined"!=typeof window?window.btoa:"undefined"!=typeof e?e.btoa:null,i="undefined"!=typeof window?window.atob:"undefined"!=typeof e?e.atob:null,n=function(){function e(e){var t,a,i,n,r="";for(t=e.length-1;t>=3;t-=4){for(i=e.substr(t+1-4,4),n=0,a=0;a<4;a+=1){if("0"!==i[a]&&"1"!==i[a])return{valid:!1};n=2*n+parseInt(i[a],10)}r=n>=10?String.fromCharCode(n-10+"A".charCodeAt(0))+r:String(n)+r}if(t>=0){for(n=0,a=0;a<=t;a+=1){if("0"!==e[a]&&"1"!==e[a])return{valid:!1};n=2*n+parseInt(e[a],10)}r=String(n)+r}return{valid:!0,result:r}}function t(e){var t,a="",i={0:"0000",1:"0001",2:"0010",3:"0011",4:"0100",5:"0101",6:"0110",7:"0111",8:"1000",9:"1001",a:"1010",b:"1011",c:"1100",d:"1101",e:"1110",f:"1111",A:"1010",B:"1011",C:"1100",D:"1101",E:"1110",F:"1111"};for(t=0;t<e.length;t+=1){if(!i.hasOwnProperty(e[t]))return{valid:!1};a+=i[e[t]]}return{valid:!0,result:a}}function n(e){return a(String.fromCharCode.apply(null,e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function r(e){for(var t=0,a=i(e.replace(/[ \r\n]+$/,"")),n=[];t<a.length;++t){var r=a.charCodeAt(t).toString(16);1===r.length&&(r="0"+r),n[n.length]=r}return n.join("")}function o(e){this.size=e,this.data=[];for(var t=0;t<e;t++)this.data.push(!1)}return o.prototype.set=function(e){this.data[e]=!0},o.prototype.clear=function(e){this.data[e]=!1},o.prototype.value=function(e,t){return void 0===t?this.data[e]:void(this.data[e]=!!t)},o.prototype.toBase64=function(){for(var t="",a=0;a<this.data.length;a++)t+=this.data[a]?"1":"0";return n(e(t).result)},o.prototype.fromBase64=function(e){e=e||"";var a=r(e),i=t(a).result;this.data=[];for(var n=0;n<this.size;n++)this.data[n]="1"===i.charAt(n)},o.prototype.toBase64UrlSafe=function(){return this.urlEncode(this.toBase64())},o.prototype.fromBase64UrlSafe=function(e){return this.fromBase64(this.urlDecode(e))},o.prototype.urlEncode=function(e){return e=e||"",e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},o.prototype.urlDecode=function(e){e=e||"";var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 2:t+="==";break;case 3:t+="="}return t},o}();t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,a){!function(e,a,i,n){"use strict";function r(e,t,a){return setTimeout(c(e,a),t)}function o(e,t,a){return!!Array.isArray(e)&&(l(e,a[t],a),!0)}function l(e,t,a){var i;if(e)if(e.forEach)e.forEach(t,a);else if(e.length!==n)for(i=0;i<e.length;)t.call(a,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(a,e[i],i,e)}function s(t,a,i){var n="DEPRECATED METHOD: "+a+"\n"+i+" AT \n";return function(){var a=new Error("get-stack-trace"),i=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=e.console&&(e.console.warn||e.console.log);return r&&r.call(e.console,n,i),t.apply(this,arguments)}}function u(e,t,a){var i,n=t.prototype;i=e.prototype=Object.create(n),i.constructor=e,i._super=n,a&&be(i,a)}function c(e,t){return function(){return e.apply(t,arguments)}}function m(e,t){return typeof e==fe?e.apply(t?t[0]||n:n,t):e}function b(e,t){return e===n?t:e}function p(e,t,a){l(h(t),function(t){e.addEventListener(t,a,!1)})}function d(e,t,a){l(h(t),function(t){e.removeEventListener(t,a,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function h(e){return e.trim().split(/\s+/g)}function v(e,t,a){if(e.indexOf&&!a)return e.indexOf(t);for(var i=0;i<e.length;){if(a&&e[i][a]==t||!a&&e[i]===t)return i;i++}return-1}function _(e){return Array.prototype.slice.call(e,0)}function y(e,t,a){for(var i=[],n=[],r=0;r<e.length;){var o=t?e[r][t]:e[r];v(n,o)<0&&i.push(e[r]),n[r]=o,r++}return a&&(i=t?i.sort(function(e,a){return e[t]>a[t]}):i.sort()),i}function A(e,t){for(var a,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<pe.length;){if(a=pe[o],i=a?a+r:t,i in e)return i;o++}return n}function T(){return Ae++}function k(t){var a=t.ownerDocument||t;return a.defaultView||a.parentWindow||e}function w(e,t){var a=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){m(e.options.enable,[e])&&a.handler(t)},this.init()}function I(e){var t,a=e.options.inputClass;return new(t=a?a:we?F:Ie?z:ke?j:L)(e,D)}function D(e,t,a){var i=a.pointers.length,n=a.changedPointers.length,r=t&Ee&&i-n===0,o=t&(Me|Ve)&&i-n===0;a.isFirst=!!r,a.isFinal=!!o,r&&(e.session={}),a.eventType=t,S(e,a),e.emit("hammer.input",a),e.recognize(a),e.session.prevInput=a}function S(e,t){var a=e.session,i=t.pointers,n=i.length;a.firstInput||(a.firstInput=R(t)),n>1&&!a.firstMultiple?a.firstMultiple=R(t):1===n&&(a.firstMultiple=!1);var r=a.firstInput,o=a.firstMultiple,l=o?o.center:r.center,s=t.center=E(i);t.timeStamp=ve(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=N(l,s),t.distance=V(l,s),x(a,t),t.offsetDirection=M(t.deltaX,t.deltaY);var u=O(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=he(u.x)>he(u.y)?u.x:u.y,t.scale=o?B(o.pointers,i):1,t.rotation=o?C(o.pointers,i):0,t.maxPointers=a.prevInput?t.pointers.length>a.prevInput.maxPointers?t.pointers.length:a.prevInput.maxPointers:t.pointers.length,P(a,t);var c=e.element;f(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function x(e,t){var a=t.center,i=e.offsetDelta||{},n=e.prevDelta||{},r=e.prevInput||{};t.eventType!==Ee&&r.eventType!==Me||(n=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=e.offsetDelta={x:a.x,y:a.y}),t.deltaX=n.x+(a.x-i.x),t.deltaY=n.y+(a.y-i.y)}function P(e,t){var a,i,r,o,l=e.lastInterval||t,s=t.timeStamp-l.timeStamp;if(t.eventType!=Ve&&(s>Re||l.velocity===n)){var u=t.deltaX-l.deltaX,c=t.deltaY-l.deltaY,m=O(s,u,c);i=m.x,r=m.y,a=he(m.x)>he(m.y)?m.x:m.y,o=M(u,c),e.lastInterval=t}else a=l.velocity,i=l.velocityX,r=l.velocityY,o=l.direction;t.velocity=a,t.velocityX=i,t.velocityY=r,t.direction=o}function R(e){for(var t=[],a=0;a<e.pointers.length;)t[a]={clientX:ge(e.pointers[a].clientX),clientY:ge(e.pointers[a].clientY)},a++;return{timeStamp:ve(),pointers:t,center:E(t),deltaX:e.deltaX,deltaY:e.deltaY}}function E(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var a=0,i=0,n=0;n<t;)a+=e[n].clientX,i+=e[n].clientY,n++;return{x:ge(a/t),y:ge(i/t)}}function O(e,t,a){return{x:t/e||0,y:a/e||0}}function M(e,t){return e===t?Ne:he(e)>=he(t)?e<0?Ce:Be:t<0?Le:Fe}function V(e,t,a){a||(a=Ge);var i=t[a[0]]-e[a[0]],n=t[a[1]]-e[a[1]];return Math.sqrt(i*i+n*n)}function N(e,t,a){a||(a=Ge);var i=t[a[0]]-e[a[0]],n=t[a[1]]-e[a[1]];return 180*Math.atan2(n,i)/Math.PI}function C(e,t){return N(t[1],t[0],je)+N(e[1],e[0],je)}function B(e,t){return V(t[0],t[1],je)/V(e[0],e[1],je)}function L(){this.evEl=Ye,this.evWin=Qe,this.pressed=!1,w.apply(this,arguments)}function F(){this.evEl=Je,this.evWin=Xe,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Ze,this.evWin=et,this.started=!1,w.apply(this,arguments)}function U(e,t){var a=_(e.touches),i=_(e.changedTouches);return t&(Me|Ve)&&(a=y(a.concat(i),"identifier",!0)),[a,i]}function z(){this.evTarget=at,this.targetIds={},w.apply(this,arguments)}function G(e,t){var a=_(e.touches),i=this.targetIds;if(t&(Ee|Oe)&&1===a.length)return i[a[0].identifier]=!0,[a,a];var n,r,o=_(e.changedTouches),l=[],s=this.target;if(r=a.filter(function(e){return f(e.target,s)}),t===Ee)for(n=0;n<r.length;)i[r[n].identifier]=!0,n++;for(n=0;n<o.length;)i[o[n].identifier]&&l.push(o[n]),t&(Me|Ve)&&delete i[o[n].identifier],n++;return l.length?[y(r.concat(l),"identifier",!0),l]:void 0}function j(){w.apply(this,arguments);var e=c(this.handler,this);this.touch=new z(this.manager,e),this.mouse=new L(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function q(e,t){e&Ee?(this.primaryTouch=t.changedPointers[0].identifier,Y.call(this,t)):e&(Me|Ve)&&Y.call(this,t)}function Y(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var a={x:t.clientX,y:t.clientY};this.lastTouches.push(a);var i=this.lastTouches,n=function(){var e=i.indexOf(a);e>-1&&i.splice(e,1)};setTimeout(n,it)}}function Q(e){for(var t=e.srcEvent.clientX,a=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],r=Math.abs(t-n.x),o=Math.abs(a-n.y);if(r<=nt&&o<=nt)return!0}return!1}function K(e,t){this.manager=e,this.set(t)}function W(e){if(g(e,ct))return ct;var t=g(e,mt),a=g(e,bt);return t&&a?ct:t||a?t?mt:bt:g(e,ut)?ut:st}function J(){if(!ot)return!1;var t={},a=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!a||e.CSS.supports("touch-action",i)}),t}function X(e){this.options=be({},this.defaults,e||{}),this.id=T(),this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=dt,this.simultaneous={},this.requireFail=[]}function $(e){return e&_t?"cancel":e&ht?"end":e&gt?"move":e&ft?"start":""}function Z(e){return e==Fe?"down":e==Le?"up":e==Ce?"left":e==Be?"right":""}function ee(e,t){var a=t.manager;return a?a.get(e):e}function te(){X.apply(this,arguments)}function ae(){te.apply(this,arguments),this.pX=null,this.pY=null}function ie(){te.apply(this,arguments)}function ne(){X.apply(this,arguments),this._timer=null,this._input=null}function re(){te.apply(this,arguments)}function oe(){te.apply(this,arguments)}function le(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=b(t.recognizers,se.defaults.preset),new ue(e,t)}function ue(e,t){this.options=be({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=I(this),this.touchAction=new K(this,this.options.touchAction),ce(this,!0),l(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(e,t){var a=e.element;if(a.style){var i;l(e.options.cssProps,function(n,r){i=A(a.style,r),t?(e.oldCssProps[i]=a.style[i],a.style[i]=n):a.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function me(e,t){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}var be,pe=["","webkit","Moz","MS","ms","o"],de=a.createElement("div"),fe="function",ge=Math.round,he=Math.abs,ve=Date.now;be="function"!=typeof Object.assign?function(e){if(e===n||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),a=1;a<arguments.length;a++){var i=arguments[a];if(i!==n&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var _e=s(function(e,t,a){for(var i=Object.keys(t),r=0;r<i.length;)(!a||a&&e[i[r]]===n)&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),ye=s(function(e,t){return _e(e,t,!0)},"merge","Use `assign`."),Ae=1,Te=/mobile|tablet|ip(ad|hone|od)|android/i,ke="ontouchstart"in e,we=A(e,"PointerEvent")!==n,Ie=ke&&Te.test(navigator.userAgent),De="touch",Se="pen",xe="mouse",Pe="kinect",Re=25,Ee=1,Oe=2,Me=4,Ve=8,Ne=1,Ce=2,Be=4,Le=8,Fe=16,He=Ce|Be,Ue=Le|Fe,ze=He|Ue,Ge=["x","y"],je=["clientX","clientY"];w.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(k(this.element),this.evWin,this.domHandler)}};var qe={mousedown:Ee,mousemove:Oe,mouseup:Me},Ye="mousedown",Qe="mousemove mouseup";u(L,w,{handler:function(e){var t=qe[e.type];t&Ee&&0===e.button&&(this.pressed=!0),t&Oe&&1!==e.which&&(t=Me),this.pressed&&(t&Me&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:xe,srcEvent:e}))}});var Ke={pointerdown:Ee,pointermove:Oe,pointerup:Me,pointercancel:Ve,pointerout:Ve},We={2:De,3:Se,4:xe,5:Pe},Je="pointerdown",Xe="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Je="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),u(F,w,{handler:function(e){var t=this.store,a=!1,i=e.type.toLowerCase().replace("ms",""),n=Ke[i],r=We[e.pointerType]||e.pointerType,o=r==De,l=v(t,e.pointerId,"pointerId");n&Ee&&(0===e.button||o)?l<0&&(t.push(e),l=t.length-1):n&(Me|Ve)&&(a=!0),l<0||(t[l]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),a&&t.splice(l,1))}});var $e={touchstart:Ee,touchmove:Oe,touchend:Me,touchcancel:Ve},Ze="touchstart",et="touchstart touchmove touchend touchcancel";u(H,w,{handler:function(e){var t=$e[e.type];if(t===Ee&&(this.started=!0),this.started){var a=U.call(this,e,t);t&(Me|Ve)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:De,srcEvent:e})}}});var tt={touchstart:Ee,touchmove:Oe,touchend:Me,touchcancel:Ve},at="touchstart touchmove touchend touchcancel";u(z,w,{handler:function(e){var t=tt[e.type],a=G.call(this,e,t);a&&this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:De,srcEvent:e})}});var it=2500,nt=25;u(j,w,{handler:function(e,t,a){var i=a.pointerType==De,n=a.pointerType==xe;if(!(n&&a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents)){if(i)q.call(this,t,a);else if(n&&Q.call(this,a))return;this.callback(e,t,a)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=A(de.style,"touchAction"),ot=rt!==n,lt="compute",st="auto",ut="manipulation",ct="none",mt="pan-x",bt="pan-y",pt=J();K.prototype={set:function(e){e==lt&&(e=this.compute()),ot&&this.manager.element.style&&pt[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){m(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),W(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,a=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,n=g(i,ct)&&!pt[ct],r=g(i,bt)&&!pt[bt],o=g(i,mt)&&!pt[mt];if(n){var l=1===e.pointers.length,s=e.distance<2,u=e.deltaTime<250;if(l&&s&&u)return}return o&&r?void 0:n||r&&a&He||o&&a&Ue?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var dt=1,ft=2,gt=4,ht=8,vt=ht,_t=16,yt=32;X.prototype={defaults:{},set:function(e){return be(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ee(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=ee(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=ee(e,this),v(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=ee(e,this);var t=v(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){a.manager.emit(t,e)}var a=this,i=this.state;i<ht&&t(a.options.event+$(i)),t(a.options.event),e.additionalEvent&&t(e.additionalEvent),i>=ht&&t(a.options.event+$(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|dt)))return!1;e++}return!0},recognize:function(e){var t=be({},e);return m(this.options.enable,[this,t])?(this.state&(vt|_t|yt)&&(this.state=dt),this.state=this.process(t),void(this.state&(ft|gt|ht|_t)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(e){},getTouchAction:function(){},reset:function(){}},u(te,X,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,a=e.eventType,i=t&(ft|gt),n=this.attrTest(e);return i&&(a&Ve||!n)?t|_t:i||n?a&Me?t|ht:t&ft?t|gt:ft:yt}}),u(ae,te,{defaults:{event:"pan",threshold:10,pointers:1,direction:ze},getTouchAction:function(){var e=this.options.direction,t=[];return e&He&&t.push(bt),e&Ue&&t.push(mt),t},directionTest:function(e){var t=this.options,a=!0,i=e.distance,n=e.direction,r=e.deltaX,o=e.deltaY;return n&t.direction||(t.direction&He?(n=0===r?Ne:r<0?Ce:Be,a=r!=this.pX,i=Math.abs(e.deltaX)):(n=0===o?Ne:o<0?Le:Fe,a=o!=this.pY,i=Math.abs(e.deltaY))),e.direction=n,a&&i>t.threshold&&n&t.direction},attrTest:function(e){return te.prototype.attrTest.call(this,e)&&(this.state&ft||!(this.state&ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Z(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),u(ie,te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ft)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),u(ne,X,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,a=e.pointers.length===t.pointers,i=e.distance<t.threshold,n=e.deltaTime>t.time;if(this._input=e,!i||!a||e.eventType&(Me|Ve)&&!n)this.reset();else if(e.eventType&Ee)this.reset(),this._timer=r(function(){this.state=vt,this.tryEmit()},t.time,this);else if(e.eventType&Me)return vt;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===vt&&(e&&e.eventType&Me?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ve(),this.manager.emit(this.options.event,this._input)))}}),u(re,te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ft)}}),u(oe,te,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:He|Ue,pointers:1},getTouchAction:function(){return ae.prototype.getTouchAction.call(this)},attrTest:function(e){var t,a=this.options.direction;return a&(He|Ue)?t=e.overallVelocity:a&He?t=e.overallVelocityX:a&Ue&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&a&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&he(t)>this.options.velocity&&e.eventType&Me},emit:function(e){var t=Z(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),u(le,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ut]},process:function(e){var t=this.options,a=e.pointers.length===t.pointers,i=e.distance<t.threshold,n=e.deltaTime<t.time;if(this.reset(),e.eventType&Ee&&0===this.count)return this.failTimeout();if(i&&n&&a){if(e.eventType!=Me)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,l=!this.pCenter||V(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,l&&o?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=r(function(){this.state=vt,this.tryEmit()},t.interval,this),ft):vt}return yt},failTimeout:function(){return this._timer=r(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.7",se.defaults={domEvents:!1,touchAction:lt,enable:!0,inputTarget:null,inputClass:null,preset:[[re,{enable:!1}],[ie,{enable:!1},["rotate"]],[oe,{direction:He}],[ae,{direction:He},["swipe"]],[le],[le,{event:"doubletap",taps:2},["tap"]],[ne]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var At=1,Tt=2;ue.prototype={set:function(e){return be(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?Tt:At},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var a,i=this.recognizers,n=t.curRecognizer;(!n||n&&n.state&vt)&&(n=t.curRecognizer=null);for(var r=0;r<i.length;)a=i[r],t.stopped===Tt||n&&a!=n&&!a.canRecognizeWith(n)?a.reset():a.recognize(e),!n&&a.state&(ft|gt|ht)&&(n=t.curRecognizer=a),r++}},get:function(e){if(e instanceof X)return e;for(var t=this.recognizers,a=0;a<t.length;a++)if(t[a].options.event==e)return t[a];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,a=v(t,e);a!==-1&&(t.splice(a,1),this.touchAction.update())}return this},on:function(e,t){if(e!==n&&t!==n){var a=this.handlers;return l(h(e),function(e){a[e]=a[e]||[],a[e].push(t)}),this}},off:function(e,t){if(e!==n){var a=this.handlers;return l(h(e),function(e){t?a[e]&&a[e].splice(v(a[e],t),1):delete a[e]}),this}},emit:function(e,t){this.options.domEvents&&me(e,t);var a=this.handlers[e]&&this.handlers[e].slice();if(a&&a.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<a.length;)a[i](t),i++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},be(se,{INPUT_START:Ee,INPUT_MOVE:Oe,INPUT_END:Me,INPUT_CANCEL:Ve,STATE_POSSIBLE:dt,STATE_BEGAN:ft,STATE_CHANGED:gt,STATE_ENDED:ht,STATE_RECOGNIZED:vt,STATE_CANCELLED:_t,STATE_FAILED:yt,DIRECTION_NONE:Ne,DIRECTION_LEFT:Ce,DIRECTION_RIGHT:Be,DIRECTION_UP:Le,DIRECTION_DOWN:Fe,DIRECTION_HORIZONTAL:He,DIRECTION_VERTICAL:Ue,DIRECTION_ALL:ze,Manager:ue,Input:w,TouchAction:K,TouchInput:z,MouseInput:L,PointerEventInput:F,TouchMouseInput:j,SingleTouchInput:H,Recognizer:X,AttrRecognizer:te,Tap:le,Pan:ae,Swipe:oe,Pinch:ie,Rotate:re,Press:ne,on:p,off:d,each:l,merge:ye,extend:_e,assign:be,inherit:u,bindFn:c,prefixed:A});var kt="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};kt.Hammer=se,"function"==typeof define&&define.amd?define(function(){return se}):"undefined"!=typeof t&&t.exports?t.exports=se:e[i]=se}(window,document,"Hammer")},{}],3:[function(e,t,a){var i=e("./_root"),n=i.Symbol;t.exports=n},{"./_root":8}],4:[function(e,t,a){function i(e){return null==e?void 0===e?s:l:(e=Object(e),u&&u in e?r(e):o(e))}var n=e("./_Symbol"),r=e("./_getRawTag"),o=e("./_objectToString"),l="[object Null]",s="[object Undefined]",u=n?n.toStringTag:void 0;t.exports=i},{"./_Symbol":3,"./_getRawTag":6,"./_objectToString":7}],5:[function(e,t,a){(function(e){var a="object"==typeof e&&e&&e.Object===Object&&e;t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,a){function i(e){var t=o.call(e,s),a=e[s];try{e[s]=void 0;var i=!0}catch(e){}var n=l.call(e);return i&&(t?e[s]=a:delete e[s]),n}var n=e("./_Symbol"),r=Object.prototype,o=r.hasOwnProperty,l=r.toString,s=n?n.toStringTag:void 0;t.exports=i},{"./_Symbol":3}],7:[function(e,t,a){function i(e){return r.call(e)}var n=Object.prototype,r=n.toString;t.exports=i},{}],8:[function(e,t,a){var i=e("./_freeGlobal"),n="object"==typeof self&&self&&self.Object===Object&&self,r=i||n||Function("return this")();t.exports=r},{"./_freeGlobal":5}],9:[function(e,t,a){var i=Array.isArray;t.exports=i},{}],10:[function(e,t,a){function i(e){return null!=e&&"object"==typeof e}t.exports=i},{}],11:[function(e,t,a){function i(e){return"string"==typeof e||!r(e)&&o(e)&&n(e)==l}var n=e("./_baseGetTag"),r=e("./isArray"),o=e("./isObjectLike"),l="[object String]";t.exports=i},{"./_baseGetTag":4,"./isArray":9,"./isObjectLike":10}],12:[function(e,t,a){function i(e){return void 0===e}t.exports=i},{}],13:[function(e,t,a){!function(e,a){"use strict";"object"==typeof t&&t.exports?t.exports=a():"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a):e.URI=a(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,a,i){"use strict";function n(e,t){var a=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof n))return a?i?new n(e,t):new n(e):new n;if(void 0===e){if(a)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function r(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return"Array"===o(e)}function s(e,t){var a,i,n={};if("RegExp"===o(t))n=null;else if(l(t))for(a=0,i=t.length;a<i;a++)n[t[a]]=!0;else n[t]=!0;for(a=0,i=e.length;a<i;a++){var r=n&&void 0!==n[e[a]]||!n&&t.test(e[a]);r&&(e.splice(a,1),i--,a--)}return e}function u(e,t){var a,i;if(l(t)){for(a=0,i=t.length;a<i;a++)if(!u(e,t[a]))return!1;return!0}var n=o(t);for(a=0,i=e.length;a<i;a++)if("RegExp"===n){if("string"==typeof e[a]&&e[a].match(t))return!0}else if(e[a]===t)return!0;return!1}function c(e,t){if(!l(e)||!l(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var a=0,i=e.length;a<i;a++)if(e[a]!==t[a])return!1;return!0}function m(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function b(e){return escape(e)}function p(e){return encodeURIComponent(e).replace(/[!'()*]/g,b).replace(/\*/g,"%2A")}function d(e){return function(t,a){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!a),this)}}function f(e,t){return function(a,i){return void 0===a?this._parts[e]||"":(null!==a&&(a+="",a.charAt(0)===t&&(a=a.substring(1))),this._parts[e]=a,this.build(!i),this)}}var g=i&&i.URI;n.version="1.18.4";var h=n.prototype,v=Object.prototype.hasOwnProperty;n._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:n.duplicateQueryParameters,escapeQuerySpace:n.escapeQuerySpace}},n.duplicateQueryParameters=!1,n.escapeQuerySpace=!0,n.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,n.idn_expression=/[^a-z0-9\.-]/i,n.punycode_expression=/(xn--)/i,n.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?������]))/gi,n.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?�������]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},n.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},n.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,n.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},n.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return n.domAttributes[t]}},n.encode=p,n.decode=decodeURIComponent,n.iso8859=function(){n.encode=escape,n.decode=unescape},n.unicode=function(){n.encode=p,n.decode=decodeURIComponent},n.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},n.encodeQuery=function(e,t){var a=n.encode(e+"");return void 0===t&&(t=n.escapeQuerySpace),t?a.replace(/%20/g,"+"):a},n.decodeQuery=function(e,t){e+="",void 0===t&&(t=n.escapeQuerySpace);try{return n.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var _,y={encode:"encode",decode:"decode"},A=function(e,t){return function(a){try{return n[t](a+"").replace(n.characters[e][t].expression,function(a){return n.characters[e][t].map[a]})}catch(e){return a}}};for(_ in y)n[_+"PathSegment"]=A("pathname",y[_]),n[_+"UrnPathSegment"]=A("urnpath",y[_]);var T=function(e,t,a){return function(i){var r;r=a?function(e){return n[t](n[a](e))}:n[t];for(var o=(i+"").split(e),l=0,s=o.length;l<s;l++)o[l]=r(o[l]);return o.join(e)}};n.decodePath=T("/","decodePathSegment"),n.decodeUrnPath=T(":","decodeUrnPathSegment"),n.recodePath=T("/","encodePathSegment","decode"),n.recodeUrnPath=T(":","encodeUrnPathSegment","decode"),n.encodeReserved=A("reserved","encode"),n.parse=function(e,t){var a;return t||(t={}),a=e.indexOf("#"),a>-1&&(t.fragment=e.substring(a+1)||null,e=e.substring(0,a)),a=e.indexOf("?"),a>-1&&(t.query=e.substring(a+1)||null,e=e.substring(0,a)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=n.parseAuthority(e,t)):(a=e.indexOf(":"),a>-1&&(t.protocol=e.substring(0,a)||null,t.protocol&&!t.protocol.match(n.protocol_expression)?t.protocol=void 0:"//"===e.substring(a+1,a+3)?(e=e.substring(a+3),e=n.parseAuthority(e,t)):(e=e.substring(a+1),t.urn=!0))),t.path=e,
t},n.parseHost=function(e,t){e=e.replace(/\\/g,"/");var a,i,n=e.indexOf("/");if(n===-1&&(n=e.length),"["===e.charAt(0))a=e.indexOf("]"),t.hostname=e.substring(1,a)||null,t.port=e.substring(a+2,n)||null,"/"===t.port&&(t.port=null);else{var r=e.indexOf(":"),o=e.indexOf("/"),l=e.indexOf(":",r+1);l!==-1&&(o===-1||l<o)?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},n.parseAuthority=function(e,t){return e=n.parseUserinfo(e,t),n.parseHost(e,t)},n.parseUserinfo=function(e,t){var a,i=e.indexOf("/"),r=e.lastIndexOf("@",i>-1?i:e.length-1);return r>-1&&(i===-1||r<i)?(a=e.substring(0,r).split(":"),t.username=a[0]?n.decode(a[0]):null,a.shift(),t.password=a[0]?n.decode(a.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},n.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var a,i,r,o={},l=e.split("&"),s=l.length,u=0;u<s;u++)a=l[u].split("="),i=n.decodeQuery(a.shift(),t),r=a.length?n.decodeQuery(a.join("="),t):null,v.call(o,i)?("string"!=typeof o[i]&&null!==o[i]||(o[i]=[o[i]]),o[i].push(r)):o[i]=r;return o},n.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=n.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},n.buildHost=function(e){var t="";return e.hostname?(t+=n.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},n.buildAuthority=function(e){return n.buildUserinfo(e)+n.buildHost(e)},n.buildUserinfo=function(e){var t="";return e.username&&(t+=n.encode(e.username)),e.password&&(t+=":"+n.encode(e.password)),t&&(t+="@"),t},n.buildQuery=function(e,t,a){var i,r,o,s,u="";for(r in e)if(v.call(e,r)&&r)if(l(e[r]))for(i={},o=0,s=e[r].length;o<s;o++)void 0!==e[r][o]&&void 0===i[e[r][o]+""]&&(u+="&"+n.buildQueryParameter(r,e[r][o],a),t!==!0&&(i[e[r][o]+""]=!0));else void 0!==e[r]&&(u+="&"+n.buildQueryParameter(r,e[r],a));return u.substring(1)},n.buildQueryParameter=function(e,t,a){return n.encodeQuery(e,a)+(null!==t?"="+n.encodeQuery(t,a):"")},n.addQuery=function(e,t,a){if("object"==typeof t)for(var i in t)v.call(t,i)&&n.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=a);"string"==typeof e[t]&&(e[t]=[e[t]]),l(a)||(a=[a]),e[t]=(e[t]||[]).concat(a)}},n.removeQuery=function(e,t,a){var i,r,u;if(l(t))for(i=0,r=t.length;i<r;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(u in e)t.test(u)&&(e[u]=void 0);else if("object"==typeof t)for(u in t)v.call(t,u)&&n.removeQuery(e,u,t[u]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==a?"RegExp"===o(a)?!l(e[t])&&a.test(e[t])?e[t]=void 0:e[t]=s(e[t],a):e[t]!==String(a)||l(a)&&1!==a.length?l(e[t])&&(e[t]=s(e[t],a)):e[t]=void 0:e[t]=void 0}},n.hasQuery=function(e,t,a,i){switch(o(t)){case"String":break;case"RegExp":for(var r in e)if(v.call(e,r)&&t.test(r)&&(void 0===a||n.hasQuery(e,r,a)))return!0;return!1;case"Object":for(var s in t)if(v.call(t,s)&&!n.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(a)){case"Undefined":return t in e;case"Boolean":var m=Boolean(l(e[t])?e[t].length:e[t]);return a===m;case"Function":return!!a(e[t],t,e);case"Array":if(!l(e[t]))return!1;var b=i?u:c;return b(e[t],a);case"RegExp":return l(e[t])?!!i&&u(e[t],a):Boolean(e[t]&&e[t].match(a));case"Number":a=String(a);case"String":return l(e[t])?!!i&&u(e[t],a):e[t]===a;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.joinPaths=function(){for(var e=[],t=[],a=0,i=0;i<arguments.length;i++){var r=new n(arguments[i]);e.push(r);for(var o=r.segment(),l=0;l<o.length;l++)"string"==typeof o[l]&&t.push(o[l]),o[l]&&a++}if(!t.length||!a)return new n("");var s=new n("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||s.path("/"+s.path()),s.normalize()},n.commonPath=function(e,t){var a,i=Math.min(e.length,t.length);for(a=0;a<i;a++)if(e.charAt(a)!==t.charAt(a)){a--;break}return a<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(a)&&"/"===t.charAt(a)||(a=e.substring(0,a).lastIndexOf("/")),e.substring(0,a+1))},n.withinString=function(e,t,a){a||(a={});var i=a.start||n.findUri.start,r=a.end||n.findUri.end,o=a.trim||n.findUri.trim,l=a.parens||n.findUri.parens,s=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var u=i.exec(e);if(!u)break;var c=u.index;if(a.ignoreHtml){var m=e.slice(Math.max(c-3,0),c);if(m&&s.test(m))continue}for(var b=c+e.slice(c).search(r),p=e.slice(c,b),d=-1;;){var f=l.exec(p);if(!f)break;var g=f.index+f[0].length;d=Math.max(d,g)}if(p=d>-1?p.slice(0,d)+p.slice(d+1).replace(o,""):p.replace(o,""),!a.ignore||!a.ignore.test(p)){b=c+p.length;var h=t(p,c,b,e);void 0!==h?(h=String(h),e=e.slice(0,c)+h+e.slice(b),i.lastIndex=c+h.length):i.lastIndex=b}}return i.lastIndex=0,e},n.ensureValidHostname=function(t){if(t.match(n.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(n.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},n.noConflict=function(e){if(e){var t={URI:this.noConflict()};return i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(t.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(t.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=i.SecondLevelDomains.noConflict()),t}return i.URI===this&&(i.URI=g),this},h.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=n.build(this._parts),this._deferred_build=!1),this},h.clone=function(){return new n(this)},h.valueOf=h.toString=function(){return this.build(!1)._string},h.protocol=d("protocol"),h.username=d("username"),h.password=d("password"),h.hostname=d("hostname"),h.port=d("port"),h.query=f("query","?"),h.fragment=f("fragment","#"),h.search=function(e,t){var a=this.query(e,t);return"string"==typeof a&&a.length?"?"+a:a},h.hash=function(e,t){var a=this.fragment(e,t);return"string"==typeof a&&a.length?"#"+a:a},h.pathname=function(e,t){if(void 0===e||e===!0){var a=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?n.decodeUrnPath:n.decodePath)(a):a}return this._parts.urn?this._parts.path=e?n.recodeUrnPath(e):"":this._parts.path=e?n.recodePath(e):"/",this.build(!t),this},h.path=h.pathname,h.href=function(e,t){var a;if(void 0===e)return this.toString();this._string="",this._parts=n._parts();var i=e instanceof n,r="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var o=n.getDomAttribute(e);e=e[o]||"",r=!1}if(!i&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=n.parse(String(e),this._parts);else{if(!i&&!r)throw new TypeError("invalid input");var l=i?e._parts:e;for(a in l)v.call(this._parts,a)&&(this._parts[a]=l[a])}return this.build(!t),this},h.is=function(e){var t=!1,i=!1,r=!1,o=!1,l=!1,s=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,i=n.ip4_expression.test(this._parts.hostname),r=n.ip6_expression.test(this._parts.hostname),t=i||r,o=!t,l=o&&a&&a.has(this._parts.hostname),s=o&&n.idn_expression.test(this._parts.hostname),u=o&&n.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return l;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return r;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var k=h.protocol,w=h.port,I=h.hostname;h.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(n.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return k.call(this,e,t)},h.scheme=h.protocol,h.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return w.call(this,e,t)},h.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var a={},i=n.parseHost(e,a);if("/"!==i)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=a.hostname}return I.call(this,e,t)},h.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var a=this.protocol(),i=this.authority();return i?(a?a+"://":"")+this.authority():""}var r=n(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},h.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?n.buildHost(this._parts):"";var a=n.parseHost(e,this._parts);if("/"!==a)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},h.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?n.buildAuthority(this._parts):"";var a=n.parseAuthority(e,this._parts);if("/"!==a)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},h.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var a=n.buildUserinfo(this._parts);return a?a.substring(0,a.length-1):a}return"@"!==e[e.length-1]&&(e+="@"),n.parseUserinfo(e,this._parts),this.build(!t),this},h.resource=function(e,t){var a;return void 0===e?this.path()+this.search()+this.hash():(a=n.parse(e),this._parts.path=a.path,this._parts.query=a.query,this._parts.fragment=a.fragment,this.build(!t),this)},h.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,a)||""}var i=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,i),l=new RegExp("^"+r(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&n.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(l,e),this.build(!t),this},h.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.match(/\./g);if(a&&a.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(n.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(r(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},h.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),n=this._parts.hostname.substring(i+1);return t!==!0&&a&&a.list[n.toLowerCase()]?a.get(this._parts.hostname)||n:n}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!a||!a.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(r(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},h.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var a=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,a)||(this._parts.hostname?"/":"");return e?n.decodePath(i):i}var o=this._parts.path.length-this.filename().length,l=this._parts.path.substring(0,o),s=new RegExp("^"+r(l));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=n.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},h.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var a=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(a+1);return e?n.decodePathSegment(i):i}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var l=new RegExp(r(this.filename())+"$");return e=n.recodePath(e),this._parts.path=this._parts.path.replace(l,e),o?this.normalizePath(t):this.build(!t),this},h.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var a,i,o=this.filename(),l=o.lastIndexOf(".");return l===-1?"":(a=o.substring(l+1),i=/^[a-z0-9%]+$/i.test(a)?a:"",e?n.decodePathSegment(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var s,u=this.suffix();if(u)s=e?new RegExp(r(u)+"$"):new RegExp(r("."+u)+"$");else{if(!e)return this;this._parts.path+="."+n.recodePath(e)}return s&&(e=n.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},h.segment=function(e,t,a){var i=this._parts.urn?":":"/",n=this.path(),r="/"===n.substring(0,1),o=n.split(i);if(void 0!==e&&"number"!=typeof e&&(a=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(r&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(l(t)){o=[];for(var s=0,u=t.length;s<u;s++)(t[s].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(m(t[s])))}else(t||"string"==typeof t)&&(t=m(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=m(t):o.splice(e,1);return r&&o.unshift(""),this.path(o.join(i),a)},h.segmentCoded=function(e,t,a){var i,r,o;if("number"!=typeof e&&(a=t,t=e,e=void 0),void 0===t){if(i=this.segment(e,t,a),l(i))for(r=0,o=i.length;r<o;r++)i[r]=n.decode(i[r]);else i=void 0!==i?n.decode(i):void 0;return i}if(l(t))for(r=0,o=t.length;r<o;r++)t[r]=n.encode(t[r]);else t="string"==typeof t||t instanceof String?n.encode(t):t;return this.segment(e,t,a)};var D=h.query;return h.query=function(e,t){if(e===!0)return n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var a=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,a);return this._parts.query=n.buildQuery(i||a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=n.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):D.call(this,e,t)},h.setQuery=function(e,t,a){var i=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)v.call(e,r)&&(i[r]=e[r])}return this._parts.query=n.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(a=t),this.build(!a),this},h.addQuery=function(e,t,a){var i=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.addQuery(i,e,void 0===t?null:t),this._parts.query=n.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(a=t),this.build(!a),this},h.removeQuery=function(e,t,a){var i=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.removeQuery(i,e,t),this._parts.query=n.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(a=t),this.build(!a),this},h.hasQuery=function(e,t,a){var i=n.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return n.hasQuery(i,e,t,a)},h.setSearch=h.setQuery,h.addSearch=h.addQuery,h.removeSearch=h.removeQuery,h.hasSearch=h.hasQuery,h.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},h.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},h.normalizeHostname=function(a){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a)),this},h.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===n.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},h.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=n.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=n.recodePath(t);var a,i,r,o="";for("/"!==t.charAt(0)&&(a=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),a&&(o=t.substring(1).match(/^(\.\.\/)+/)||"",o&&(o=o[0]));;){if(i=t.search(/\/\.\.(\/|$)/),i===-1)break;0!==i?(r=t.substring(0,i).lastIndexOf("/"),r===-1&&(r=i),t=t.substring(0,r)+t.substring(i+3)):t=t.substring(3)}return a&&this.is("relative")&&(t=o+t.substring(1)),this._parts.path=t,this.build(!e),this},h.normalizePathname=h.normalizePath,h.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(n.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},h.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},h.normalizeSearch=h.normalizeQuery,h.normalizeHash=h.normalizeFragment,h.iso8859=function(){var e=n.encode,t=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},h.unicode=function(){var e=n.encode,t=n.decode;n.encode=p,n.decode=unescape;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},h.readable=function(){var t=this.clone();t.username("").password("").normalize();var a="";if(t._parts.protocol&&(a+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(a+=e.toUnicode(t._parts.hostname),t._parts.port&&(a+=":"+t._parts.port)):a+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(a+="/"),a+=t.path(!0),t._parts.query){for(var i="",r=0,o=t._parts.query.split("&"),l=o.length;r<l;r++){var s=(o[r]||"").split("=");i+="&"+n.decodeQuery(s[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==s[1]&&(i+="="+n.decodeQuery(s[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}a+="?"+i.substring(1)}return a+=n.decodeQuery(t.hash(),!0)},h.absoluteTo=function(e){var t,a,i,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof n||(e=new n(e)),r._parts.protocol||(r._parts.protocol=e._parts.protocol),this._parts.hostname)return r;for(a=0;i=o[a];a++)r._parts[i]=e._parts[i];return r._parts.path?(".."===r._parts.path.substring(-2)&&(r._parts.path+="/"),"/"!==r.path().charAt(0)&&(t=e.directory(),t=t?t:0===e.path().indexOf("/")?"/":"",r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath())):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),r.build(),r},h.relativeTo=function(e){var t,a,i,r,o,l=this.clone().normalize();if(l._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new n(e).normalize(),t=l._parts,a=e._parts,r=l.path(),o=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===a.protocol&&(t.protocol=null),t.username!==a.username||t.password!==a.password)return l.build();if(null!==t.protocol||null!==t.username||null!==t.password)return l.build();if(t.hostname!==a.hostname||t.port!==a.port)return l.build();if(t.hostname=null,t.port=null,r===o)return t.path="",l.build();if(i=n.commonPath(r,o),!i)return l.build();var s=a.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=s+t.path.substring(i.length)||"./",l.build()},h.equals=function(e){var t,a,i,r=this.clone(),o=new n(e),s={},u={},m={};if(r.normalize(),o.normalize(),r.toString()===o.toString())return!0;if(t=r.query(),a=o.query(),r.query(""),o.query(""),r.toString()!==o.toString())return!1;if(t.length!==a.length)return!1;s=n.parseQuery(t,this._parts.escapeQuerySpace),u=n.parseQuery(a,this._parts.escapeQuerySpace);for(i in s)if(v.call(s,i)){if(l(s[i])){if(!c(s[i],u[i]))return!1}else if(s[i]!==u[i])return!1;m[i]=!0}for(i in u)if(v.call(u,i)&&!m[i])return!1;return!0},h.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},h.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},n})},{}],14:[function(e,t,a){(function(e){var t="undefined"!=typeof window?window.ko:"undefined"!=typeof e?e.ko:null;t.bindingHandlers.checkbox={init:function(e,a){var i=$(e),n=function(e){setTimeout(function(){var i=$(e.target),n=a(),r=i.val(),o=i.parent().hasClass("active");if(!i.prop("disbled"))if(t.unwrap(n)instanceof Array){var l=t.utils.arrayIndexOf(t.unwrap(n),r);o&&l===-1?n.push(r):o||l===-1||n.splice(l,1)}else n(o)},0)};if("buttons"===i.attr("data-toggle")&&i.find("input:checkbox").length){if(!(t.unwrap(a())instanceof Array))throw new Error("checkbox binding should be used only with array or observableArray values in this case");i.on("change","input:checkbox",n)}else{if("checkbox"!==i.attr("type"))throw new Error("checkbox binding should be used only with bootstrap checkboxes");if(!t.isObservable(a()))throw new Error("checkbox binding should be used only with observable values in this case");i.on("change",n)}},update:function(e,a){var i,n=$(e),r=t.unwrap(a());r instanceof Array?"buttons"===n.attr("data-toggle")?n.find("input:checkbox").each(function(e,a){i=t.utils.arrayIndexOf(r,a.value)!==-1,$(a).parent().toggleClass("active",i),a.checked=i}):(i=t.utils.arrayIndexOf(r,n.val())!==-1,n.toggleClass("active",i),n.find("input").prop("checked",i)):(i=!!r,n.prop("checked",i),n.parent().toggleClass("active",i))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,a){(function(e){var t="undefined"!=typeof window?window.ko:"undefined"!=typeof e?e.ko:null;t.bindingHandlers.radio={init:function(e,a){if(!t.isObservable(a()))throw new Error("radio binding should be used only with observable values");$(e).on("change","input:radio",function(e){setTimeout(function(){var t=$(e.target),i=a(),n=t.val();t.prop("disabled")||i(n)},0)})},update:function(e,a){var i,n=t.unwrap(a())||"",r=$(e).find('input[value="'+n.replace(/"/g,'\\"')+'"]');r.length?(i=r.parent(),i.siblings().removeClass("active"),i.addClass("active"),r.prop("checked",!0)):(i=$(e).find(".active"),i.removeClass("active"),i.find("input").prop("checked",!1))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,a){(function(t){var a="undefined"!=typeof window?window.ko:"undefined"!=typeof t?t.ko:null,i=e("urijs"),n=e("lodash/isString"),r=e("lodash/isUndefined");a.extenders.urlSync=function(e,t){if(t=n(t)?{param:t}:t||{},t.read=t.read||function(e){return e},t.write=t.write||function(e){return e},r(t.param))return e;var a=new i,o=a.query(!0)[t.param];if(!r(o)){var l=t.read(o);e(l),a.setSearch(t.param,t.write(l)),window.history.replaceState({},"",a.toString())}return e.subscribe(function(e){var a=new i,n=t.write(e);a.setSearch(t.param,n),window.history.replaceState({},"",a.toString())}),e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash/isString":11,"lodash/isUndefined":12,urijs:13}],17:[function(e,t,a){(function(a){var i="undefined"!=typeof window?window.$:"undefined"!=typeof a?a.$:null,n="undefined"!=typeof window?window.ko:"undefined"!=typeof a?a.ko:null,r=e("dota-hero-calculator-library/src/herocalc/hero/HeroModel"),o=e("dota-hero-calculator-library/src/herocalc/hero/heroOptionsArray"),l=e("bit-array-js"),s=e("urijs"),u=e("./slider"),c=e("./responsivevoice");e("./ko.bindingHandlers.checkbox"),e("./ko.bindingHandlers.radio"),e("./ko.extenders.urlSync");var m=function(){function e(e,t){return Math.floor(Math.random()*(t-e+1))+e}function t(e){for(var t,a,i=e.length;i>0;)a=Math.floor(Math.random()*i),i--,t=e[i],e[i]=e[a],e[a]=t;return e}function a(e,t){return e.hasOwnProperty(t)?e[t]():e.heroData()[t]}function m(e){switch(e){case"agi":return"Agility";case"str":return"Strength";case"int":return"Intelligence"}return parseFloat(parseFloat(e).toFixed(2)).toString()}function b(e){return HeroCalcData.heroData["npc_dota_hero_"+e].HeroID}function p(){for(var e=[],t=0;t<k.length;t++)for(var a=0;a<25;a++)for(var i=0;i<y.length;i++){var n={id:t*k.length+25*a+i,kind:"attributes",hero:k[t],name:y[i],level:a+1};e.push(n)}for(var r=k.length*y.length*25,t=0;t<k.length;t++)for(var o=k[t],l=A["npc_dota_hero_"+o].abilities,a=0;a<l.length;a++){var s=l[a];if("Attribute Bonus"!==s.displayname&&""!==s.displayname&&"Empty"!==s.displayname){for(var u=w.getAbilityLevelMax(s),i=0;i<s.attributes.length;i++){var c=s.attributes[i];if(c.hasOwnProperty("tooltip"))for(var m=0;m<u;m++)e.push({id:r,kind:"abilities",hero:o,name:s.name,property:c.name,level:m+1}),r++}for(var b=0;b<u;b++)e.push({id:r,kind:"abilities",hero:o,name:s.name,property:"cooldown",level:b+1}),r++;for(var p=0;p<u;p++)e.push({id:r,kind:"abilities",hero:o,name:s.name,property:"manacost",level:p+1}),r++}}return e}function d(e,t,a,i,n,r){return e.filter(function(e){if(t.indexOf(e.hero)===-1)return!1;switch(e.kind){case"attributes":return e.level>=i&&e.level<=n&&a.indexOf(e.name)!==-1;case"abilities":switch(e.property){case"manacost":case"cooldown":return r.indexOf(e.property)!==-1;default:return r.indexOf("attributes")!==-1}}})}function f(e){var t=A["npc_dota_hero_"+e.hero].displayname;switch(e.kind){case"attributes":return"Level "+e.level+"<br>"+t+"<br>"+_.filter(function(t){return t.id==e.name})[0].name;case"abilities":var a=A["npc_dota_hero_"+e.hero].abilities.filter(function(t){return t.name==e.name})[0];switch(e.property){case"manacost":tooltip="Mana Cost";break;case"cooldown":tooltip="Cooldown";break;default:var i=a.attributes.filter(function(t){return t.name==e.property})[0];tooltip=i.tooltip}return":"==tooltip.slice(-1)&&(tooltip=tooltip.slice(0,-1)),t+"<br>"+a.displayname+"<br>Level "+e.level+"<br>"+tooltip}}function g(e){switch(w.heroId(e.hero),e.kind){case"attributes":return w.selectedHeroLevel(e.level),m(a(w,e.name));case"abilities":var t,i=A["npc_dota_hero_"+e.hero].abilities.filter(function(t){return t.name==e.name})[0];switch(e.property){case"manacost":case"cooldown":t=i[e.property];break;default:var n=i.attributes.filter(function(t){return t.name==e.property})[0];t=n.value}if(e.level>t.length)var r=t[0];else var r=t[Math.max(0,e.level-1)];return m(r)}}function h(e){return e.toString().replace(/<br>/g," ").replace(/Avg/g,"Average").replace(/Shaman/g,"Shahman").replace(/Techies/g,"Tekkies").replace(/Alchemist/g,"Alkemist").replace(/Jakiro/g,"Jah-keer-roe").replace(/Huskar/g,"Husk-R").replace(/Omniknight/g,"Omni-knight").replace(/Aphotic/g,"Afotic").replace(/Avernus/g,"Ahvernus").replace(/Malefice/g,"Malifice").replace(/Chronosphere/g,"Chrohnosphere").replace(/Omnislash/g,"Omni-slash").replace(/Degen Aura/g,"D-gen Aura").replace(/Coup de Grace/g,"Coup de Grahs").replace(/Squad, Attack!/g,"Squad Attack!").replace(/Sigil/g,"Frozen Sijhil").replace(/Grave Chill/g,"Graiyv Chill").replace(/Familiars/g,"Familiarz.")}function v(){var a=this;this.attributes=n.observableArray(_),this.heroes=T.sort(function(e,t){return e.heroDisplayName<t.heroDisplayName?-1:e.heroDisplayName>t.heroDisplayName?1:0});var i=new s;this.selectedAttributesBitArray=new l(32),this.selectedAttributesBitArray.fromBase64UrlSafe(i.query(!0).attributes),this.selectedAttributes=n.observableArray(a.attributes().map(function(e){return e.id}).filter(function(e,t){return a.selectedAttributesBitArray.value(t)})).extend({deferred:!0}),this.selectedAttributes.subscribe(function(e){e.forEach(function(e){if("added"===e.status||"deleted"===e.status)for(var t=0;t<a.attributes().length;t++){var i=a.attributes()[t];if(i.id==e.value){a.selectedAttributesBitArray.value(t,"added"===e.status);break}}}),i.setSearch("attributes",a.selectedAttributesBitArray.toBase64UrlSafe()),window.history.replaceState({},"",i.toString())},null,"arrayChange"),this.selectedHeroesBitArray=new l(128),this.selectedHeroesBitArray.fromBase64UrlSafe(i.query(!0).heroes),this.selectedHeroes=n.observableArray(this.heroes.map(function(e){return e.heroName}).filter(function(e){return a.selectedHeroesBitArray.value(b(e))})).extend({deferred:!0}),this.selectedHeroes.subscribe(function(e){e.forEach(function(e){"added"!==e.status&&"deleted"!==e.status||a.selectedHeroesBitArray.value(b(e.value),"added"===e.status)}),i.setSearch("heroes",a.selectedHeroesBitArray.toBase64UrlSafe()),window.history.replaceState({},"",i.toString())},null,"arrayChange"),this.deck=[],this.card=null,this.state=n.observable(0),this.text=n.observable("<i>Tap to start</i>"),this.textToSpeech=n.observable(!1).extend({urlSync:{param:"speech",read:function(e){return 0!=e&&"false"!==e}}}),this.minLevel=n.observable(1).extend({numeric:{defaultValue:1},urlSync:{param:"minlevel",read:function(e){return parseInt(e)}}}),this.minLevel.subscribe(function(e){parseInt(e)>parseInt(a.maxLevel())&&a.maxLevel(a.minLevel())}),this.maxLevel=n.observable(1).extend({numeric:{defaultValue:1},urlSync:{param:"maxlevel",read:function(e){return parseInt(e)}}}),this.maxLevel.subscribe(function(e){parseInt(e)<parseInt(a.minLevel())&&a.minLevel(a.maxLevel())}),this.reset=function(){this.state(0),this.stats.correct(0),this.stats.wrong(0),this.card&&this.deck.push(this.card),this.card=null,this.text("<i>Tap to start</i>")},this.isWrong=n.observable(!1),this.run=function(){if(!this.deck.length&&!this.card)return void alert("No heroes or attributes selected.");if(0===this.state()){if(this.card){var t;switch(this.drawStrategy()){case"back":t=0;break;case"random":t=Math.floor(Math.random()*this.deck.length);break;case"training":var a=Math.min(this.deck.length,5),i=Math.min(this.deck.length,10);t=this.isWrong()?this.deck.length-e(a,i):e(0,this.deck.length-i)}this.deck.splice(t,0,this.card),this.isWrong()?this.stats.wrong(this.stats.wrong()+1):this.stats.correct(this.stats.correct()+1)}this.card=this.deck.pop(),this.text(f(this.card)),this.isWrong(!1)}else 1===this.state()&&this.text(g(this.card));this.state((this.state()+1)%2),this.textToSpeech()?c.speak(h(this.text()),"US English Female",{
onend:this.loop}):this.loop()},this.loop=function(){a.autoPlay()&&"#home"===a.activeTab()&&(clearTimeout(a.autoPlayInterval),a.autoPlayInterval=setTimeout(function(){a.slider.next()},a.autoPlayDelay()))},this.selectAllHeroes=function(){a.selectedHeroes(a.heroes.map(function(e){return e.heroName}))},this.deselectAllHeroes=function(){this.selectedHeroes.removeAll()},this.selectAllAttributes=function(){a.selectedAttributes(a.attributes().map(function(e){return e.id}))},this.deselectAllAttributes=function(){this.selectedAttributes.removeAll()},this.correct=function(){clearTimeout(this.autoPlayInterval),this.run()},this.wrong=function(){clearTimeout(this.autoPlayInterval),this.isWrong(!0),this.slider.next()},this.infoBarVisible=n.observable(!0).extend({urlSync:{param:"infobar",read:function(e){return 0!=e&&"false"!==e}}}),this.autoPlay=n.observable(!1).extend({urlSync:{param:"autoplay",read:function(e){return 0!=e&&"false"!==e}}}),this.autoPlayDelay=n.observable(3e3).extend({numeric:{defaultValue:3e3},urlSync:{param:"autodelay",read:function(e){return parseInt(e)}}}),this.autoPlayInterval,this.autoPlay.subscribe(function(e){e||clearTimeout(a.autoPlayInterval)}),this.drawStrategy=n.observable("training").extend({urlSync:{param:"shuffle",read:function(e){return e=e.toLowerCase(),["training","back","random"].indexOf(e)!==-1?e:"training"}}}),this.questionTypes=n.observableArray(["attributes"]).extend({urlSync:{param:"categories",read:function(e){return e=[].concat(e).map(function(e){return e.toLowerCase()}).filter(function(e){return["attributes","abilities"].indexOf(e)!==-1}),e.length?e:["attributes"]}}}),this.questionTypes.subscribe(function(e){if(0===a.questionTypes().length){var t=[];e.forEach(function(e){"deleted"===e.status&&t.push(e.value)}),a.questionTypes(t)}},null,"arrayChange"),this.abilityQuestionTypes=n.observableArray(["attributes"]).extend({urlSync:{param:"abilities",read:function(e){return e=[].concat(e).map(function(e){return e.toLowerCase()}).filter(function(e){return["attributes","cooldown","manacost"].indexOf(e)!==-1}),e.length?e:["abilities"]}}}),this.abilityQuestionTypes.subscribe(function(e){if(0===a.abilityQuestionTypes().length){var t=[];e.forEach(function(e){"deleted"===e.status&&t.push(e.value)}),a.abilityQuestionTypes(t)}},null,"arrayChange"),this.abilityQuestionTypesVisible=n.computed(function(){return a.questionTypes().indexOf("abilities")!==-1}),this.stats={deck:n.observable(0),correct:n.observable(0),wrong:n.observable(0)},this.deckSettingsState="",this.serializeDeckSettings=function(){return n.toJSON({heroes:a.selectedHeroesBitArray.toBase64UrlSafe(),attributes:a.selectedAttributesBitArray.toBase64UrlSafe(),minLevel:a.minLevel(),maxLevel:a.maxLevel(),autoPlay:a.autoPlay(),autoPlayDelay:a.autoPlayDelay(),drawStrategy:a.drawStrategy(),questionTypes:a.questionTypes(),abilityQuestionTypes:a.abilityQuestionTypes()})},this.updateDeck=function(){var e=this.questionTypes.indexOf("attributes")!==-1?this.selectedAttributes():[],a=this.questionTypes.indexOf("abilities")!==-1?this.abilityQuestionTypes():[];this.reset(),this.deck=t(d(I,this.selectedHeroes(),e,parseInt(this.minLevel()),parseInt(this.maxLevel()),a)),this.deckSettingsState=this.serializeDeckSettings(),this.stats.deck(this.deck.length)},this.updateDeck(),this.shuffleDeck=function(){this.reset(),this.deck=t(this.deck)},this.slider=new u("#slider",{onPanStart:function(){clearTimeout(a.autoPlayInterval)},onGoTo:function(e){e?a.correct():a.loop()}}),this.activeTab=n.observable("#home")}var _=[{id:"totalArmorPhysical",name:"Armor"},{id:"totalArmorPhysicalReduction",name:"Physical Damage Reduction"},{id:"totalMagicResistance",name:"Magic Resistance"},{id:"totalattackrange",name:"Attack Range"},{id:"totalAgi",name:"Agility"},{id:"totalInt",name:"Intelligence"},{id:"totalStr",name:"Strength"},{id:"health",name:"HP"},{id:"mana",name:"Mana"},{id:"healthregen",name:"HP Regeneration"},{id:"manaregen",name:"Mana Regeneration"},{id:"totalMovementSpeed",name:"Movement Speed"},{id:"totalTurnRate",name:"Turn Rate"},{id:"baseDamageMin",name:"Attack Damage Min"},{id:"baseDamageMax",name:"Attack Damage Max"},{id:"baseDamageAvg",name:"Attack Damage Avg"},{id:"ehpPhysical",name:"EHP"},{id:"ehpMagical",name:"Magical EHP"},{id:"primaryAttribute",name:"Primary Attribute"},{id:"projectilespeed",name:"Missile Speed"},{id:"attributeagilitygain",name:"Agility Gain"},{id:"attributestrengthgain",name:"Strength Gain"},{id:"attributeintelligencegain",name:"Intelligence Gain"},{id:"attributebaseagility",name:"Base Agility"},{id:"attributebaseintelligence",name:"Base Intelligence"},{id:"attributebasestrength",name:"Base Strength"},{id:"visionrangeday",name:"Day Vision Range"},{id:"visionrangenight",name:"Night Vision Range"}],y=_.map(function(e){return e.id}),A=HeroCalcData.heroData,T=o.init(HeroCalcData.heroData),k=T.map(function(e){return e.heroName}),w=new r(HeroCalcData.heroData,HeroCalcData.itemData,"abaddon"),I=p(),D=new v;n.applyBindings(D),i('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=i(e.target).attr("href");D.activeTab(t),"#home"===t?D.serializeDeckSettings()!==D.deckSettingsState&&D.updateDeck():clearTimeout(D.autoPlayInterval)})};t.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ko.bindingHandlers.checkbox":14,"./ko.bindingHandlers.radio":15,"./ko.extenders.urlSync":16,"./responsivevoice":18,"./slider":19,"bit-array-js":1,"dota-hero-calculator-library/src/herocalc/hero/HeroModel":27,"dota-hero-calculator-library/src/herocalc/hero/heroOptionsArray":30,urijs:13}],18:[function(require,module,exports){if("undefined"!=typeof responsiveVoice);else var ResponsiveVoice=function(){var a=this;a.version="1.5.0",a.responsivevoices=[{name:"UK English Female",flag:"gb",gender:"f",voiceIDs:[3,5,1,6,7,171,201,8]},{name:"UK English Male",flag:"gb",gender:"m",voiceIDs:[0,4,2,75,202,159,6,7]},{name:"US English Female",flag:"us",gender:"f",voiceIDs:[39,40,41,42,43,173,205,204,235,44]},{name:"Arabic Male",flag:"ar",gender:"m",voiceIDs:[96,95,97,196,98],deprecated:!0},{name:"Arabic Female",flag:"ar",gender:"f",voiceIDs:[96,95,97,196,98]},{name:"Armenian Male",flag:"hy",gender:"f",voiceIDs:[99]},{name:"Australian Female",flag:"au",gender:"f",voiceIDs:[87,86,5,201,88]},{name:"Brazilian Portuguese Female",flag:"br",gender:"f",voiceIDs:[245,124,123,125,186,223,126]},{name:"Chinese Female",flag:"cn",gender:"f",voiceIDs:[249,58,59,60,155,191,231,61]},{name:"Chinese (Hong Kong) Female",flag:"hk",gender:"f",voiceIDs:[192,193,232,250,251,252]},{name:"Chinese Taiwan Female",flag:"tw",gender:"f",voiceIDs:[252,194,233,253,254,255]},{name:"Czech Female",flag:"cz",gender:"f",voiceIDs:[101,100,102,197,103]},{name:"Danish Female",flag:"dk",gender:"f",voiceIDs:[105,104,106,198,107]},{name:"Deutsch Female",flag:"de",gender:"f",voiceIDs:[27,28,29,30,31,78,170,199,32]},{name:"Dutch Female",flag:"nl",gender:"f",voiceIDs:[243,219,84,157,158,184,45]},{name:"Finnish Female",flag:"fi",gender:"f",voiceIDs:[90,89,91,209,92]},{name:"French Female",flag:"fr",gender:"f",voiceIDs:[240,21,22,23,77,178,210,26]},{name:"Greek Female",flag:"gr",gender:"f",voiceIDs:[62,63,80,200,64]},{name:"Hatian Creole Female",flag:"ht",gender:"f",voiceIDs:[109]},{name:"Hindi Female",flag:"hi",gender:"f",voiceIDs:[247,66,154,179,213,67]},{name:"Hungarian Female",flag:"hu",gender:"f",voiceIDs:[9,10,81,214,11]},{name:"Indonesian Female",flag:"id",gender:"f",voiceIDs:[241,111,112,180,215,113]},{name:"Italian Female",flag:"it",gender:"f",voiceIDs:[242,33,34,35,36,37,79,181,216,38]},{name:"Japanese Female",flag:"jp",gender:"f",voiceIDs:[248,50,51,52,153,182,217,53]},{name:"Korean Female",flag:"kr",gender:"f",voiceIDs:[54,55,56,156,183,218,57]},{name:"Latin Female",flag:"va",gender:"f",voiceIDs:[114]},{name:"Norwegian Female",flag:"no",gender:"f",voiceIDs:[72,73,221,74]},{name:"Polish Female",flag:"pl",gender:"f",voiceIDs:[244,120,119,121,185,222,122]},{name:"Portuguese Female",flag:"br",gender:"f",voiceIDs:[128,127,129,187,224,130]},{name:"Romanian Male",flag:"ro",gender:"m",voiceIDs:[151,150,152,225,46]},{name:"Russian Female",flag:"ru",gender:"f",voiceIDs:[246,47,48,83,188,226,49]},{name:"Slovak Female",flag:"sk",gender:"f",voiceIDs:[133,132,134,227,135]},{name:"Spanish Female",flag:"es",gender:"f",voiceIDs:[19,238,16,17,18,20,76,174,207,15]},{name:"Spanish Latin American Female",flag:"es",gender:"f",voiceIDs:[239,137,136,138,175,208,139]},{name:"Swedish Female",flag:"sv",gender:"f",voiceIDs:[85,148,149,228,65]},{name:"Tamil Male",flag:"hi",gender:"m",voiceIDs:[141]},{name:"Thai Female",flag:"th",gender:"f",voiceIDs:[143,142,144,189,229,145]},{name:"Turkish Female",flag:"tr",gender:"f",voiceIDs:[69,70,82,190,230,71]},{name:"Afrikaans Male",flag:"af",gender:"m",voiceIDs:[93]},{name:"Albanian Male",flag:"sq",gender:"m",voiceIDs:[94]},{name:"Bosnian Male",flag:"bs",gender:"m",voiceIDs:[14]},{name:"Catalan Male",flag:"catalonia",gender:"m",voiceIDs:[68]},{name:"Croatian Male",flag:"hr",gender:"m",voiceIDs:[13]},{name:"Czech Male",flag:"cz",gender:"m",voiceIDs:[161]},{name:"Danish Male",flag:"da",gender:"m",voiceIDs:[162],deprecated:!0},{name:"Esperanto Male",flag:"eo",gender:"m",voiceIDs:[108]},{name:"Finnish Male",flag:"fi",gender:"m",voiceIDs:[160],deprecated:!0},{name:"Greek Male",flag:"gr",gender:"m",voiceIDs:[163],deprecated:!0},{name:"Hungarian Male",flag:"hu",gender:"m",voiceIDs:[164]},{name:"Icelandic Male",flag:"is",gender:"m",voiceIDs:[110]},{name:"Latin Male",flag:"va",gender:"m",voiceIDs:[165],deprecated:!0},{name:"Latvian Male",flag:"lv",gender:"m",voiceIDs:[115]},{name:"Macedonian Male",flag:"mk",gender:"m",voiceIDs:[116]},{name:"Moldavian Male",flag:"md",gender:"m",voiceIDs:[117]},{name:"Montenegrin Male",flag:"me",gender:"m",voiceIDs:[118]},{name:"Norwegian Male",flag:"no",gender:"m",voiceIDs:[166]},{name:"Serbian Male",flag:"sr",gender:"m",voiceIDs:[12]},{name:"Serbo-Croatian Male",flag:"hr",gender:"m",voiceIDs:[131]},{name:"Slovak Male",flag:"sk",gender:"m",voiceIDs:[167],deprecated:!0},{name:"Swahili Male",flag:"sw",gender:"m",voiceIDs:[140]},{name:"Swedish Male",flag:"sv",gender:"m",voiceIDs:[168],deprecated:!0},{name:"Vietnamese Male",flag:"vi",gender:"m",voiceIDs:[146],deprecated:!0},{name:"Welsh Male",flag:"cy",gender:"m",voiceIDs:[147]},{name:"US English Male",flag:"us",gender:"m",voiceIDs:[0,4,2,6,7,75,159,234,236,237]},{name:"Fallback UK Female",flag:"gb",gender:"f",voiceIDs:[8]}],a.voicecollection=[{name:"Google UK English Male"},{name:"Agnes"},{name:"Daniel Compact"},{name:"Google UK English Female"},{name:"en-GB",rate:.25,pitch:1},{name:"en-AU",rate:.25,pitch:1},{name:"inglés Reino Unido"},{name:"English United Kingdom"},{name:"Fallback en-GB Female",lang:"en-GB",fallbackvoice:!0},{name:"Eszter Compact"},{name:"hu-HU",rate:.4},{name:"Fallback Hungarian",lang:"hu",fallbackvoice:!0,service:"g2"},{name:"Fallback Serbian",lang:"sr",fallbackvoice:!0},{name:"Fallback Croatian",lang:"hr",fallbackvoice:!0},{name:"Fallback Bosnian",lang:"bs",fallbackvoice:!0},{name:"Fallback Spanish",lang:"es",fallbackvoice:!0},{name:"Spanish Spain"},{name:"español España"},{name:"Diego Compact",rate:.3},{name:"Google Español"},{name:"es-ES",rate:.2},{name:"Google Français"},{name:"French France"},{name:"francés Francia"},{name:"Virginie Compact",rate:.5},{name:"fr-FR",rate:.25},{name:"Fallback French",lang:"fr",fallbackvoice:!0},{name:"Google Deutsch"},{name:"German Germany"},{name:"alemán Alemania"},{name:"Yannick Compact",rate:.5},{name:"de-DE",rate:.25},{name:"Fallback Deutsch",lang:"de",fallbackvoice:!0},{name:"Google Italiano"},{name:"Italian Italy"},{name:"italiano Italia"},{name:"Paolo Compact",rate:.5},{name:"it-IT",rate:.25},{name:"Fallback Italian",lang:"it",fallbackvoice:!0},{name:"Google US English",timerSpeed:1},{name:"English United States"},{name:"inglés Estados Unidos"},{name:"Vicki"},{name:"en-US",rate:.2,pitch:1,timerSpeed:1.3},{name:"Fallback English",lang:"en-US",fallbackvoice:!0,timerSpeed:0},{name:"Fallback Dutch",lang:"nl",fallbackvoice:!0,timerSpeed:0},{name:"Fallback Romanian",lang:"ro",fallbackvoice:!0},{name:"Milena Compact"},{name:"ru-RU",rate:.25},{name:"Fallback Russian",lang:"ru",fallbackvoice:!0},{name:"Google 日本人",timerSpeed:1},{name:"Kyoko Compact"},{name:"ja-JP",rate:.25},{name:"Fallback Japanese",lang:"ja",fallbackvoice:!0},{name:"Google 한국의",timerSpeed:1},{name:"Narae Compact"},{name:"ko-KR",rate:.25},{name:"Fallback Korean",lang:"ko",fallbackvoice:!0},{name:"Google 中国的",timerSpeed:1},{name:"Ting-Ting Compact"},{name:"zh-CN",rate:.25},{name:"Fallback Chinese",lang:"zh-CN",fallbackvoice:!0},{name:"Alexandros Compact"},{name:"el-GR",rate:.25},{name:"Fallback Greek",lang:"el",fallbackvoice:!0,service:"g2"},{name:"Fallback Swedish",lang:"sv",fallbackvoice:!0,service:"g2"},{name:"hi-IN",rate:.25},{name:"Fallback Hindi",lang:"hi",fallbackvoice:!0},{name:"Fallback Catalan",lang:"ca",fallbackvoice:!0},{name:"Aylin Compact"},{name:"tr-TR",rate:.25},{name:"Fallback Turkish",lang:"tr",fallbackvoice:!0},{name:"Stine Compact"},{name:"no-NO",rate:.25},{name:"Fallback Norwegian",lang:"no",fallbackvoice:!0,service:"g2"},{name:"Daniel"},{name:"Monica"},{name:"Amelie"},{name:"Anna"},{name:"Alice"},{name:"Melina"},{name:"Mariska"},{name:"Yelda"},{name:"Milena"},{name:"Xander"},{name:"Alva"},{name:"Lee Compact"},{name:"Karen"},{name:"Fallback Australian",lang:"en-AU",fallbackvoice:!0},{name:"Mikko Compact"},{name:"Satu"},{name:"fi-FI",rate:.25},{name:"Fallback Finnish",lang:"fi",fallbackvoice:!0,service:"g2"},{name:"Fallback Afrikans",lang:"af",fallbackvoice:!0},{name:"Fallback Albanian",lang:"sq",fallbackvoice:!0},{name:"Maged Compact"},{name:"Tarik"},{name:"ar-SA",rate:.25},{name:"Fallback Arabic",lang:"ar",fallbackvoice:!0,service:"g2"},{name:"Fallback Armenian",lang:"hy",fallbackvoice:!0,service:"g2"},{name:"Zuzana Compact"},{name:"Zuzana"},{name:"cs-CZ",rate:.25},{name:"Fallback Czech",lang:"cs",fallbackvoice:!0,service:"g2"},{name:"Ida Compact"},{name:"Sara"},{name:"da-DK",rate:.25},{name:"Fallback Danish",lang:"da",fallbackvoice:!0,service:"g2"},{name:"Fallback Esperanto",lang:"eo",fallbackvoice:!0},{name:"Fallback Hatian Creole",lang:"ht",fallbackvoice:!0},{name:"Fallback Icelandic",lang:"is",fallbackvoice:!0},{name:"Damayanti"},{name:"id-ID",rate:.25},{name:"Fallback Indonesian",lang:"id",fallbackvoice:!0},{name:"Fallback Latin",lang:"la",fallbackvoice:!0,service:"g2"},{name:"Fallback Latvian",lang:"lv",fallbackvoice:!0},{name:"Fallback Macedonian",lang:"mk",fallbackvoice:!0},{name:"Fallback Moldavian",lang:"mo",fallbackvoice:!0,service:"g2"},{name:"Fallback Montenegrin",lang:"sr-ME",fallbackvoice:!0},{name:"Agata Compact"},{name:"Zosia"},{name:"pl-PL",rate:.25},{name:"Fallback Polish",lang:"pl",fallbackvoice:!0},{name:"Raquel Compact"},{name:"Luciana"},{name:"pt-BR",rate:.25},{name:"Fallback Brazilian Portugese",lang:"pt-BR",fallbackvoice:!0,service:"g2"},{name:"Joana Compact"},{name:"Joana"},{name:"pt-PT",rate:.25},{name:"Fallback Portuguese",lang:"pt-PT",fallbackvoice:!0},{name:"Fallback Serbo-Croation",lang:"sh",fallbackvoice:!0,service:"g2"},{name:"Laura Compact"},{name:"Laura"},{name:"sk-SK",rate:.25},{name:"Fallback Slovak",lang:"sk",fallbackvoice:!0,service:"g2"},{name:"Javier Compact"},{name:"Paulina"},{name:"es-MX",rate:.25},{name:"Fallback Spanish (Latin American)",lang:"es-419",fallbackvoice:!0,service:"g2"},{name:"Fallback Swahili",lang:"sw",fallbackvoice:!0},{name:"Fallback Tamil",lang:"ta",fallbackvoice:!0},{name:"Narisa Compact"},{name:"Kanya"},{name:"th-TH",rate:.25},{name:"Fallback Thai",lang:"th",fallbackvoice:!0},{name:"Fallback Vietnamese",lang:"vi",fallbackvoice:!0},{name:"Fallback Welsh",lang:"cy",fallbackvoice:!0},{name:"Oskar Compact"},{name:"sv-SE",rate:.25},{name:"Simona Compact"},{name:"Ioana"},{name:"ro-RO",rate:.25},{name:"Kyoko"},{name:"Lekha"},{name:"Ting-Ting"},{name:"Yuna"},{name:"Xander Compact"},{name:"nl-NL",rate:.25},{name:"Fallback UK English Male",lang:"en-GB",fallbackvoice:!0,service:"g1",voicename:"rjs"},{name:"Finnish Male",lang:"fi",fallbackvoice:!0,service:"g1",voicename:""},{name:"Czech Male",lang:"cs",fallbackvoice:!0,service:"g1",voicename:""},{name:"Danish Male",lang:"da",fallbackvoice:!0,service:"g1",voicename:""},{name:"Greek Male",lang:"el",fallbackvoice:!0,service:"g1",voicename:"",rate:.25},{name:"Hungarian Male",lang:"hu",fallbackvoice:!0,service:"g1",voicename:""},{name:"Latin Male",lang:"la",fallbackvoice:!0,service:"g1",voicename:""},{name:"Norwegian Male",lang:"no",fallbackvoice:!0,service:"g1",voicename:""},{name:"Slovak Male",lang:"sk",fallbackvoice:!0,service:"g1",voicename:""},{name:"Swedish Male",lang:"sv",fallbackvoice:!0,service:"g1",voicename:""},{name:"Fallback US English Male",lang:"en",fallbackvoice:!0,service:"tts-api",voicename:""},{name:"German Germany",lang:"de_DE"},{name:"English United Kingdom",lang:"en_GB"},{name:"English India",lang:"en_IN"},{name:"English United States",lang:"en_US"},{name:"Spanish Spain",lang:"es_ES"},{name:"Spanish Mexico",lang:"es_MX"},{name:"Spanish United States",lang:"es_US"},{name:"French Belgium",lang:"fr_BE"},{name:"French France",lang:"fr_FR"},{name:"Hindi India",lang:"hi_IN"},{name:"Indonesian Indonesia",lang:"in_ID"},{name:"Italian Italy",lang:"it_IT"},{name:"Japanese Japan",lang:"ja_JP"},{name:"Korean South Korea",lang:"ko_KR"},{name:"Dutch Netherlands",lang:"nl_NL"},{name:"Polish Poland",lang:"pl_PL"},{name:"Portuguese Brazil",lang:"pt_BR"},{name:"Portuguese Portugal",lang:"pt_PT"},{name:"Russian Russia",lang:"ru_RU"},{name:"Thai Thailand",lang:"th_TH"},{name:"Turkish Turkey",lang:"tr_TR"},{name:"Chinese China",lang:"zh_CN_#Hans"},{name:"Chinese Hong Kong",lang:"zh_HK_#Hans"},{name:"Chinese Hong Kong",lang:"zh_HK_#Hant"},{name:"Chinese Taiwan",lang:"zh_TW_#Hant"},{name:"Alex"},{name:"Maged",lang:"ar-SA"},{name:"Zuzana",lang:"cs-CZ"},{name:"Sara",lang:"da-DK"},{name:"Anna",lang:"de-DE"},{name:"Melina",lang:"el-GR"},{name:"Karen",lang:"en-AU"},{name:"Daniel",lang:"en-GB"},{name:"Moira",lang:"en-IE"},{name:"Samantha (Enhanced)",lang:"en-US"},{name:"Samantha",lang:"en-US"},{name:"Tessa",lang:"en-ZA"},{name:"Monica",lang:"es-ES"},{name:"Paulina",lang:"es-MX"},{name:"Satu",lang:"fi-FI"},{name:"Amelie",lang:"fr-CA"},{name:"Thomas",lang:"fr-FR"},{name:"Carmit",lang:"he-IL"},{name:"Lekha",lang:"hi-IN"},{name:"Mariska",lang:"hu-HU"},{name:"Damayanti",lang:"id-ID"},{name:"Alice",lang:"it-IT"},{name:"Kyoko",lang:"ja-JP"},{name:"Yuna",lang:"ko-KR"},{name:"Ellen",lang:"nl-BE"},{name:"Xander",lang:"nl-NL"},{name:"Nora",lang:"no-NO"},{name:"Zosia",lang:"pl-PL"},{name:"Luciana",lang:"pt-BR"},{name:"Joana",lang:"pt-PT"},{name:"Ioana",lang:"ro-RO"},{name:"Milena",lang:"ru-RU"},{name:"Laura",lang:"sk-SK"},{name:"Alva",lang:"sv-SE"},{name:"Kanya",lang:"th-TH"},{name:"Yelda",lang:"tr-TR"},{name:"Ting-Ting",lang:"zh-CN"},{name:"Sin-Ji",lang:"zh-HK"},{name:"Mei-Jia",lang:"zh-TW"},{name:"Microsoft David Mobile - English (United States)",lang:"en-US"},{name:"Microsoft Zira Mobile - English (United States)",lang:"en-US"},{name:"Microsoft Mark Mobile - English (United States)",lang:"en-US"},{name:"native",lang:""},{name:"Google español"},{name:"Google español de Estados Unidos"},{name:"Google français"},{name:"Google Bahasa Indonesia"},{name:"Google italiano"},{name:"Google Nederlands"},{name:"Google polski"},{name:"Google português do Brasil"},{name:"Google русский"},{name:"Google हिन्दी"},{name:"Google 日本語"},{name:"Google 普通话（中国大陆）"},{name:"Google 粤語（香港）"},{name:"zh-HK",rate:.25},{name:"Fallback Chinese (Hong Kong) Female",lang:"zh-HK",fallbackvoice:!0,service:"g1"},{name:"Google 粤語（香港）"},{name:"zh-TW",rate:.25},{name:"Fallback Chinese (Taiwan) Female",lang:"zh-TW",fallbackvoice:!0,service:"g1"}],a.iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),a.iOS9=/(iphone|ipod|ipad).* os 9_/.test(navigator.userAgent.toLowerCase())||/(iphone|ipod|ipad).* os 10_/.test(navigator.userAgent.toLowerCase()),a.is_chrome=-1<navigator.userAgent.indexOf("Chrome"),a.is_safari=-1<navigator.userAgent.indexOf("Safari"),a.is_chrome&&a.is_safari&&(a.is_safari=!1),a.is_opera=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),a.is_android=-1<navigator.userAgent.toLowerCase().indexOf("android"),a.iOS_initialized=!1,a.iOS9_initialized=!1,a.cache_ios_voices=[{name:"he-IL",voiceURI:"he-IL",lang:"he-IL"},{name:"th-TH",voiceURI:"th-TH",lang:"th-TH"},{name:"pt-BR",voiceURI:"pt-BR",lang:"pt-BR"},{name:"sk-SK",voiceURI:"sk-SK",lang:"sk-SK"},{name:"fr-CA",voiceURI:"fr-CA",lang:"fr-CA"},{name:"ro-RO",voiceURI:"ro-RO",lang:"ro-RO"},{name:"no-NO",voiceURI:"no-NO",lang:"no-NO"},{name:"fi-FI",voiceURI:"fi-FI",lang:"fi-FI"},{name:"pl-PL",voiceURI:"pl-PL",lang:"pl-PL"},{name:"de-DE",voiceURI:"de-DE",lang:"de-DE"},{name:"nl-NL",voiceURI:"nl-NL",lang:"nl-NL"},{name:"id-ID",voiceURI:"id-ID",lang:"id-ID"},{name:"tr-TR",voiceURI:"tr-TR",lang:"tr-TR"},{name:"it-IT",voiceURI:"it-IT",lang:"it-IT"},{name:"pt-PT",voiceURI:"pt-PT",lang:"pt-PT"},{name:"fr-FR",voiceURI:"fr-FR",lang:"fr-FR"},{name:"ru-RU",voiceURI:"ru-RU",lang:"ru-RU"},{name:"es-MX",voiceURI:"es-MX",lang:"es-MX"},{name:"zh-HK",voiceURI:"zh-HK",lang:"zh-HK"},{name:"sv-SE",voiceURI:"sv-SE",lang:"sv-SE"},{name:"hu-HU",voiceURI:"hu-HU",lang:"hu-HU"},{name:"zh-TW",voiceURI:"zh-TW",lang:"zh-TW"},{name:"es-ES",voiceURI:"es-ES",lang:"es-ES"},{name:"zh-CN",voiceURI:"zh-CN",lang:"zh-CN"},{name:"nl-BE",voiceURI:"nl-BE",lang:"nl-BE"},{name:"en-GB",voiceURI:"en-GB",lang:"en-GB"},{name:"ar-SA",voiceURI:"ar-SA",lang:"ar-SA"},{name:"ko-KR",voiceURI:"ko-KR",lang:"ko-KR"},{name:"cs-CZ",voiceURI:"cs-CZ",lang:"cs-CZ"},{name:"en-ZA",voiceURI:"en-ZA",lang:"en-ZA"},{name:"en-AU",voiceURI:"en-AU",lang:"en-AU"},{name:"da-DK",voiceURI:"da-DK",lang:"da-DK"},{name:"en-US",voiceURI:"en-US",lang:"en-US"},{name:"en-IE",voiceURI:"en-IE",lang:"en-IE"},{name:"hi-IN",voiceURI:"hi-IN",lang:"hi-IN"},{name:"el-GR",voiceURI:"el-GR",lang:"el-GR"},{name:"ja-JP",voiceURI:"ja-JP",lang:"ja-JP"}],a.cache_ios9_voices=[{name:"Maged",voiceURI:"com.apple.ttsbundle.Maged-compact",lang:"ar-SA",localService:!0,default:!0},{name:"Zuzana",voiceURI:"com.apple.ttsbundle.Zuzana-compact",lang:"cs-CZ",localService:!0,default:!0},{name:"Sara",voiceURI:"com.apple.ttsbundle.Sara-compact",lang:"da-DK",localService:!0,default:!0},{name:"Anna",voiceURI:"com.apple.ttsbundle.Anna-compact",lang:"de-DE",localService:!0,default:!0},{name:"Melina",voiceURI:"com.apple.ttsbundle.Melina-compact",lang:"el-GR",localService:!0,default:!0},{name:"Karen",voiceURI:"com.apple.ttsbundle.Karen-compact",lang:"en-AU",localService:!0,default:!0},{name:"Daniel",voiceURI:"com.apple.ttsbundle.Daniel-compact",lang:"en-GB",localService:!0,default:!0},{name:"Moira",voiceURI:"com.apple.ttsbundle.Moira-compact",lang:"en-IE",localService:!0,default:!0},{name:"Samantha (Enhanced)",voiceURI:"com.apple.ttsbundle.Samantha-premium",lang:"en-US",localService:!0,default:!0},{name:"Samantha",voiceURI:"com.apple.ttsbundle.Samantha-compact",lang:"en-US",localService:!0,default:!0},{name:"Tessa",voiceURI:"com.apple.ttsbundle.Tessa-compact",lang:"en-ZA",localService:!0,default:!0},{name:"Monica",voiceURI:"com.apple.ttsbundle.Monica-compact",lang:"es-ES",localService:!0,default:!0},{name:"Paulina",voiceURI:"com.apple.ttsbundle.Paulina-compact",lang:"es-MX",localService:!0,default:!0},{name:"Satu",voiceURI:"com.apple.ttsbundle.Satu-compact",lang:"fi-FI",localService:!0,default:!0},{name:"Amelie",voiceURI:"com.apple.ttsbundle.Amelie-compact",lang:"fr-CA",localService:!0,default:!0},{name:"Thomas",voiceURI:"com.apple.ttsbundle.Thomas-compact",lang:"fr-FR",localService:!0,default:!0},{name:"Carmit",voiceURI:"com.apple.ttsbundle.Carmit-compact",lang:"he-IL",localService:!0,default:!0},{name:"Lekha",voiceURI:"com.apple.ttsbundle.Lekha-compact",lang:"hi-IN",localService:!0,default:!0},{name:"Mariska",voiceURI:"com.apple.ttsbundle.Mariska-compact",lang:"hu-HU",localService:!0,default:!0},{name:"Damayanti",voiceURI:"com.apple.ttsbundle.Damayanti-compact",lang:"id-ID",localService:!0,default:!0},{name:"Alice",voiceURI:"com.apple.ttsbundle.Alice-compact",lang:"it-IT",localService:!0,default:!0},{name:"Kyoko",voiceURI:"com.apple.ttsbundle.Kyoko-compact",lang:"ja-JP",localService:!0,default:!0},{name:"Yuna",voiceURI:"com.apple.ttsbundle.Yuna-compact",lang:"ko-KR",localService:!0,default:!0},{name:"Ellen",voiceURI:"com.apple.ttsbundle.Ellen-compact",lang:"nl-BE",localService:!0,default:!0},{name:"Xander",voiceURI:"com.apple.ttsbundle.Xander-compact",lang:"nl-NL",localService:!0,default:!0},{name:"Nora",voiceURI:"com.apple.ttsbundle.Nora-compact",lang:"no-NO",localService:!0,default:!0},{name:"Zosia",voiceURI:"com.apple.ttsbundle.Zosia-compact",lang:"pl-PL",localService:!0,default:!0},{name:"Luciana",voiceURI:"com.apple.ttsbundle.Luciana-compact",lang:"pt-BR",localService:!0,default:!0},{name:"Joana",voiceURI:"com.apple.ttsbundle.Joana-compact",lang:"pt-PT",localService:!0,default:!0},{name:"Ioana",voiceURI:"com.apple.ttsbundle.Ioana-compact",lang:"ro-RO",localService:!0,default:!0},{name:"Milena",voiceURI:"com.apple.ttsbundle.Milena-compact",lang:"ru-RU",localService:!0,default:!0},{name:"Laura",voiceURI:"com.apple.ttsbundle.Laura-compact",lang:"sk-SK",localService:!0,default:!0},{name:"Alva",voiceURI:"com.apple.ttsbundle.Alva-compact",lang:"sv-SE",localService:!0,default:!0},{name:"Kanya",voiceURI:"com.apple.ttsbundle.Kanya-compact",lang:"th-TH",localService:!0,default:!0},{name:"Yelda",voiceURI:"com.apple.ttsbundle.Yelda-compact",lang:"tr-TR",localService:!0,default:!0},{name:"Ting-Ting",voiceURI:"com.apple.ttsbundle.Ting-Ting-compact",lang:"zh-CN",localService:!0,default:!0},{name:"Sin-Ji",voiceURI:"com.apple.ttsbundle.Sin-Ji-compact",lang:"zh-HK",localService:!0,default:!0},{name:"Mei-Jia",voiceURI:"com.apple.ttsbundle.Mei-Jia-compact",lang:"zh-TW",localService:!0,default:!0}],a.systemvoices=null,a.CHARACTER_LIMIT=100,a.VOICESUPPORT_ATTEMPTLIMIT=5,a.voicesupport_attempts=0,a.fallbackMode=!1,a.WORDS_PER_MINUTE=130,a.fallback_parts=null,a.fallback_part_index=0,a.fallback_audio=null,a.fallback_playbackrate=1,a.def_fallback_playbackrate=a.fallback_playbackrate,a.fallback_audiopool=[],a.msgparameters=null,a.timeoutId=null,a.OnLoad_callbacks=[],a.useTimer=!1,a.utterances=[],a.tstCompiled=function(a){return eval("typeof xy === 'undefined'")},a.fallbackServicePath="https://code.responsivevoice.org/"+(a.tstCompiled()?"":"develop/")+"getvoice.php",a.default_rv=a.responsivevoices[0],a.debug=!1,a.log=function(e){a.debug&&void 0},a.init=function(){a.is_android&&(a.useTimer=!0),a.is_opera||"undefined"==typeof speechSynthesis?a.enableFallbackMode():setTimeout(function(){var e=setInterval(function(){var t=window.speechSynthesis.getVoices();0!=t.length||null!=a.systemvoices&&0!=a.systemvoices.length?(a.systemVoicesReady(t),clearInterval(e)):(a.voicesupport_attempts++,a.voicesupport_attempts>a.VOICESUPPORT_ATTEMPTLIMIT&&(clearInterval(e),null!=window.speechSynthesis&&a.iOS?void(a.iOS9?a.systemVoicesReady(a.cache_ios9_voices):a.systemVoicesReady(a.cache_ios_voices)):a.enableFallbackMode()))},100)},100),a.Dispatch("OnLoad")},a.systemVoicesReady=function(e){a.systemvoices=e,a.mapRVs(),null!=a.OnVoiceReady&&a.OnVoiceReady.call(),a.Dispatch("OnReady"),window.hasOwnProperty("dispatchEvent")&&window.dispatchEvent(new Event("ResponsiveVoice_OnReady"))},a.enableFallbackMode=function(){a.fallbackMode=!0,a.mapRVs(),null!=a.OnVoiceReady&&a.OnVoiceReady.call(),a.Dispatch("OnReady"),window.hasOwnProperty("dispatchEvent")&&window.dispatchEvent(new Event("ResponsiveVoice_OnReady"))},a.getVoices=function(){for(var e=[],t=0;t<a.responsivevoices.length;t++)e.push({name:a.responsivevoices[t].name});return e},a.speak=function(e,t,i){if(a.iOS9&&!a.iOS9_initialized)a.log("Initializing ios9"),setTimeout(function(){a.speak(e,t,i)},100),a.clickEvent(),a.iOS9_initialized=!0;else{a.isPlaying()&&(a.log("Cancelling previous speech"),a.cancel()),a.fallbackMode&&0<a.fallback_audiopool.length&&a.clearFallbackPool(),e=e.replace(/[\"\`]/gm,"'"),a.msgparameters=i||{},a.msgtext=e,a.msgvoicename=t,a.onstartFired=!1;var n=[];if(e.length>a.CHARACTER_LIMIT){for(var r=e;r.length>a.CHARACTER_LIMIT;){var o=r.search(/[:!?.;]+/),l="";if((-1==o||o>=a.CHARACTER_LIMIT)&&(o=r.search(/[,]+/)),-1==o&&-1==r.search(" ")&&(o=99),-1==o||o>=a.CHARACTER_LIMIT)for(var s=r.split(" "),o=0;o<s.length&&!(l.length+s[o].length+1>a.CHARACTER_LIMIT);o++)l+=(0!=o?" ":"")+s[o];else l=r.substr(0,o+1);r=r.substr(l.length,r.length-l.length),n.push(l)}0<r.length&&n.push(r)}else n.push(e);if(a.multipartText=n,o=null==t?a.default_rv:a.getResponsiveVoice(t),!0===o.deprecated&&void 0,r={},null!=o.mappedProfile)r=o.mappedProfile;else if(r.systemvoice=a.getMatchedVoice(o),r.collectionvoice={},null==r.systemvoice)return;for(a.msgprofile=r,a.utterances=[],o=0;o<n.length;o++)if(a.fallbackMode){a.fallback_playbackrate=a.def_fallback_playbackrate;var u,l=a.selectBest([r.collectionvoice.pitch,r.systemvoice.pitch,1]),s=a.selectBest([a.iOS9?1:null,r.collectionvoice.rate,r.systemvoice.rate,1]),c=a.selectBest([r.collectionvoice.volume,r.systemvoice.volume,1]);null!=i&&(l*=null!=i.pitch?i.pitch:1,s*=null!=i.rate?i.rate:1,c*=null!=i.volume?i.volume:1,u=i.extraParams||null),l/=2,s/=2,c*=2,l=Math.min(Math.max(l,0),1),s=Math.min(Math.max(s,0),1),c=Math.min(Math.max(c,0),1),l=a.fallbackServicePath+"?t="+encodeURIComponent(n[o])+"&tl="+(r.collectionvoice.lang||r.systemvoice.lang||"en-US")+"&sv="+(r.collectionvoice.service||r.systemvoice.service||"")+"&vn="+(r.collectionvoice.voicename||r.systemvoice.voicename||"")+"&pitch="+l.toString()+"&rate="+s.toString()+"&vol="+c.toString(),u&&(l+="&extraParams="+JSON.stringify(u)),s=document.createElement("AUDIO"),s.src=l,s.playbackRate=a.fallback_playbackrate,s.preload="auto",s.load(),a.fallback_parts.push(s)}else a.log("Using SpeechSynthesis"),l=new SpeechSynthesisUtterance,l.voiceURI=r.systemvoice.voiceURI,l.volume=a.selectBest([r.collectionvoice.volume,r.systemvoice.volume,1]),l.rate=a.selectBest([a.iOS9?1:null,r.collectionvoice.rate,r.systemvoice.rate,1]),l.pitch=a.selectBest([r.collectionvoice.pitch,r.systemvoice.pitch,1]),l.text=n[o],l.lang=a.selectBest([r.collectionvoice.lang,r.systemvoice.lang]),l.rvIndex=o,l.rvTotal=n.length,0==o&&(l.onstart=a.speech_onstart),a.msgparameters.onendcalled=!1,null!=i?(l.voice="undefined"!=typeof i.voice?i.voice:r.systemvoice,o<n.length-1&&1<n.length?(l.onend=a.onPartEnd,l.hasOwnProperty("addEventListener")&&l.addEventListener("end",a.onPartEnd)):(l.onend=a.speech_onend,l.hasOwnProperty("addEventListener")&&l.addEventListener("end",a.speech_onend)),l.onerror=i.onerror||function(e){a.log("RV: Unknow Error"),a.log(e)},l.onpause=i.onpause,l.onresume=i.onresume,l.onmark=i.onmark,l.onboundary=i.onboundary||a.onboundary,l.pitch=null!=i.pitch?i.pitch:l.pitch,l.rate=a.iOS?(null!=i.rate?i.rate*i.rate:1)*l.rate:(null!=i.rate?i.rate:1)*l.rate,l.volume=null!=i.volume?i.volume:l.volume):(a.log("No Params received for current Utterance"),l.voice=r.systemvoice,l.onend=a.speech_onend,l.onboundary=a.onboundary,l.onerror=function(e){a.log("RV: Unknow Error"),a.log(e)}),a.utterances.push(l),0==o&&(a.currentMsg=l),a.tts_speak(l);a.fallbackMode&&(a.fallback_part_index=0,a.fallback_startPart())}},a.startTimeout=function(e,t){var i=a.msgprofile.collectionvoice.timerSpeed;null==a.msgprofile.collectionvoice.timerSpeed&&(i=1),0>=i||(a.timeoutId=setTimeout(t,a.getEstimatedTimeLength(e,i)),a.log("Timeout ID: "+a.timeoutId))},a.checkAndCancelTimeout=function(){null!=a.timeoutId&&(clearTimeout(a.timeoutId),a.timeoutId=null)},a.speech_timedout=function(){a.cancel(),a.cancelled=!1,a.speech_onend()},a.speech_onend=function(){a.checkAndCancelTimeout(),!0===a.cancelled?a.cancelled=!1:(a.log("on end fired"),null!=a.msgparameters&&null!=a.msgparameters.onend&&1!=a.msgparameters.onendcalled&&(a.log("Speech on end called  -"+a.msgtext),a.msgparameters.onendcalled=!0,a.msgparameters.onend()))},a.speech_onstart=function(){a.onstartFired||(a.onstartFired=!0,a.log("Speech start"),
(a.iOS||a.is_safari||a.useTimer)&&(a.fallbackMode||a.startTimeout(a.msgtext,a.speech_timedout)),a.msgparameters.onendcalled=!1,null!=a.msgparameters&&null!=a.msgparameters.onstart&&a.msgparameters.onstart())},a.fallback_startPart=function(){if(0==a.fallback_part_index&&a.speech_onstart(),a.fallback_audio=a.fallback_parts[a.fallback_part_index],null==a.fallback_audio)a.log("RV: Fallback Audio is not available");else{var e=a.fallback_audio;a.fallback_audiopool.push(e),setTimeout(function(){e.playbackRate=a.fallback_playbackrate},50),e.onloadedmetadata=function(){e.play(),e.playbackRate=a.fallback_playbackrate},a.fallback_errors&&(a.log("RV: Speech cancelled due to errors"),a.speech_onend()),a.fallback_audio.play(),a.fallback_audio.addEventListener("ended",a.fallback_finishPart),a.useTimer&&a.startTimeout(a.multipartText[a.fallback_part_index],a.fallback_finishPart)}},a.isFallbackAudioPlaying=function(){var e;for(e=0;e<a.fallback_audiopool.length;e++)if(!a.fallback_audiopool[e].paused)return!0;return!1},a.fallback_finishPart=function(e){a.isFallbackAudioPlaying()?(a.checkAndCancelTimeout(),a.timeoutId=setTimeout(a.fallback_finishPart,1e3*(a.fallback_audio.duration-a.fallback_audio.currentTime))):(a.checkAndCancelTimeout(),a.fallback_part_index<a.fallback_parts.length-1?(a.fallback_part_index++,a.fallback_startPart()):a.speech_onend())},a.cancel=function(){a.checkAndCancelTimeout(),a.fallbackMode?(null!=a.fallback_audio&&a.fallback_audio.pause(),a.clearFallbackPool()):(a.cancelled=!0,speechSynthesis.cancel())},a.voiceSupport=function(){return"speechSynthesis"in window},a.OnFinishedPlaying=function(e){null!=a.msgparameters&&null!=a.msgparameters.onend&&a.msgparameters.onend()},a.setDefaultVoice=function(e){e=a.getResponsiveVoice(e),null!=e&&(a.default_rv=e)},a.mapRVs=function(){for(var e=0;e<a.responsivevoices.length;e++)for(var t=a.responsivevoices[e],i=0;i<t.voiceIDs.length;i++){var n=a.voicecollection[t.voiceIDs[i]];if(1==n.fallbackvoice){t.mappedProfile={systemvoice:{},collectionvoice:n};break}var r=a.getSystemVoice(n.name);if(null!=r){t.mappedProfile={systemvoice:r,collectionvoice:n};break}}},a.getMatchedVoice=function(e){for(var t=0;t<e.voiceIDs.length;t++){var i=a.getSystemVoice(a.voicecollection[e.voiceIDs[t]].name);if(null!=i)return i}return null},a.getSystemVoice=function(e){var t=String.fromCharCode(160);if(e=e.replace(new RegExp("\\s+|"+t,"g"),""),"undefined"==typeof a.systemvoices||null===a.systemvoices)return null;for(var i=0;i<a.systemvoices.length;i++)if(0===a.systemvoices[i].name.replace(new RegExp("\\s+|"+t,"g"),"").localeCompare(e))return a.systemvoices[i];return null},a.getResponsiveVoice=function(e){for(var t=0;t<a.responsivevoices.length;t++)if(a.responsivevoices[t].name==e)return!0===a.responsivevoices[t].mappedProfile.collectionvoice.fallbackvoice||!0===a.fallbackMode?(a.fallbackMode=!0,a.fallback_parts=[]):a.fallbackMode=!1,a.responsivevoices[t];return null},a.Dispatch=function(e){if(a.hasOwnProperty(e+"_callbacks")&&null!=a[e+"_callbacks"]&&0<a[e+"_callbacks"].length){for(var t=a[e+"_callbacks"],i=0;i<t.length;i++)t[i]();return!0}var n=e+"_callbacks_timeout",r=e+"_callbacks_timeoutCount";return a.hasOwnProperty(n)||(a[r]=10,a[n]=setInterval(function(){--a[r],(a.Dispatch(e)||0>a[r])&&clearTimeout(a[n])},50)),!1},a.AddEventListener=function(e,t){a.hasOwnProperty(e+"_callbacks")||(a[e+"_callbacks"]=[]),a[e+"_callbacks"].push(t)},a.addEventListener=a.AddEventListener,a.clickEvent=function(){if(a.iOS&&!a.iOS_initialized){a.log("Initializing iOS click event");var e=new SpeechSynthesisUtterance(" ");speechSynthesis.speak(e),a.iOS_initialized=!0}},a.isPlaying=function(){return a.fallbackMode?null!=a.fallback_audio&&!a.fallback_audio.ended&&!a.fallback_audio.paused:speechSynthesis.speaking},a.clearFallbackPool=function(){for(var e=0;e<a.fallback_audiopool.length;e++)null!=a.fallback_audiopool[e]&&(a.fallback_audiopool[e].pause(),a.fallback_audiopool[e].src="");a.fallback_audiopool=[]},"complete"===document.readyState?a.init():document.addEventListener("DOMContentLoaded",function(){a.init()}),a.selectBest=function(e){for(var t=0;t<e.length;t++)if(null!=e[t])return e[t];return null},a.pause=function(){a.fallbackMode?null!=a.fallback_audio&&a.fallback_audio.pause():speechSynthesis.pause()},a.resume=function(){a.fallbackMode?null!=a.fallback_audio&&a.fallback_audio.play():speechSynthesis.resume()},a.tts_speak=function(e){setTimeout(function(){a.cancelled=!1,speechSynthesis.speak(e)},.01)},a.setVolume=function(e){if(a.isPlaying())if(a.fallbackMode){for(var t=0;t<a.fallback_parts.length;t++)a.fallback_parts[t].volume=e;for(t=0;t<a.fallback_audiopool.length;t++)a.fallback_audiopool[t].volume=e;a.fallback_audio.volume=e}else for(t=0;t<a.utterances.length;t++)a.utterances[t].volume=e},a.onPartEnd=function(e){null!=a.msgparameters&&null!=a.msgparameters.onchuckend&&a.msgparameters.onchuckend(),a.Dispatch("OnPartEnd"),e=a.utterances.indexOf(e.utterance),a.currentMsg=a.utterances[e+1]},a.onboundary=function(e){a.log("On Boundary"),a.iOS&&!a.onstartFired&&a.speech_onstart()},a.numToWords=function(e){function t(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var a=[],i=!0,n=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){n=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw r}}return a}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){return 0===e.length},r=function(e){return function(t){return t.slice(0,e)}},o=function(e){return function(t){return t.slice(e)}},l=function(e){return e.slice(0).reverse()},s=function(e){return function(t){return function(a){return e(t(a))}}},u=function(e){return!e},c=function e(a){return function(i){return n(i)?[]:[r(a)(i)].concat(t(e(a)(o(a)(i))))}},m=" one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),b="  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),p=" thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion".split(" "),d=function(e){var t=i(e,3);e=t[0];var a=t[1],t=t[2];return[0===(Number(t)||0)?"":m[t]+" hundred ",0===(Number(e)||0)?b[a]:b[a]&&b[a]+"-"||"",m[a+e]||m[e]].join("")},f=function(e,t){return""===e?e:e+" "+p[t]};return"number"==typeof e?a.numToWords(String(e)):"0"===e?"zero":s(c(3))(l)(Array.from(e)).map(d).map(f).filter(s(u)(n)).reverse().join(" ").trim()},a.getWords=function(e){for(var t=e.split(/\s+/),i=0;i<t.length;i++)null!=(e=t[i].toString().match(/\d+/))&&(t.splice(i,1),a.numToWords(+e[0]).split(/\s+/).map(function(e){t.push(e)}));return t},a.getEstimatedTimeLength=function(e,t){var i=a.getWords(e),n=0,r=a.fallbackMode?1300:700;t=t||1,i.map(function(e,t){n+=(e.toString().match(/[^ ]/gim)||e).length});var o=i.length,l=60/a.WORDS_PER_MINUTE*t*1e3*o;return 5>o&&(l=t*(r+50*n)),a.log("Estimated time length: "+l+" ms, words: ["+i+"], charsCount: "+n),l}},responsiveVoice=new ResponsiveVoice;module.exports=responsiveVoice},{}],19:[function(e,t,a){function i(e,t){this.sliderPanelSelector=".slider-panel",this.sensitivity=25,this.activeSlide=0,this.slideCount=0,this.onGoTo=t.onGoTo,this.onPanStart=t.onPanStart,this.init(e)}var n=e("hammerjs");i.prototype.init=function(e){this.sliderEl=document.querySelector(e),this.slideCount=this.sliderEl.querySelectorAll(this.sliderPanelSelector).length;var t=new n.Manager(this.sliderEl),a=new n.Pan({threshold:5,pointers:0});t.add(a);var i=new n.Tap({interval:0});t.add(i),a.requireFailure(i);var r=this;t.on("tap",function(e){r.next()}),t.on("panstart",function(e){r.onPanStart&&r.onPanStart()}),t.on("pan",function(e){var t=100/r.slideCount*e.deltaX/window.innerWidth,a=t-100/r.slideCount*r.activeSlide;r.sliderEl.style.transform="translateX( "+a+"% )",e.isFinal&&(e.velocityX>1?r.goTo(r.activeSlide-1):e.velocityX<-1?r.goTo(r.activeSlide+1):t<=-(r.sensitivity/r.slideCount)?r.goTo(r.activeSlide+1):t>=r.sensitivity/r.slideCount?r.goTo(r.activeSlide-1):r.goTo(r.activeSlide))}),this.goTo(1,!0)},i.prototype.next=function(){this.goTo(this.activeSlide+1)},i.prototype.goTo=function(e,t){var a=this.activeSlide!==e;e<0?this.activeSlide=0:e>this.slideCount-1?this.activeSlide=this.slideCount-1:this.activeSlide=e,this.sliderEl.classList.add("is-animating");var i=-(100/this.slideCount)*this.activeSlide;this.sliderEl.style.transform="translateX( "+i+"% )",clearTimeout(this.timer);var n=this;this.timer=setTimeout(function(){if(n.sliderEl.classList.remove("is-animating"),n.activeSlide==n.slideCount-1){var e=n.sliderEl.querySelectorAll(n.sliderPanelSelector);n.sliderEl.appendChild(e[0]),n.activeSlide--;var t=-(100/n.slideCount)*n.activeSlide;n.sliderEl.style.transform="translateX( "+t+"% )"}if(0==n.activeSlide){var e=n.sliderEl.querySelectorAll(n.sliderPanelSelector);n.sliderEl.insertBefore(e[e.length-1],e[0]),n.activeSlide++;var t=-(100/n.slideCount)*n.activeSlide;n.sliderEl.style.transform="translateX( "+t+"% )"}},400),this.onGoTo&&!t&&this.onGoTo(a)},t.exports=i},{hammerjs:2}],20:[function(e,t,a){"use strict";var i=e("./herocalc_knockout"),n=e("./herocalc_abilitydata"),r=function(e,t){var a=this;a.hero=t,a.abilityData=n,a.hasScepter=i.observable(!1),a.isShapeShiftActive=i.observable(!1),a.abilities=e,a._abilities=a.abilities();for(var r=0;r<a.abilities().length;r++)a._abilities[r].level=i.observable(0),a._abilities[r].isActive=i.observable(!1),a._abilities[r].isDetail=i.observable(!1),a._abilities[r].baseDamage=i.observable(0),a._abilities[r].baseDamageReductionPct=i.observable(0),a._abilities[r].baseDamageMultiplier=i.observable(0),a._abilities[r].bash=i.observable(0),a._abilities[r].bashBonusDamage=i.observable(0),a._abilities[r].bonusDamage=i.observable(0),a._abilities[r].bonusDamageOrb=i.observable(0),a._abilities[r].bonusDamagePct=i.observable(0),a._abilities[r].bonusDamagePrecisionAura=i.observable(0),a._abilities[r].bonusDamageReduction=i.observable(0),a._abilities[r].bonusHealth=i.observable(0),a._abilities[r].bonusStrength=i.observable(0),a._abilities[r].bonusStrength2=i.observable(0),a._abilities[r].bonusAgility=i.observable(0),a._abilities[r].bonusAgility2=i.observable(0),a._abilities[r].bonusInt=i.observable(0),a._abilities[r].bonusAllStatsReduction=i.observable(0),a._abilities[r].damageAmplification=i.observable(0),a._abilities[r].damageReduction=i.observable(0),a._abilities[r].evasion=i.observable(0),a._abilities[r].magicResist=i.observable(0),a._abilities[r].manaregen=i.observable(0),a._abilities[r].manaregenreduction=i.observable(0),a._abilities[r].missChance=i.observable(0),a._abilities[r].movementSpeedFlat=i.observable(0),a._abilities[r].movementSpeedPct=i.observable(0),a._abilities[r].movementSpeedPctReduction=i.observable(0),a._abilities[r].turnRateReduction=i.observable(0),a._abilities[r].attackrange=i.observable(0),a._abilities[r].attackspeed=i.observable(0),a._abilities[r].attackspeedreduction=i.observable(0),a._abilities[r].armor=i.observable(0),a._abilities[r].armorReduction=i.observable(0),a._abilities[r].healthregen=i.observable(0),a._abilities[r].lifesteal=i.observable(0),a._abilities[r].visionnight=i.observable(0),a._abilities[r].visionday=i.observable(0);a.abilityControlData={},a.abilitySettingsData=function(e,t,i){return void 0==a.abilityControlData[e]?a.processAbility(e,t,i,a.abilityData[e]):a.abilityControlData[e]},a.processAbility=function(e,t,n,r){var o={};o.data=[];for(var l,s=[],u=0;u<r.length;u++)switch(r[u].controlType){case"input":l=i.observable(0).extend({numeric:2}),l.controlValueType=r[u].controlValueType,s.push(l),o.data.push({labelName:r[u].label.toUpperCase()+":",controlVal:l,controlType:r[u].controlType,display:r[u].display});break;case"checkbox":l=i.observable(!1),l.controlValueType=r[u].controlValueType,s.push(l),o.data.push({labelName:r[u].label.toUpperCase()+"?",controlVal:l,controlType:r[u].controlType,display:r[u].display});break;case"radio":l=i.observable(r[u].controlOptions[0].value),l.controlValueType=r[u].controlValueType,s.push(l),o.data.push({labelName:r[u].label.toUpperCase()+"?",controlVal:l,controlType:r[u].controlType,display:r[u].display,controlOptions:r[u].controlOptions});break;case"method":case"text":if(void 0==r[u].controls){if(r[u].noLevel)var c=function(t){return{fn:i.computed(function(){var i=a.abilities().find(function(t){return t.name==e});return a.getAbilityAttributeValue(i.attributes,t,0)})}};else var c=function(t){return{fn:i.computed(function(){var i=a.abilities().find(function(t){return t.name==e});return a.getAbilityAttributeValue(i.attributes,t,i.level())})}};var m=c(r[u].attributeName),b=a.getComputedFunction(l,m.fn,r[u].fn,t,n,a,r[u].returnProperty,void 0,e);if(r[u].ignoreTooltip)var p=r[u].label||r[u].attributeName;else var p=a.getAbilityAttributeTooltip(a.abilities()[n].attributes,r[u].attributeName)||r[u].label||r[u].attributeName;o.data.push({labelName:p.toUpperCase(),controlVal:b,controlType:r[u].controlType,display:r[u].display,clean:m.fn})}else{if(r[u].noLevel)var c=function(e){return{fn:i.computed(function(){return a.getAbilityAttributeValue(a.abilities()[n].attributes,e,0)})}};else var c=function(e){return{fn:i.computed(function(){return a.getAbilityAttributeValue(a.abilities()[n].attributes,e,a.abilities()[n].level())})}};var m=c(r[u].attributeName),b=a.getComputedFunction(s,m.fn,r[u].fn,t,n,a,r[u].returnProperty,r[u].controls,e);if(r[u].ignoreTooltip)var p=r[u].label||r[u].attributeName;else var p=a.getAbilityAttributeTooltip(a.abilities()[n].attributes,r[u].attributeName)||r[u].label||r[u].attributeName;o.data.push({labelName:p.toUpperCase(),controlVal:b,controlType:r[u].controlType,display:r[u].display,clean:m.fn})}"method"==r[u].controlType&&s.push(b)}return a.abilityControlData[e]=o,o},a.getComputedFunction=function(e,t,a,n,r,o,l,s,u){var c=o.abilities().find(function(e){return e.name==u});return i.pureComputed(function(){var i;if(void 0==s)i=void 0==e?e:"boolean"==typeof e()?e():void 0==e.controlValueType?parseFloat(e()):"string"==e.controlValueType?e():parseFloat(e());else{for(var u=[],m=0;m<s.length;m++)switch(typeof e[s[m]]()){case"boolean":case"object":u.push(e[s[m]]());break;default:u.push(parseFloat(e[s[m]]()))}i=u}var b=a.call(this,i,t(),n,r,o,c);return void 0!=l&&c[l](b),b},this)},a.getAbilityLevelByAbilityName=function(e){for(var t=0;t<a.abilities().length;t++)if(a._abilities[t].name==e)return a._abilities[t].level();return-1},a.getAbilityByName=function(e){for(var t=0;t<a.abilities().length;t++)if(a._abilities[t].name==e)return a._abilities[t]},a.getAbilityPropertyValue=function(e,t){return parseFloat(e[t]()[e.level()-1])},a.getAttributeBonusLevel=function(){for(var e=0;e<a.abilities().length;e++)if("attribute_bonus"==a._abilities[e].name)return a._abilities[e].level();return 0},a.getAllStatsReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusAllStatsReduction&&(e+=i.bonusAllStatsReduction());else for(var n=0;n<a._abilities[t].attributes.length;n++){a._abilities[t].attributes[n]}}return e}),a.getStrengthReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusStrength&&"undying_decay"==i.name&&(e-=i.bonusStrength());else for(var n=0;n<a._abilities[t].attributes.length;n++){a._abilities[t].attributes[n]}}return e}),a.getStrength=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.bonusStrength&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_quas"==i.name)&&(e+=i.bonusStrength()),void 0!=i.bonusStrength2&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=i.bonusStrength2());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<a._abilities[t].attributes.length;n++){a._abilities[t].attributes[n]}}return e}),a.getAgility=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.bonusAgility&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_wex"==i.name)&&(e+=i.bonusAgility()),void 0!=i.bonusAgility2&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=i.bonusAgility2());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"marksmanship_agility_bonus":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getIntelligence=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.bonusInt&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_exort"==i.name)&&(e+=i.bonusInt());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];r.name}}return e}),a.getArmor=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.armor&&(e+=i.armor());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_armor":"templar_assassin_meld"!=i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"warcry_armor":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"armor_bonus":"lich_frost_armor"!=i.name&&"ogre_magi_frost_armor"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()))}}}return e}),a.getArmorBaseReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(i.name){case"elder_titan_natural_order":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,"armor_reduction_pct",i.level())/100}}return e}),a.getArmorReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.armorReduction&&(e+=i.armorReduction());else switch(i.name){case"templar_assassin_meld":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"bonus_armor",i.level());break;case"tidehunter_gush":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"armor_bonus",i.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"armor_reduction",i.level());break;case"nevermore_dark_lord":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"presence_armor_reduction",i.level())}}return e}),a.getHealth=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusHealth&&(e+=i.bonusHealth());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_hp":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"true_form_hp_bonus":a.isTrueFormActive()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()))}}}return e}),a.isTrueFormActive=function(){for(var e=0;e<a.abilities().length;e++){var t=a._abilities[e];if(t.isActive()&&"lone_druid_true_form"==t.name)return!0}return!1},a.getHealthRegen=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.healthregen&&(e+=i.healthregen());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"hp_regen":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getMana=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_mana":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getManaRegen=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.manaregen&&(e+=i.manaregen());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_mana_regen":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getManaRegenArcaneAura=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"mana_regen":"crystal_maiden_brilliance_aura"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()))}}}return e}),a.getManaRegenReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=i.manaregenreduction&&(e+=i.manaregenreduction())}return e}),a.getAttackRange=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.attackrange&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=i.attackrange());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1){for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"attack_range_bonus":case"bonus_attack_range":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"bonus_range":"terrorblade_metamorphosis"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())),"troll_warlord_berserkers_rage"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"bonus_range_scepter":"tiny_grow"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()))}}"lone_druid_true_form"==i.name&&(e-=422)}else if("enchantress_impetus"==i.name&&a.hasScepter())for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_attack_range_scepter":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getAttackSpeed=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.attackspeed&&(e+=i.attackspeed());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"attack_speed_bonus_pct":"clinkz_strafe"!=i.name&&"ursa_overpower"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"speed_bonus":"axe_culling_blade"!=i.name&&"necronomicon_archer_aoe"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"bonus_attack_speed":"beastmaster_inner_beast"!=i.name&&"lycan_feral_impulse"!=i.name&&"lone_druid_rabid"!=i.name&&"tiny_grow"!=i.name&&"phantom_assassin_phantom_strike"!=i.name&&"windrunner_focusfire"!=i.name&&"ogre_magi_bloodlust"!=i.name&&"centaur_khan_endurance_aura"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()))}}}return e}),a.getAttackSpeedReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.attackspeedreduction&&(e+=i.attackspeedreduction());else{for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"speed_bonus":"omniknight_degen_aura"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=i.name||a.hasScepter()?"tusk_frozen_sigil"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())):e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"slow":"medusa_stone_gaze"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"attackspeed_bonus":e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()))}}"enraged_wildkin_tornado"==i.name&&(e-=15)}}return e}),a.getBash=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bash&&(e*=1-i.bash()/100);else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"chance":case"proc_chance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100}}}return e}),a.getBaseDamage=i.computed(function(){for(var e=0,t=1,i={},n=0;n<a.abilities().length;n++){var r=a._abilities[n];if(r.level()>0&&(r.isActive()||r.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(r.name in a.abilityData)void 0!=r.baseDamageMultiplier&&(t+=r.baseDamageMultiplier()/100),void 0!=r.baseDamage&&(e+=r.baseDamage(),i[r.name]={damage:r.baseDamage(),damageType:"physical",displayname:r.displayname});else for(var o=0;o<a._abilities[n].attributes.length;o++){var l=a._abilities[n].attributes[o];switch(l.name){case"bonus_damage":"tiny_grow"!=r.name&&"terrorblade_metamorphosis"!=r.name||(e+=a.getAbilityAttributeValue(a._abilities[n].attributes,l.name,r.level()),i[r.name]={damage:a.getAbilityAttributeValue(a._abilities[n].attributes,l.name,r.level()),damageType:"physical",displayname:r.displayname})}}}return{sources:i,total:e,multiplier:t}}),a.getSelfBaseDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"damage_modifier":e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"focusfire_damage_reduction":a.hasScepter()||(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"focusfire_damage_reduction_scepter":a.hasScepter()&&(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}}return e}),a.getBaseDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.baseDamageReductionPct&&(e*=1+i.baseDamageReductionPct()/100);else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_damage_pct":"vengefulspirit_command_aura"==i.name&&(e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}}return e}),a.getBAT=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"base_attack_time":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getBonusDamage=i.computed(function(){for(var e=0,t={},i=0;i<a.abilities().length;i++){var n=a._abilities[i];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(n.name in a.abilityData)void 0!=n.bonusDamage&&0!=n.bonusDamage()&&(e+=n.bonusDamage(),t[n.name]={damage:n.bonusDamage(),damageType:"spectre_desolate"==n.name?"pure":"physical",displayname:n.displayname});else{for(var r=0;r<a._abilities[i].attributes.length;r++){var o=a._abilities[i].attributes[r];switch(o.name){case"bonus_damage":"broodmother_insatiable_hunger"!=n.name&&"luna_lunar_blessing"!=n.name&&"templar_assassin_refraction"!=n.name&&"templar_assassin_meld"!=n.name&&"troll_warlord_berserkers_rage"!=n.name&&"lone_druid_true_form_battle_cry"!=n.name||(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level()),t[n.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level()),damageType:"physical",displayname:n.displayname});break;case"hero_bonus_damage":e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level()),t[n.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level()),damageType:"physical",displayname:n.displayname}}}"storm_spirit_overload"==n.name&&(e+=a.getAbilityPropertyValue(n,"damage"),t[n.name]={damage:a.getAbilityPropertyValue(n,"damage"),damageType:"magic",displayname:n.displayname})}}return{sources:t,total:e}}),a.getBonusDamagePercent=i.computed(function(){for(var e=0,t={},i=0;i<a.abilities().length;i++){var n=a._abilities[i];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(n.name in a.abilityData))for(var r=0;r<a._abilities[i].attributes.length;r++){
var o=a._abilities[i].attributes[r];switch(o.name){case"damage_increase_pct":"bloodseeker_bloodrage"==n.name&&(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,t[n.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"bonus_damage_pct":"magnataur_empower"!=n.name&&"vengefulspirit_command_aura"!=n.name&&"alpha_wolf_command_aura"!=n.name||(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,t[n.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"gods_strength_damage":"sven_gods_strength"==n.name&&void 0!=a.hero&&"sven"==a.hero.heroId()&&(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,t[n.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"gods_strength_damage_scepter":"sven_gods_strength"==n.name&&void 0==a.hero&&(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,t[n.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname})}}}return{sources:t,total:e}}),a.getBonusDamageBackstab=i.computed(function(){for(var e=0,t=0,i=[],n=0;n<a.abilities().length;n++){var r=a._abilities[n];if("riki_backstab"==r.name&&r.level()>0&&(r.isActive()||r.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var o=0;o<a._abilities[n].attributes.length;o++){var l=a._abilities[n].attributes[o];switch(l.name){case"damage_multiplier":e+=a.getAbilityAttributeValue(a._abilities[n].attributes,l.name,r.level()),i.push({damage:a.getAbilityAttributeValue(a._abilities[n].attributes,l.name,r.level()),damageType:"physical",displayname:r.displayname})}}}return{sources:i,total:[e,t]}}),a.getBonusDamagePrecisionAura=i.computed(function(){for(var e=0,t=0,i=[],n=0;n<a.abilities().length;n++){var r=a._abilities[n];if("drow_ranger_trueshot"==r.name&&r.level()>0&&(r.isActive()||r.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){for(var o=0;o<a._abilities[n].attributes.length;o++){var l=a._abilities[n].attributes[o];switch(l.name){case"trueshot_ranged_damage":e+=a.getAbilityAttributeValue(a._abilities[n].attributes,l.name,r.level())/100,i.push({damage:a.getAbilityAttributeValue(a._abilities[n].attributes,l.name,r.level())/100,damageType:"physical",displayname:r.displayname})}}void 0!=r.bonusDamagePrecisionAura&&(t+=r.bonusDamagePrecisionAura(),i.push({damage:r.bonusDamagePrecisionAura(),damageType:"physical",displayname:r.displayname}))}}return{sources:i,total:[e,t]}}),a.getBonusDamageReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusDamageReduction&&(e+=i.bonusDamageReduction());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"enfeeble_attack_reduction":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getBonusDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"damage_modifier":e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"focusfire_damage_reduction":a.hasScepter()||(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"focusfire_damage_reduction_scepter":a.hasScepter()&&(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}}return e}),a.getDamageAmplification=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=i.damageAmplification&&(e*=1+i.damageAmplification()/100)}return e}),a.getDamageReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.damageReduction&&(e*=1+i.damageReduction()/100);else{for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"damage_increase_pct":"bloodseeker_bloodrage"==i.name&&(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}"kunkka_ghostship"==i.name&&(e*=.5)}}return e}),a.getCritSource=i.computed(function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))switch(i.name){case"phantom_assassin_coup_de_grace":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_bonus",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_multiplier",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_multiplier",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_mult",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"juggernaut_blade_dance":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"blade_dance_crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"blade_dance_crit_mult",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_mult",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1}}return e}),a.getCleaveSource=i.computed(function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))switch(i.name){case"magnataur_empower":void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"cleave_radius",i.level()),magnitude:a.getAbilityAttributeValue(a._abilities[t].attributes,"cleave_damage_pct",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"sven_great_cleave":void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"great_cleave_radius",i.level()),magnitude:a.getAbilityAttributeValue(a._abilities[t].attributes,"great_cleave_damage",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"kunkka_tidebringer":void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"radius",i.level()),magnitude:1,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"tiny_grow":a.hasScepter()&&(void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"bonus_cleave_radius_scepter",i.level()),magnitude:a.getAbilityAttributeValue(a._abilities[t].attributes,"bonus_cleave_damage_scepter",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1)}}return e}),a.getCritChance=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"crit_chance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100}}}return e}),a.getEvasion=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_evasion":case"dodge_chance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100}}}return e}),a.getEvasionBacktrack=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"dodge_chance_pct":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100}}}return e}),a.getMissChance=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.missChance&&(e*=1-i.missChance()/100);else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"miss_chance":case"miss_rate":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100}}}return e}),a.getLifesteal=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.lifesteal&&(e+=i.lifesteal());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"vampiric_aura":case"lifesteal_pct":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getMagicResist=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.magicResist&&(e*=1-i.magicResist()/100);else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"spell_shield_resistance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==i.name&&(e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==i.name&&(e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}}return e}),a.getMagicResistReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"magic_resistance_pct":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100}}}return e}),a.getMovementSpeedFlat=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.movementSpeedFlat&&(e+=i.movementSpeedFlat());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"bonus_movespeed":"alchemist_chemical_rage"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"bonus_movement_speed":"tiny_grow"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level()));break;case"speed_loss":e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getMovementSpeedPercent=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.movementSpeedPct&&(e+=i.movementSpeedPct()/100);else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"bonus_movespeed":"broodmother_spin_web"!=i.name&&"spectre_spectral_dagger"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"speed_bonus":"axe_culling_blade"!=i.name&&"necronomicon_archer_aoe"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"bonus_movement_speed":"ogre_magi_bloodlust"!=i.name&&"death_prophet_witchcraft"!=i.name&&"kobold_taskmaster_speed_aura"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movement_speed_pct":"razor_unstable_current"!=i.name&&"phantom_lancer_doppelwalk"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"bonus_move_speed":"treant_natures_guise"!=i.name&&"lone_druid_rabid"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movespeed":"wisp_tether"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movespeed_bonus":"kunkka_ghostship"!=i.name&&"visage_grave_chill"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}}return e}),a.getMovementSpeedPercentReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.movementSpeedPctReduction&&(e+=i.movementSpeedPctReduction()/100);else{for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"movespeed_slow":"crystal_maiden_freezing_field"!=i.name||a.hasScepter()||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"slow_pct":e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100:"tusk_frozen_sigil"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"slow":"medusa_stone_gaze"==i.name?e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100:e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==i.name||"bounty_hunter_jinada"==i.name||"winter_wyvern_arctic_burn"==i.name||"winter_wyvern_splinter_blast"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100:"spectre_spectral_dagger"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movement_speed":"tidehunter_gush"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"bonus_movement_speed":"pugna_decrepify"!=i.name&&"chen_penitence"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==i.name||"phantom_lancer_spirit_lance"==i.name||"faceless_void_time_walk"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100:"skywrath_mage_concussive_shot"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"slow_amount":"razor_unstable_current"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==i.name||"brewmaster_thunder_clap"==i.name?e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100:"ursa_earthshock"!=i.name&&"treant_leech_seed"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100:"visage_grave_chill"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}"satyr_trickster_purge"==i.name?e-=.8:"enraged_wildkin_tornado"==i.name&&(e-=.15)}}return e}),a.getTurnRateReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.turnRateReduction&&(e+=i.turnRateReduction()/100);else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"slow":"medusa_stone_gaze"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100)}}}return e}),a.getVisionRangeNight=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.visionnight&&(e+=i.visionnight());else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"night_vision_bonus":case"bonus_night_vision":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())}}}return e}),a.getVisionRangePctReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"blind_percentage":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,r.name,i.level())/100}}}return e}),a.setEvasion=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&"windrunner_windrun"==i.name)return 1}return e}),a.setMovementSpeed=i.computed(function(){for(var e=522,t=100,i=0,n=0;n<a.abilities().length;n++){var r=a._abilities[n];if(r.level()>0&&(r.isActive()||r.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){if("spirit_breaker_charge_of_darkness"==r.name)return a.getAbilityAttributeValue(r.attributes,"movement_speed",r.level());if("dark_seer_surge"==r.name)return e;if("centaur_stampede"==r.name)return e;if("lycan_shapeshift"==r.name)return e;if("lion_voodoo"==r.name||"shadow_shaman_voodoo"==r.name)return t}}return i}),a.getBashSource=function(e){for(var t={},i=0;i<a.abilities().length;i++){var n=a._abilities[i];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(n.name in a.abilityData)void 0!=n.bashBonusDamage&&(void 0==t[n.name]&&"faceless_void_time_lock"==n.name&&(t[n.name]={chance:n.bash()/100,damage:n.bashBonusDamage(),count:1,damageType:"magic",displayname:n.displayname}),void 0==t[n.name]&&"spirit_breaker_greater_bash"==n.name&&(t[n.name]={chance:n.bash()/100,damage:n.bashBonusDamage()/100,count:1,damageType:"magic",displayname:n.displayname}));else for(var r=0;r<a._abilities[i].attributes.length;r++){var o=a._abilities[i].attributes[r];switch(o.name){case"proc_chance":void 0==t[n.name]&&"sniper_headshot"==n.name&&(t[n.name]={chance:a.getAbilityAttributeValue(n.attributes,o.name,n.level())/100,damage:a.getAbilityPropertyValue(n,"damage"),count:1,damageType:"physical",displayname:n.displayname});break;case"chance":void 0==t[n.name]&&"slardar_bash"==n.name&&(t[n.name]={chance:a.getAbilityAttributeValue(n.attributes,o.name,n.level())/100,damage:a.getAbilityAttributeValue(n.attributes,"bonus_damage",n.level()),count:1,damageType:"physical",displayname:n.displayname})}}}return t},a.getOrbSource=function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusDamageOrb&&void 0==e[i.name]&&"obsidian_destroyer_arcane_orb"==i.name&&(e[i.name]={damage:i.bonusDamageOrb(),damageType:"pure",displayname:i.displayname});else for(var n=0;n<a._abilities[t].attributes.length;n++){var r=a._abilities[t].attributes[n];switch(r.name){case"mana_per_hit":void 0==e[i.name]&&"antimage_mana_break"==i.name&&(e[i.name]={damage:a.getAbilityAttributeValue(i.attributes,r.name,i.level())*a.getAbilityAttributeValue(i.attributes,"damage_per_burn",i.level()),damageType:"physical",displayname:i.displayname});break;case"damage_bonus":void 0==e[i.name]&&"clinkz_searing_arrows"==i.name&&(e[i.name]={damage:a.getAbilityAttributeValue(i.attributes,r.name,i.level()),damageType:"physical",displayname:i.displayname});case"intellect_damage_pct":void 0==e[i.name]&&"silencer_glaives_of_wisdom"==i.name&&(e[i.name]={damage:a.getAbilityAttributeValue(i.attributes,r.name,i.level())/100*a.hero.totalInt(),damageType:"pure",displayname:i.displayname})}}}return e},a.toggleAbility=function(e,t,i){a.abilities()[e()].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(a.abilities()[e()].isActive()?a.abilities()[e()].isActive(!1):a.abilities()[e()].isActive(!0),"lycan_shapeshift"==a.abilities()[e()].name&&a.isShapeShiftActive(a.abilities()[e()].isActive()))}.bind(this),a.toggleAbilityDetail=function(e,t,i){a.abilities()[e()].isDetail()?a.abilities()[e()].isDetail(!1):a.abilities()[e()].isDetail(!0)}.bind(this),a.getAbility=function(e){return a.abilities().find(function(t){return t.name==e})}};r.prototype.levelUpAbility=function(e,t,a,i){var n=this;if(n.abilities()[e()].level()<i.getAbilityLevelMax(t)&&i.availableSkillPoints()>0){switch(n.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==i.heroId()?(0==n.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=2||1==n.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=7||2==n.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=11||3==n.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=17)&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),i.skillPointHistory.push(e())):"meepo"==i.heroId()?7*n.abilities()[e()].level()+3<=parseInt(i.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),i.skillPointHistory.push(e())):5*(n.abilities()[e()].level()+1)+1<=parseInt(i.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),i.skillPointHistory.push(e()));break;default:2*n.abilities()[e()].level()+1<=parseInt(i.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),i.skillPointHistory.push(e()))}switch(n.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":n.abilities()[e()+1].level(n.abilities()[e()].level());break;case"morphling_morph_str":n.abilities()[e()-1].level(n.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()-2].level(n.abilities()[e()].level());break;case"nevermore_shadowraze1":n.abilities()[e()+1].level(n.abilities()[e()].level()),n.abilities()[e()+2].level(n.abilities()[e()].level());break;case"nevermore_shadowraze2":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()+1].level(n.abilities()[e()].level());break;case"nevermore_shadowraze3":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()-2].level(n.abilities()[e()].level());break;case"ember_spirit_fire_remnant":n.abilities()[e()-1].level(n.abilities()[e()].level());break;case"lone_druid_true_form":n.abilities()[e()-1].level(n.abilities()[e()].level())}}},r.prototype.levelDownAbility=function(e,t,a,n){var r=i.utils.unwrapObservable(e),o=this;if(o.abilities()[r].level()>0)switch(o.abilities()[r].level(o.abilities()[r].level()-1),n.skillPointHistory.splice(n.skillPointHistory().lastIndexOf(r),1),o.abilities()[r].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":o.abilities()[r+1].level(o.abilities()[r].level());break;case"morphling_morph_str":o.abilities()[r-1].level(o.abilities()[r].level());break;case"keeper_of_the_light_spirit_form":o.abilities()[r-1].level(o.abilities()[r].level()),o.abilities()[r-2].level(o.abilities()[r].level());break;case"nevermore_shadowraze1":o.abilities()[r+1].level(o.abilities()[r].level()),o.abilities()[r+2].level(o.abilities()[r].level());break;case"nevermore_shadowraze2":o.abilities()[r-1].level(o.abilities()[r].level()),o.abilities()[r+1].level(o.abilities()[r].level());break;case"nevermore_shadowraze3":o.abilities()[r-1].level(o.abilities()[r].level()),o.abilities()[r-2].level(o.abilities()[r].level());break;case"ember_spirit_fire_remnant":o.abilities()[r-1].level(o.abilities()[r].level());break;case"lone_druid_true_form":o.abilities()[r-1].level(o.abilities()[r].level())}},r.prototype.getAbilityAttributeValue=function(e,t,a){for(var i=0;i<e.length;i++)if(e[i].name==t)return 0==a?parseFloat(e[i].value[0]):a>e[i].value.length?parseFloat(e[i].value[0]):parseFloat(e[i].value[a-1])},r.prototype.getAbilityAttributeTooltip=function(e,t){for(var a=0;a<e.length;a++)if(e[a].name==t){if(e[a].hasOwnProperty("tooltip")){var i=e[a].tooltip.replace(/\\n/g,"");return i}return""}return""},t.exports=r},{"./herocalc_abilitydata":33,"./herocalc_knockout":34}],21:[function(e,t,a){"use strict";var i=e("./herocalc_knockout"),n=e("./AbilityModel"),r=e("./inventory/InventoryViewModel"),o=e("./util/findWhere"),l=e("./buffs/buffOptionsArray"),s=e("./buffs/debuffOptionsArray"),u=function(e,t){var a=this;return n.call(this,i.observableArray([])),a.availableBuffs=i.observableArray(l.items),a.availableDebuffs=i.observableArray(s.items),a.selectedBuff=i.observable(a.availableBuffs()[0]),a.buffs=i.observableArray([]),a.itemBuffs=new r(e),a.addBuff=function(e,t){if(void 0==o(a.buffs(),{name:a.selectedBuff().buffName})){var n=JSON.parse(JSON.stringify(a.selectedBuff().abilityData));switch(n.level=i.observable(0),n.isActive=i.observable(!1),n.isDetail=i.observable(!1),n.baseDamage=i.observable(0),n.bash=i.observable(0),n.bashBonusDamage=i.observable(0),n.bonusDamage=i.observable(0),n.bonusDamageOrb=i.observable(0),n.bonusDamagePct=i.observable(0),n.bonusDamagePrecisionAura=i.observable(0),n.bonusDamageReduction=i.observable(0),n.bonusHealth=i.observable(0),n.bonusStrength=i.observable(0),n.bonusStrength2=i.observable(0),n.bonusAgility=i.observable(0),n.bonusAgility2=i.observable(0),n.bonusInt=i.observable(0),n.bonusAllStatsReduction=i.observable(0),n.damageAmplification=i.observable(0),n.damageReduction=i.observable(0),n.evasion=i.observable(0),n.magicResist=i.observable(0),n.manaregen=i.observable(0),n.manaregenreduction=i.observable(0),n.missChance=i.observable(0),n.movementSpeedFlat=i.observable(0),n.movementSpeedPct=i.observable(0),n.movementSpeedPctReduction=i.observable(0),n.turnRateReduction=i.observable(0),n.attackrange=i.observable(0),n.attackspeed=i.observable(0),n.attackspeedreduction=i.observable(0),n.armor=i.observable(0),n.armorReduction=i.observable(0),n.healthregen=i.observable(0),n.lifesteal=i.observable(0),n.visionnight=i.observable(0),n.visionday=i.observable(0),n.name){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":n.level(1)}a.abilities.push(n),a.buffs.push({name:a.selectedBuff().buffName,hero:a.selectedBuff().hero,data:n})}},a.removeBuff=function(e,t,i){if(void 0!=o(a.buffs(),{name:i})){if(a.buffs.remove(o(a.buffs(),{name:i})),void 0!=a.abilityControlData[i]){for(var n=0;n<a.abilityControlData[i].data.length;n++)void 0!=a.abilityControlData[i].data[n].controlVal.dispose&&a.abilityControlData[i].data[n].controlVal.dispose(),void 0!=a.abilityControlData[i].data[n].clean&&a.abilityControlData[i].data[n].clean.dispose();a.abilityControlData[i]=void 0}for(var n=0;n<a.abilities().length;n++)if(a.abilities()[n].name==i){a.abilities()[n].level(0),a.abilities.remove(a.abilities()[n]);break}}},a.toggleBuff=function(e,t,i){a.buffs()[e()].data.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(a.buffs()[e()].data.isActive()?(a.buffs()[e()].data.isActive(!1),a.abilities()[e()].isActive(!1)):(a.buffs()[e()].data.isActive(!0),a.abilities()[e()].isActive(!0)))}.bind(this),a.toggleBuffDetail=function(e,t,i){a.buffs()[e()].data.isDetail()?a.buffs()[e()].data.isDetail(!1):a.buffs()[e()].data.isDetail(!0)}.bind(this),a.levelUpAbility=function(e,t,i,n){if(a.abilities()[e()].level()<n.getAbilityLevelMax(t)){switch(a.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":a.abilities()[e()].level(a.abilities()[e()].level()+1);break;default:a.abilities()[e()].level(a.abilities()[e()].level()+1)}switch(a.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),
a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level())}}},a.levelDownAbility=function(e,t,i,n){if(a.abilities()[e()].level()>0)switch(a.abilities()[e()].level(a.abilities()[e()].level()-1),a.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());break;case"ember_spirit_fire_remnant":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"lone_druid_true_form":a.abilities()[e()-1].level(a.abilities()[e()].level())}},a};u.prototype=Object.create(n.prototype),u.prototype.constructor=u,t.exports=u},{"./AbilityModel":20,"./buffs/buffOptionsArray":23,"./buffs/debuffOptionsArray":24,"./herocalc_knockout":34,"./inventory/InventoryViewModel":36,"./util/findWhere":46}],22:[function(e,t,a){var i=e("../util/findWhere"),n=function(e,t,a,n){this.buffName=n,void 0==e["npc_dota_hero_"+a]?(this.hero=a,this.abilityData=i(t[a].abilities,{name:n}),this.buffDisplayName=t[a].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+a,this.abilityData=i(e["npc_dota_hero_"+a].abilities,{name:n}),this.buffDisplayName=e["npc_dota_hero_"+a].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==n&&(this.buffDisplayName+=" (Aura for allies)"))};t.exports=n},{"../util/findWhere":46}],23:[function(e,t,a){var i=e("./BuffModel"),n={},r=function(e,t){return n.items=[new i(e,t,"abaddon","abaddon_frostmourne"),new i(e,t,"axe","axe_culling_blade"),new i(e,t,"beastmaster","beastmaster_inner_beast"),new i(e,t,"bloodseeker","bloodseeker_bloodrage"),new i(e,t,"bounty_hunter","bounty_hunter_track"),new i(e,t,"centaur","centaur_stampede"),new i(e,t,"crystal_maiden","crystal_maiden_brilliance_aura"),new i(e,t,"dark_seer","dark_seer_surge"),new i(e,t,"dazzle","dazzle_weave"),new i(e,t,"drow_ranger","drow_ranger_trueshot"),new i(e,t,"invoker","invoker_alacrity"),new i(e,t,"wisp","wisp_tether"),new i(e,t,"wisp","wisp_overcharge"),new i(e,t,"kunkka","kunkka_ghostship"),new i(e,t,"lich","lich_frost_armor"),new i(e,t,"life_stealer","life_stealer_open_wounds"),new i(e,t,"luna","luna_lunar_blessing"),new i(e,t,"lycan","lycan_howl"),new i(e,t,"magnataur","magnataur_empower"),new i(e,t,"mirana","mirana_leap"),new i(e,t,"ogre_magi","ogre_magi_bloodlust"),new i(e,t,"omniknight","omniknight_guardian_angel"),new i(e,t,"rubick","rubick_null_field"),new i(e,t,"skeleton_king","skeleton_king_vampiric_aura"),new i(e,t,"spirit_breaker","spirit_breaker_empowering_haste"),new i(e,t,"sven","sven_warcry"),new i(e,t,"sven","sven_gods_strength"),new i(e,t,"treant","treant_living_armor"),new i(e,t,"troll_warlord","troll_warlord_battle_trance"),new i(e,t,"vengefulspirit","vengefulspirit_command_aura"),new i(e,t,"npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new i(e,t,"npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new i(e,t,"npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new i(e,t,"npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new i(e,t,"npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new i(e,t,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new i(e,t,"npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new i(e,t,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new i(e,t,"npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")],n.items};n.init=r,t.exports=n},{"./BuffModel":22}],24:[function(e,t,a){var i=e("./BuffModel"),n={},r=function(e,t){return n.items=[new i(e,t,"abaddon","abaddon_frostmourne"),new i(e,t,"alchemist","alchemist_acid_spray"),new i(e,t,"ancient_apparition","ancient_apparition_ice_vortex"),new i(e,t,"axe","axe_battle_hunger"),new i(e,t,"bane","bane_enfeeble"),new i(e,t,"batrider","batrider_sticky_napalm"),new i(e,t,"beastmaster","beastmaster_primal_roar"),new i(e,t,"bounty_hunter","bounty_hunter_jinada"),new i(e,t,"brewmaster","brewmaster_thunder_clap"),new i(e,t,"brewmaster","brewmaster_drunken_haze"),new i(e,t,"bristleback","bristleback_viscous_nasal_goo"),new i(e,t,"broodmother","broodmother_incapacitating_bite"),new i(e,t,"centaur","centaur_stampede"),new i(e,t,"chen","chen_penitence"),new i(e,t,"crystal_maiden","crystal_maiden_crystal_nova"),new i(e,t,"crystal_maiden","crystal_maiden_freezing_field"),new i(e,t,"dazzle","dazzle_weave"),new i(e,t,"drow_ranger","drow_ranger_frost_arrows"),new i(e,t,"earth_spirit","earth_spirit_rolling_boulder"),new i(e,t,"elder_titan","elder_titan_natural_order"),new i(e,t,"elder_titan","elder_titan_earth_splitter"),new i(e,t,"enchantress","enchantress_untouchable"),new i(e,t,"enchantress","enchantress_enchant"),new i(e,t,"faceless_void","faceless_void_time_walk"),new i(e,t,"huskar","huskar_life_break"),new i(e,t,"invoker","invoker_ghost_walk"),new i(e,t,"invoker","invoker_ice_wall"),new i(e,t,"wisp","wisp_tether"),new i(e,t,"jakiro","jakiro_dual_breath"),new i(e,t,"jakiro","jakiro_liquid_fire"),new i(e,t,"keeper_of_the_light","keeper_of_the_light_blinding_light"),new i(e,t,"kunkka","kunkka_torrent"),new i(e,t,"lich","lich_frost_nova"),new i(e,t,"lich","lich_frost_armor"),new i(e,t,"lich","lich_chain_frost"),new i(e,t,"life_stealer","life_stealer_open_wounds"),new i(e,t,"lion","lion_voodoo"),new i(e,t,"magnataur","magnataur_skewer"),new i(e,t,"medusa","medusa_stone_gaze"),new i(e,t,"meepo","meepo_geostrike"),new i(e,t,"naga_siren","naga_siren_rip_tide"),new i(e,t,"night_stalker","night_stalker_void"),new i(e,t,"night_stalker","night_stalker_crippling_fear"),new i(e,t,"night_stalker","night_stalker_darkness"),new i(e,t,"ogre_magi","ogre_magi_ignite"),new i(e,t,"omniknight","omniknight_degen_aura"),new i(e,t,"phantom_assassin","phantom_assassin_stifling_dagger"),new i(e,t,"phantom_lancer","phantom_lancer_spirit_lance"),new i(e,t,"pudge","pudge_rot"),new i(e,t,"pugna","pugna_decrepify"),new i(e,t,"queenofpain","queenofpain_shadow_strike"),new i(e,t,"riki","riki_smoke_screen"),new i(e,t,"rubick","rubick_fade_bolt"),new i(e,t,"sand_king","sandking_epicenter"),new i(e,t,"nevermore","nevermore_dark_lord"),new i(e,t,"shadow_shaman","shadow_shaman_voodoo"),new i(e,t,"skeleton_king","skeleton_king_hellfire_blast"),new i(e,t,"skeleton_king","skeleton_king_reincarnation"),new i(e,t,"skywrath_mage","skywrath_mage_concussive_shot"),new i(e,t,"skywrath_mage","skywrath_mage_ancient_seal"),new i(e,t,"slardar","slardar_slithereen_crush"),new i(e,t,"slardar","slardar_amplify_damage"),new i(e,t,"slark","slark_essence_shift"),new i(e,t,"sniper","sniper_shrapnel"),new i(e,t,"spectre","spectre_spectral_dagger"),new i(e,t,"storm_spirit","storm_spirit_overload"),new i(e,t,"templar_assassin","templar_assassin_meld"),new i(e,t,"tidehunter","tidehunter_gush"),new i(e,t,"tinker","tinker_laser"),new i(e,t,"treant","treant_leech_seed"),new i(e,t,"tusk","tusk_frozen_sigil"),new i(e,t,"undying","undying_flesh_golem"),new i(e,t,"ursa","ursa_earthshock"),new i(e,t,"vengefulspirit","vengefulspirit_wave_of_terror"),new i(e,t,"vengefulspirit","vengefulspirit_command_aura"),new i(e,t,"venomancer","venomancer_venomous_gale"),new i(e,t,"venomancer","venomancer_poison_sting"),new i(e,t,"viper","viper_poison_attack"),new i(e,t,"viper","viper_corrosive_skin"),new i(e,t,"viper","viper_viper_strike"),new i(e,t,"visage","visage_grave_chill"),new i(e,t,"warlock","warlock_upheaval"),new i(e,t,"weaver","weaver_the_swarm"),new i(e,t,"windrunner","windrunner_windrun"),new i(e,t,"winter_wyvern","winter_wyvern_arctic_burn"),new i(e,t,"winter_wyvern","winter_wyvern_splinter_blast"),new i(e,t,"npc_dota_neutral_ghost","ghost_frost_attack"),new i(e,t,"npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new i(e,t,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new i(e,t,"npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new i(e,t,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")],n.items};n.init=r,t.exports=n},{"./BuffModel":22}],25:[function(e,t,a){var i={physical:"#979aa2",pure:"goldenrod",magic:"#428bca",default:"#979aa2"};t.exports=i},{}],26:[function(e,t,a){"use strict";var i=e("../herocalc_knockout"),n=e("./DamageTypeColor"),r=e("../util/extend"),o=function(e,t){e.critInfo=i.pureComputed(function(){function t(e,t){return e.multiplier<t.multiplier?1:e.multiplier>t.multiplier?-1:0}var a=e.inventory.getCritSource();r(a,e.ability().getCritSource()),r(a,e.buffs.getCritSource());var i=[];for(var n in a){var o=a[n];o.name=n,i.push(o)}i.sort(t);for(var l=[],s=0,u=0;u<i.length;u++){for(var c=1,m=0;m<u;m++)for(var b=0;b<i[m].count;b++)c*=1-i[m].chance;for(var p=1,b=0;b<i[u].count;b++)p*=1-i[u].chance;c*=1-p,s+=c,i[u].count>1?l.push({name:i[u].displayname+" x"+i[u].count,chance:i[u].chance,multiplier:i[u].multiplier,count:i[u].count,totalChance:c}):l.push({name:i[u].displayname,chance:i[u].chance,multiplier:i[u].multiplier,count:i[u].count,totalChance:c})}return{sources:l,total:s}}),e.cleaveInfo=i.pureComputed(function(){function t(e,t){return e.radius<t.radius?1:e.radius>t.radius?-1:0}var a=e.inventory.getCleaveSource();r(a,e.ability().getCleaveSource()),r(a,e.buffs.getCleaveSource());var i=[];for(var n in a){var o=a[n];o.name=n,i.push(o)}i.sort(t);for(var l={},s=0;s<i.length;s++){for(var u=0,c=0;c<i.length;c++)i[c].radius>=i[s].radius&&(u+=i[c].magnitude*i[c].count);l[i[s].radius]=u}var m=[];for(var n in l)m.push({radius:n,magnitude:l[n]});return m}),e.bashInfo=i.pureComputed(function(){var t=e.heroData().attacktype,a=e.inventory.getBashSource(t);r(a,e.ability().getBashSource());var i=[];for(var n in a){var o=a[n];o.name=n,i.push(o)}for(var l=[],s=0,u=0;u<i.length;u++){for(var c=1,m=0;m<u;m++)for(var b=0;b<i[m].count;b++)c*=1-i[m].chance;for(var p=1,b=0;b<i[u].count;b++)p*=1-i[u].chance;if(c*=1-p,s+=c,"spirit_breaker_greater_bash"===i[u].name)var d=i[u].damage*e.totalMovementSpeed();else var d=i[u].damage;i[u].count>1?l.push({name:i[u].displayname,chance:i[u].chance,damage:d,count:i[u].count,damageType:i[u].damageType,totalChance:c}):l.push({name:i[u].displayname,chance:i[u].chance,damage:d,count:i[u].count,damageType:i[u].damageType,totalChance:c})}return{sources:l,total:s}}),e.orbProcInfo=i.pureComputed(function(){function t(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:e.damage<t.damage?1:e.damage>t.damage?-1:0}var a=(e.heroData().attacktype,e.inventory.getOrbProcSource()),i=[];for(var n in a){var r=a[n];r.name=n,i.push(r)}i.sort(t);for(var o=[],l=0,s=0;s<i.length;s++){for(var u=1,c=0;c<s;c++)for(var m=0;m<i[c].count;m++)u*=1-i[c].chance;for(var b=1,m=0;m<i[s].count;m++)b*=1-i[s].chance;u*=1-b,l+=u,i[s].count>1?o.push({name:i[s].displayname+" x"+i[s].count,chance:i[s].chance,damage:i[s].damage,count:i[s].count,damageType:i[s].damageType,totalChance:u}):o.push({name:i[s].displayname,chance:i[s].chance,damage:i[s].damage,count:i[s].count,damageType:i[s].damageType,totalChance:u})}return{sources:o,total:l}}),e.getReducedDamage=function(t,a){var i=t;switch(a){case"physical":i=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical())));break;case"magic":i=t*(1-e.enemy().totalMagicResistance()/100);break;case"pure":i=t;break;case"composite":i=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical()))),i*=1-e.enemy().totalMagicResistance()/100}return i*=e.ability().getDamageAmplification()*e.debuffs.getDamageAmplification(),i*=e.enemy().ability().getDamageReduction()*e.enemy().buffs.getDamageReduction()},e.damageTotalInfo=i.pureComputed(function(){var a=[e.ability().getBonusDamage().sources,e.buffs.getBonusDamage().sources],n=[e.ability().getBonusDamagePercent().sources,e.buffs.getBonusDamagePercent().sources],r=e.inventory.getBonusDamage().sources,o=e.buffs.itemBuffs.getBonusDamagePercent(e.inventory.getBonusDamagePercent()).sources,l=e.critInfo(),s=e.ability().getOrbSource(),u=e.inventory.getOrbSource(),c=e.orbProcInfo(),m=e.bashInfo(),b=[];if(b.push({name:"Base Attack",cooldown:1}),"weaver"===e.heroId()){var p=e.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name});if(p&&p.level()>0){var d=p.cooldown[p.level()-1];b.push({name:p.displayname,cooldown:1/d})}}var f=e.inventory.items().find(function(e){return"echo_sabre"===e.item&&e.enabled()});if(f&&"DOTA_UNIT_CAP_MELEE_ATTACK"===e.heroData().attacktype){var g=t.item_echo_sabre;b.push({name:g.displayname,cooldown:1/g.cooldown})}var h=b.map(function(b){var p=(e.baseDamage()[0]+e.baseDamage()[1])/2,d=0,f=0,g=0,h={damage:0,damageReduced:0,cooldown:6,active:!1},v=({damage:0,damageReduced:0,cooldown:t.item_echo_sabre.cooldown[0],active:!1},{pure:0,physical:0,magic:0}),_=[],y=[];_.push({name:"Base Damage",damage:p,damageType:"physical",damageReduced:e.getReducedDamage(p,"physical"),enabled:i.observable(!0)}),d+=p,f+=p,v.physical+=p;for(T in r){var A=r[T].damage*r[T].count*e.ability().getSelfBaseDamageReductionPct()*e.enemy().ability().getBaseDamageReductionPct()*e.debuffs.itemBuffs.getBaseDamageReductionPct();_.push({name:r[T].displayname+(r[T].count>1?" x"+r[T].count:""),damage:A,damageType:r[T].damageType,damageReduced:e.getReducedDamage(A,r[T].damageType),enabled:i.observable(!0)}),d+=A,f+=A,v[r[T].damageType]+=A}for(T in o){var A=p*o[T].damage;_.push({name:o[T].displayname,damage:A,damageType:o[T].damageType,damageReduced:e.getReducedDamage(A,o[T].damageType),enabled:i.observable(!0)}),d+=A,f+=A,v[o[T].damageType]+=A}for(var T=0;T<a.length;T++)for(S in a[T]){var A=a[T][S].damage;_.push({name:a[T][S].displayname,damage:A,damageType:a[T][S].damageType,damageReduced:e.getReducedDamage(A,a[T][S].damageType),enabled:i.observable(!0)}),d+=A,f+=A,v[a[T][S].damageType]+=A}for(var T=0;T<n.length;T++)for(S in n[T]){var A=p*n[T][S].damage;_.push({name:n[T][S].displayname,damage:A,damageType:n[T][S].damageType,damageReduced:e.getReducedDamage(A,n[T][S].damageType),enabled:i.observable(!0)}),d+=A,f+=A,v[n[T][S].damageType]+=A}if("DOTA_UNIT_CAP_RANGED_ATTACK"===e.heroData().attacktype){if("drow_ranger"===e.heroId())var k=e.ability().getBonusDamagePrecisionAura().sources,w=0;else var k=e.buffs.getBonusDamagePrecisionAura().sources,w=1;if(void 0!=k[w]){if("drow_ranger"===e.heroId())var A=k[w].damage*e.totalAgi();else var A=k[w].damage;_.push({name:k[w].displayname,damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:i.observable(!0)}),d+=A,f+=A,v.physical+=A}}if("riki"===e.heroId())var k=e.ability().getBonusDamageBackstab().sources,w=0;else var k=e.buffs.getBonusDamageBackstab().sources,w=1;if(void 0!=k[w]){if("riki"===e.heroId())var A=k[w].damage*e.totalAgi();else var A=k[w].damage;_.push({name:k[w].displayname,damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:i.observable(!0)}),d+=A,v.physical+=A}for(var T=0;T<m.sources.length;T++){var I=m.sources[T],A=m.sources[T].damage,D=e.attacksPerSecond();I.cooldown&&(D=Math.max(1/I.cooldown,D));for(var S=0;S<m.sources[T].count;S++)_.push({name:m.sources[T].name,damage:A,damageType:m.sources[T].damageType,damageReduced:e.getReducedDamage(A,m.sources[T].damageType),dps:A*D*m.sources[T].chance,dpsReduced:e.getReducedDamage(A,m.sources[T].damageType)*D*m.sources[T].chance,enabled:i.observable(!0)}),d+=A,v[m.sources[T].damageType]+=A}for(var T=0;T<c.sources.length;T++){var A=c.sources[T].damage*(1-Math.pow(1-c.sources[T].chance,c.sources[T].count));_.push({name:c.sources[T].name,damage:A,damageType:c.sources[T].damageType,damageReduced:e.getReducedDamage(A,c.sources[T].damageType),enabled:i.observable(!0)}),d+=A,v[c.sources[T].damageType]+=A}for(var x in s){var A=s[x].damage*(1-c.total);_.push({name:s[x].displayname,damage:A,damageType:s[x].damageType,damageReduced:e.getReducedDamage(A,s[x].damageType),enabled:i.observable(!0)}),d+=A,v[s[x].damageType]+=A}if(0===Object.keys(s).length)for(var x in u){var A=u[x].damage*(1-c.total);_.push({name:u[x].displayname,damage:A,damageType:u[x].damageType,damageReduced:e.getReducedDamage(A,u[x].damageType),enabled:i.observable(!0)}),d+=A,v[u[x].damageType]+=A}for(var T=0;T<l.sources.length;T++){var A=f*(l.sources[T].multiplier-1);y.push({name:l.sources[T].name+", "+l.sources[T].multiplier+"x, "+(100*l.sources[T].totalChance).toFixed(1)+"%",damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:i.observable(!0),chance:l.sources[T].totalChance}),g+=A}var P=e.getReducedDamage(v.pure,"pure")+e.getReducedDamage(v.physical,"physical")+e.getReducedDamage(v.magic,"magic"),R=e.getReducedDamage(g,"physical"),E={base:d*e.attacksPerSecond(),crit:g*e.attacksPerSecond(),geminateAttack:h.active?h.damage/h.cooldown:0,reduced:{base:P*e.attacksPerSecond(),crit:R*e.attacksPerSecond(),geminateAttack:h.active?e.getReducedDamage(h.damage,"physical")/h.cooldown:0}};y.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())*t.chance),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond())*t.chance)}),_.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond()))});var O=y.reduce(function(e,t){return e+t.chance},0),M=i.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damage:0}),V=i.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damageReduced:0}),N=i.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)}),C=i.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)}),B=i.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damage},0)+M()}),L=i.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damageReduced},0)+V()}),F=i.computed(function(){return(_.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)+N())*b.cooldown}),H=i.computed(function(){return(_.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)+C())*b.cooldown}),U=[M,V,N,C],z=[B,L,F,H];return{name:b.name+" Subtotal",cooldown:b.cooldown,enabled:i.observable(!0),visible:i.observable(!0),totalCritChance:O,totalCritRow:U,totalRow:z,sources:_,sourcesCrit:y,total:d,totalCrit:g,totalGeminateAttack:d+h.damage,totalGeminateAttackReduced:P+h.damageReduced,geminateAttack:h,totalCritReduced:R,totalReduced:P,sumTotal:d+g,sumTotalReduced:P+R,dps:{base:E.base,crit:E.base+E.crit,geminateAttack:E.base+E.geminateAttack,total:E.base+E.crit+E.geminateAttack,reduced:{base:E.reduced.base,crit:E.reduced.base+E.reduced.crit,geminateAttack:E.reduced.base+E.reduced.geminateAttack,total:E.reduced.base+E.reduced.crit+E.reduced.geminateAttack}}}}),v=i.computed(function(){return h.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[0]()},0)}),_=i.computed(function(){return h.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[1]()},0)}),y=i.computed(function(){return h.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[2]()},0)}),A=i.computed(function(){return h.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[3]()},0)});return{attacks:h,totalRow:[v,_,y,A]}}),e.getDamageTypeColor=function(e){return n[e]||n.default}};t.exports=o},{"../herocalc_knockout":34,"../util/extend":45,"./DamageTypeColor":25}],27:[function(e,t,a){"use strict";var i=e("../herocalc_knockout"),n=e("../AbilityModel"),r=e("../BuffViewModel"),o=e("../inventory/InventoryViewModel"),l=e("./diffProperties"),s=e("./HeroDamageMixin"),u=e("./totalExp"),c=e("./nextLevelExp"),m=function(e,t,a){var m=this;m.heroId=i.observable(a),m.selectedHeroLevel=i.observable(1),m.inventory=new o(t,m),m.selectedInventory=i.observable(-1),m.buffs=new r(t),m.buffs.hasScepter=m.inventory.hasScepter,m.debuffs=new r(t),m.heroData=i.computed(function(){return e["npc_dota_hero_"+m.heroId()]}),m.heroCompare=i.observable(m),m.enemy=i.observable(m),m.unit=i.observable(m),m.clone=i.observable(m),m.skillPointHistory=i.observableArray(),m.ability=i.computed(function(){var e=new n(i.observableArray(JSON.parse(JSON.stringify(m.heroData().abilities))),m);switch(m.heroId()){case"earth_spirit":case"ogre_magi":e._abilities[3].level(1);break;case"invoker":for(var t=6;t<16;t++)e._abilities[t].level(1)}return m.skillPointHistory.removeAll(),e.hasScepter=m.inventory.hasScepter,e}),m.availableSkillPoints=i.computed(function(){for(var e=m.selectedHeroLevel(),t=0;t<m.ability().abilities().length;t++)switch(m.ability().abilities()[t].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===m.heroId())for(;1==m.ability().abilities()[t].level()&&parseInt(m.selectedHeroLevel())<2||2==m.ability().abilities()[t].level()&&parseInt(m.selectedHeroLevel())<7||3==m.ability().abilities()[t].level()&&parseInt(m.selectedHeroLevel())<11||4==m.ability().abilities()[t].level()&&parseInt(m.selectedHeroLevel())<17;)m.ability().levelDownAbility(t,null,null,m);else if("meepo"===m.heroId())for(;7*(m.ability().abilities()[t].level()-1)+3>parseInt(m.selectedHeroLevel());)m.ability().levelDownAbility(t,null,null,m);else for(;5*m.ability().abilities()[t].level()+1>parseInt(m.selectedHeroLevel());)m.ability().levelDownAbility(t,null,null,m);break;default:for(;2*m.ability().abilities()[t].level()-1>parseInt(m.selectedHeroLevel());)m.ability().levelDownAbility(t,null,null,m)}for(;m.skillPointHistory().length>e;)m.ability().levelDownAbility(m.skillPointHistory()[m.skillPointHistory().length-1],null,null,m);return e-m.skillPointHistory().length},this),m.primaryAttribute=i.pureComputed(function(){var e=m.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),m.totalExp=i.pureComputed(function(){return u[m.selectedHeroLevel()-1]}),m.nextLevelExp=i.pureComputed(function(){return c[m.selectedHeroLevel()-1]}),m.startingArmor=i.pureComputed(function(){return(.14*m.heroData().attributebaseagility+m.heroData().armorphysical).toFixed(2)}),m.respawnTime=i.pureComputed(function(){return 5+3.8*m.selectedHeroLevel()}),m.totalAttribute=function(e){return"agi"===e?parseFloat(m.totalAgi()):"int"===e?parseFloat(m.totalInt()):"str"===e?parseFloat(m.totalStr()):0},m.totalAgi=i.pureComputed(function(){return(m.heroData().attributebaseagility+m.heroData().attributeagilitygain*(m.selectedHeroLevel()-1)+m.inventory.getAttributes("agi")+2*m.ability().getAttributeBonusLevel()+m.ability().getAgility()+m.enemy().ability().getAllStatsReduction()+m.debuffs.getAllStatsReduction()).toFixed(2)}),m.intStolen=i.observable(0).extend({numeric:0}),m.totalInt=i.pureComputed(function(){return(m.heroData().attributebaseintelligence+m.heroData().attributeintelligencegain*(m.selectedHeroLevel()-1)+m.inventory.getAttributes("int")+2*m.ability().getAttributeBonusLevel()+m.ability().getIntelligence()+m.enemy().ability().getAllStatsReduction()+m.debuffs.getAllStatsReduction()+m.intStolen()).toFixed(2)}),m.totalStr=i.pureComputed(function(){return(m.heroData().attributebasestrength+m.heroData().attributestrengthgain*(m.selectedHeroLevel()-1)+m.inventory.getAttributes("str")+2*m.ability().getAttributeBonusLevel()+m.ability().getStrength()+m.enemy().ability().getStrengthReduction()+m.enemy().ability().getAllStatsReduction()+m.debuffs.getAllStatsReduction()).toFixed(2)}),m.health=i.pureComputed(function(){return(m.heroData().statushealth+20*Math.floor(m.totalStr())+m.inventory.getHealth()+m.ability().getHealth()).toFixed(2)}),m.healthregen=i.pureComputed(function(){var e=[m.inventory.getHealthRegenAura,m.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(m.heroData().statushealthregen+.03*m.totalStr()+m.inventory.getHealthRegen()+m.ability().getHealthRegen()+m.buffs.getHealthRegen()+e.value).toFixed(2)}),m.mana=i.pureComputed(function(){return(m.heroData().statusmana+12*m.totalInt()+m.inventory.getMana()+m.ability().getMana()).toFixed(2)}),m.manaregen=i.pureComputed(function(){return((m.heroData().statusmanaregen+.04*m.totalInt()+m.ability().getManaRegen())*(1+m.inventory.getManaRegenPercent())+("crystal_maiden"===m.heroId()?2*m.ability().getManaRegenArcaneAura():m.buffs.getManaRegenArcaneAura())+m.inventory.getManaRegenBloodstone()+m.inventory.getManaRegen()-m.enemy().ability().getManaRegenReduction()).toFixed(2)}),m.totalArmorPhysical=i.pureComputed(function(){var e=[m.inventory.getArmorAura,m.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var a=t(e.attributes);return a},{value:0,attributes:[]}),t=[m.enemy().inventory.getArmorReduction,m.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(m.enemy().ability().getArmorBaseReduction()*m.debuffs.getArmorBaseReduction()*(m.heroData().armorphysical+.14*m.totalAgi())+m.inventory.getArmor()+m.ability().getArmor()+m.enemy().ability().getArmorReduction()+m.buffs.getArmor()+m.buffs.itemBuffs.getArmor()+m.debuffs.getArmorReduction()+e.value+t.value).toFixed(2)}),m.totalArmorPhysicalReduction=i.pureComputed(function(){var e=m.totalArmorPhysical();return e>=0?(.06*m.totalArmorPhysical()/(1+.06*m.totalArmorPhysical())*100).toFixed(2):-(.06*-m.totalArmorPhysical()/(1+.06*-m.totalArmorPhysical())*100).toFixed(2)}),m.totalMovementSpeed=i.pureComputed(function(){var e=100,t=m.ability().setMovementSpeed()>0?m.ability().setMovementSpeed():m.buffs.setMovementSpeed();if(t>0)return t;var a=[m.inventory.getMovementSpeedPercent,m.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),i=[m.enemy().inventory.getMovementSpeedPercentReduction,m.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return Math.max(m.enemy().inventory.isSheeped()||m.debuffs.itemBuffs.isSheeped()?140:(m.heroData().movementspeed+m.inventory.getMovementSpeedFlat()+m.ability().getMovementSpeedFlat())*(1+a.value+i.value+m.ability().getMovementSpeedPercent()+m.enemy().ability().getMovementSpeedPercentReduction()+m.buffs.getMovementSpeedPercent()+m.debuffs.getMovementSpeedPercentReduction()+m.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),m.totalTurnRate=i.pureComputed(function(){return(m.heroData().movementturnrate*(1+m.enemy().ability().getTurnRateReduction()+m.debuffs.getTurnRateReduction())).toFixed(2)}),m.baseDamage=i.pureComputed(function(){var e=m.totalAttribute(m.primaryAttribute()),t=m.ability().getBaseDamage(),a=m.heroData().attackdamagemin,i=m.heroData().attackdamagemax;return[Math.floor((a+e+t.total)*m.ability().getSelfBaseDamageReductionPct()*m.enemy().ability().getBaseDamageReductionPct()*m.debuffs.getBaseDamageReductionPct()*m.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier),Math.floor((i+e+t.total)*m.ability().getSelfBaseDamageReductionPct()*m.enemy().ability().getBaseDamageReductionPct()*m.debuffs.getBaseDamageReductionPct()*m.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier)]}),m.baseDamageAvg=i.pureComputed(function(){return(m.baseDamage()[0]+m.baseDamage()[1])/2}),m.baseDamageMin=i.pureComputed(function(){return m.baseDamage()[0]}),m.baseDamageMax=i.pureComputed(function(){return m.baseDamage()[1]}),m.bonusDamage=i.pureComputed(function(){return(m.inventory.getBonusDamage().total+m.ability().getBonusDamage().total+m.buffs.getBonusDamage().total+Math.floor((m.baseDamage()[0]+m.baseDamage()[1])/2*(m.buffs.itemBuffs.getBonusDamagePercent(m.inventory.getBonusDamagePercent()).total+m.ability().getBonusDamagePercent().total+m.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==m.heroData().attacktype?"drow_ranger"==m.heroId()?m.ability().getBonusDamagePrecisionAura().total[0]*m.totalAgi():m.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==m.heroId()?m.ability().getBonusDamageBackstab().total[0]*m.totalAgi():0))*m.ability().getSelfBaseDamageReductionPct()*m.enemy().ability().getBaseDamageReductionPct()*m.debuffs.itemBuffs.getBaseDamageReductionPct()}),m.bonusDamageReduction=i.pureComputed(function(){return Math.abs(m.enemy().ability().getBonusDamageReduction()+m.debuffs.getBonusDamageReduction())}),m.damageAvg=i.pureComputed(function(){return(m.baseDamage()[0]+m.baseDamage()[1])/2+m.bonusDamage()}),m.damageMin=i.pureComputed(function(){return m.baseDamage()[0]+m.bonusDamage()}),m.damageMax=i.pureComputed(function(){return m.baseDamage()[1]+m.bonusDamage()}),m.damage=i.pureComputed(function(){return[m.baseDamage()[0]+m.bonusDamage(),m.baseDamage()[1]+m.bonusDamage()]}),m.totalMagicResistanceProduct=i.pureComputed(function(){return(1-m.heroData().magicalresistance/100)*m.inventory.getMagicResist()*m.ability().getMagicResist()*m.buffs.getMagicResist()*m.inventory.getMagicResistReductionSelf()*m.enemy().inventory.getMagicResistReduction()*m.enemy().ability().getMagicResistReduction()*m.debuffs.getMagicResistReduction()*m.debuffs.itemBuffs.getMagicResistReduction()}),m.totalMagicResistance=i.pureComputed(function(){return(100*(1-m.totalMagicResistanceProduct())).toFixed(2)}),m.bat=i.pureComputed(function(){var e=m.ability().getBAT();return e>0?e:m.heroData().attackrate}),m.ias=i.pureComputed(function(){var e=[m.inventory.getAttackSpeed,m.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),t=[m.enemy().inventory.getAttackSpeedReduction,m.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),a=parseFloat(m.totalAgi())+e.value+t.value+m.ability().getAttackSpeed()+m.enemy().ability().getAttackSpeedReduction()+m.buffs.getAttackSpeed()+m.debuffs.getAttackSpeedReduction()+m.unit().ability().getAttackSpeed();return a<-80?-80:a>500?500:a.toFixed(2)}),m.attackTime=i.pureComputed(function(){return(m.bat()/(1+m.ias()/100)).toFixed(2)}),m.attacksPerSecond=i.pureComputed(function(){return((1+m.ias()/100)/m.bat()).toFixed(2)}),m.evasion=i.pureComputed(function(){if(m.enemy().inventory.isSheeped()||m.debuffs.itemBuffs.isSheeped())return 0;var e=m.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-m.inventory.getEvasion()*m.ability().getEvasion()*m.ability().getEvasionBacktrack()*m.buffs.itemBuffs.getEvasion())).toFixed(2)}),m.ehpPhysical=i.pureComputed(function(){var e=m.enemy().inventory.isSheeped()||m.debuffs.itemBuffs.isSheeped()?1:m.inventory.getEvasion()*m.ability().getEvasion()*m.buffs.itemBuffs.getEvasion();if(m.totalArmorPhysical()>=0)var t=m.health()*(1+.06*m.totalArmorPhysical());else var t=m.health()*(1-.06*m.totalArmorPhysical())/(1-.12*m.totalArmorPhysical());return t/=1-(1-e*m.ability().getEvasionBacktrack()),
t/=1-parseFloat(m.enemy().missChance())/100,t*=m.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,t*=1/m.ability().getDamageReduction(),t*=1/m.buffs.getDamageReduction(),t*=1/m.enemy().ability().getDamageAmplification(),t*=1/m.debuffs.getDamageAmplification(),t.toFixed(2)}),m.ehpMagical=i.pureComputed(function(){var e=m.health()/m.totalMagicResistanceProduct();return e*=m.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/m.ability().getDamageReduction(),e*=1/m.buffs.getDamageReduction(),e*=1/m.ability().getEvasionBacktrack(),e*=1/m.enemy().ability().getDamageAmplification(),e*=1/m.debuffs.getDamageAmplification(),e.toFixed(2)}),m.bash=i.pureComputed(function(){var e=m.heroData().attacktype;return(100*(1-m.inventory.getBash(e)*m.ability().getBash())).toFixed(2)}),m.critChance=i.pureComputed(function(){return(100*(1-m.inventory.getCritChance()*m.ability().getCritChance())).toFixed(2)}),s(m,t),m.missChance=i.pureComputed(function(){var e=[m.enemy().inventory.getMissChance,m.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var a=t(e.excludeList);return a.value*=e.value,a},{value:1,excludeList:[]});return(100*(1-m.enemy().ability().getMissChance()*m.debuffs.getMissChance()*e.value)).toFixed(2)}),m.totalattackrange=i.pureComputed(function(){var e=m.heroData().attacktype;return m.heroData().attackrange+m.ability().getAttackRange()+m.inventory.getAttackRange(e).value}),m.visionrangeday=i.pureComputed(function(){return m.heroData().visiondaytimerange*(1+m.enemy().ability().getVisionRangePctReduction()+m.debuffs.getVisionRangePctReduction())}),m.visionrangenight=i.pureComputed(function(){return(m.heroData().visionnighttimerange+m.inventory.getVisionRangeNight()+m.ability().getVisionRangeNight())*(1+m.enemy().ability().getVisionRangePctReduction()+m.debuffs.getVisionRangePctReduction())}),m.lifesteal=i.pureComputed(function(){var e=m.inventory.getLifesteal()+m.ability().getLifesteal()+m.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==m.heroData().attacktype){var t=[m.inventory.getLifestealAura,m.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});e+=t.value}return e.toFixed(2)}),m.diffProperties=l,m.diff={};for(var b=0;b<m.diffProperties.length;b++){var p=b;m.diff[m.diffProperties[p]]=m.getDiffFunction(m.diffProperties[p])}};m.prototype.getDiffFunction=function(e){var t=this;return i.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})},m.prototype.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype?10:"invoker_quas"===e.name||"invoker_wex"===e.name||"invoker_exort"===e.name?7:"invoker_invoke"===e.name?4:"earth_spirit_stone_caller"===e.name||"ogre_magi_unrefined_fireblast"===e.name?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype||"keeper_of_the_light_recall"===e.name||"keeper_of_the_light_blinding_light"===e.name||"ember_spirit_activate_fire_remnant"===e.name||"lone_druid_true_form_battle_cry"===e.name?3:"puck_ethereal_jaunt"===e.name||"shadow_demon_shadow_poison_release"===e.name||"templar_assassin_trap"===e.name||"spectre_reality"===e.name?0:"invoker_cold_snap"===e.name||"invoker_ghost_walk"===e.name||"invoker_tornado"===e.name||"invoker_emp"===e.name||"invoker_alacrity"===e.name||"invoker_chaos_meteor"===e.name||"invoker_sun_strike"===e.name||"invoker_forge_spirit"===e.name||"invoker_ice_wall"===e.name||"invoker_deafening_blast"===e.name?0:"techies_minefield_sign"===e.name||"techies_focused_detonate"===e.name?0:4},t.exports=m},{"../AbilityModel":20,"../BuffViewModel":21,"../herocalc_knockout":34,"../inventory/InventoryViewModel":36,"./HeroDamageMixin":26,"./diffProperties":29,"./nextLevelExp":31,"./totalExp":32}],28:[function(e,t,a){var i=function(e,t,a){this.heroName=e,this.heroDisplayName=t,this.hero=a};t.exports=i},{}],29:[function(e,t,a){var i=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"];t.exports=i},{}],30:[function(e,t,a){var i=e("./HeroOption"),n={},r=function(e){n.items=[];for(var t in e)n.items.push(new i(t.replace("npc_dota_hero_",""),e[t].displayname));return n.items};n.init=r,t.exports=n},{"./HeroOption":28}],31:[function(e,t,a){var i=[200,300,400,500,600,600,800,1e3,1e3,600,2200,800,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,"&mdash;"];t.exports=i},{}],32:[function(e,t,a){var i=[0,200,500,900,1400,2e3,2600,3400,4400,5400,6e3,8200,9e3,10400,11900,13500,15200,17e3,18900,20900,23e3,25200,27500,29900,32400];t.exports=i},{}],33:[function(e,t,a){var i={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return-t},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(e,t,a,i,n,r){return e*t/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(e,t,a,i,n,r){return t}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")+e*t}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,a,i,n,r){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return a.inventory.hasScepter()?e[0]*n.getAbilityAttributeValue(r.attributes,"fiend_grip_damage_scepter",r.level()):e[0]*t}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(e,t,a,i,n,r){return a.inventory.hasScepter()?e[0]*e[1]*n.getAbilityAttributeValue(r.attributes,"fiend_grip_mana_drain_scepter",r.level())/100:e[0]*e[1]*t/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")+e*t/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(e,t,a,i,n,r){return-e*t},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return-(n.getAbilityAttributeValue(r.attributes,"base_move_slow",0)+e*t)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"quill_base_damage",r.level())+e*t,l=n.getAbilityAttributeValue(r.attributes,"max_damage",0);return o>l&&(o=l),o}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var r=n.abilities().find(function(e){return"bristleback_bristleback"==e.name});if("back"==e)var o=n.getAbilityAttributeValue(r.attributes,"back_damage_reduction",r.level());else var o=n.getAbilityAttributeValue(r.attributes,"side_damage_reduction",r.level());return-o},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e<1?0:n.getAbilityAttributeValue(r.attributes,"base_damage",r.level())+(e-1)*t}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e<1?0:n.getAbilityAttributeValue(r.attributes,"base_move_speed",r.level())+(e-1)*t},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityAttributeValue(r.attributes,"return_damage",r.level())+e*t/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,n,r){return-t},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return-e*t},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){var o=.25*(130+40*r.level())*.05,l=4*e*(4*e+1)/2;return o*l}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return a.inventory.hasScepter()?e*n.getAbilityAttributeValue(r.attributes,"damage_scepter",r.level()):e*t}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(e,t,a,i,n,r){return e*t/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e?-t:0},returnProperty:"movementSpeedPctReduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(e,t,a,i,n,r){return e?t:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[0]*n.getAbilityAttributeValue(r.attributes,"damage_heroes",r.level())+e[1]*t},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[0]*n.getAbilityAttributeValue(r.attributes,"move_pct_heroes",r.level())+e[1]*t},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return-t},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityAttributeValue(r.attributes,"wisp_count",r.level())*e*t}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[0]*e[1]*t/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,a,i,n,r){return e?2*t:t},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],huskar_berserkers_blood:[{label:"%HP",controlType:"input"},{attributeName:"hp_threshold_max",label:"Health at given %HP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return a.health()*e/100}},{attributeName:"hp_threshold_max",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t}},{attributeName:"maximum_resistance",label:"MAGIC RESISTANCE BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var e=Math.min(e,100);e=Math.max(e,10);var o=n.getAbilityAttributeValue(r.attributes,"hp_threshold_max",0),l=100-o,s=(e-o)/l;return s=1-s,s*t},returnProperty:"magicResist"},{attributeName:"maximum_attack_speed",label:"ATTACK SPEED BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var e=Math.min(e,100);e=Math.max(e,10);var o=n.getAbilityAttributeValue(r.attributes,"hp_threshold_max",0),l=100-o,s=(e-o)/l;return s=1-s,s*t},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"bonus_strength",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bonusStrength"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"bonus_agility",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bonusAgility"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_intelligence",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bonusInt"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return 0==e?0:n.getAbilityAttributeValue(r.attributes,"enemy_slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,a,i,n,r){return 0==e?0:n.getAbilityAttributeValue(r.attributes,"self_slow",e)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return 0==e?0:n.getAbilityAttributeValue(r.attributes,"bonus_attack_speed",e)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return 0==e?0:n.getAbilityAttributeValue(r.attributes,"bonus_damage",e)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return 0==e?0:n.getAbilityAttributeValue(r.attributes,"slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(e,t,a,i,n,r){return 0==e[0]?0:n.getAbilityAttributeValue(r.attributes,"damage_per_second",e[0])*e[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return 2*n.getAbilityPropertyValue(r,"damage")+n.getAbilityAttributeValue(r.attributes,"burn_damage",r.level())*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[0]*e[1]*t/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityAttributeValue(r.attributes,"omni_slash_damage",1)*e}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityAttributeValue(r.attributes,"omni_slash_damage",2)*e}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[0]/100*e[1]*t/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,a,i,n,r){return n.getAbilityAttributeValue(r.attributes,"slow_steps",e+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){for(var o=[],l=1;l<6;l++)o.push((e*Math.pow(t/100,l)).toFixed(2));return o.join("<br>")}}],luna_eclipse:[{label:"Beam Count",controlType:"input"},{attributeName:"beams",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){var o=n.abilities().find(function(e){return"luna_lucent_beam"==e.name});if(0==o.level())return 0;var l=n.getAbilityPropertyValue(o,"damage");return e*l}}],medusa_mystic_snake:[{label:"Jump Count",controlType:"input"},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"method",display:"none",fn:function(e,t,a,i,n,r){for(var o=n.getAbilityAttributeValue(r.attributes,"snake_jumps",r.level()),l=n.getAbilityAttributeValue(r.attributes,"snake_scale",0),s=[],u=0;u<o;u++)s.push(t+t*u*l/100);return s}},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[1].join(" / ")}},{attributeName:"snake_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[1].slice(0,e[0]).reduce(function(e,t){return e+t},0)}},{attributeName:"snake_damage",label:"Max Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[1].reduce(function(e,t){return e+t},0)}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return(e/t).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return-t},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,a,i,n,r){return n.getAbilityAttributeValue(r.attributes,"slow",r.level())*e},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Arrow Travel Distance",controlType:"input"},{attributeName:"arrow_max_stun",label:"STUN DURATION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"arrow_min_stun",0),l=n.getAbilityAttributeValue(r.attributes,"arrow_max_stunrange",0),s=Math.min(e,l)/l;return Math.max(o,.1*Math.floor(t*s/.1))}},{attributeName:"arrow_bonus_damage",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var r=r,o=r.damage()[r.level()-1],l=n.getAbilityAttributeValue(r.attributes,"arrow_max_stunrange",0),s=Math.min(e,l)/l,u=2.8*Math.floor(t*s/2.8);return o+" + "+u+" = "+(o+u)}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return-e*t},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t*n.getAbilityAttributeValue(r.attributes,"morph_cooldown",r.level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return-e*t},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t*n.getAbilityAttributeValue(r.attributes,"morph_cooldown",r.level())}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"aura_damage",label:"HEALTH LOST:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return e[0]*e[1]*t/100}}],necrolyte_sadist:[{label:"Unit Kills",controlType:"input"},{label:"Hero Kills",controlType:"input"},{attributeName:"health_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"hero_multiplier",0);return(e[0]+e[1]*o)*t},returnProperty:"healthregen"
},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"hero_multiplier",0);return(e[0]+e[1]*o)*t},returnProperty:"manaregen"}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"miss_rate_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e?n.getAbilityAttributeValue(r.attributes,"miss_rate_night",r.level()):n.getAbilityAttributeValue(r.attributes,"miss_rate_day",r.level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e?t:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e?t:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"strike_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"duration_damage",r.level()),l=Math.floor(e/3);return t+o*l}}],razor_plasma_field:[{label:"Distance",controlType:"input"},{attributeName:"radius",label:"MIN DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return 200}},{attributeName:"radius",label:"MAX DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return 200+t}},{attributeName:"radius",label:"Instance Damage",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=t+200,l=(Math.min(Math.max(e,200),o)-200)/(o-200),s=n.getAbilityAttributeValue(r.attributes,"damage_min",r.level()),u=n.getAbilityAttributeValue(r.attributes,"damage_max",r.level());return s+(u-s)*l}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"drain_length",label:"Damage Drained:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=Math.floor(4*e)+1,l=Math.min(4*t+1,o),s=n.getAbilityAttributeValue(r.attributes,"drain_rate",r.level());return l*s/4},returnProperty:"bonusDamage"},{attributeName:"drain_length",label:"Enemy Damage Lost:",ignoreTooltip:!0,controlType:"text",display:"hidden",fn:function(e,t,a,i,n,r){var o=Math.floor(4*e)+1,l=Math.min(4*t+1,o),s=n.getAbilityAttributeValue(r.attributes,"drain_rate",r.level());return l*s/4},returnProperty:"bonusDamageReduction"}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t*(1-e*n.getAbilityAttributeValue(r.attributes,"jump_damage_reduction_pct",r.level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){var o=[1,2,4,8];return e>4?t*o[3]+50*(e-4):e<=0?0:t*o[e-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Line Hit Count",controlType:"input"},{attributeName:"requiem_reduction_damage",label:"Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}},{label:"Return Line Hit Count (Scepter)",controlType:"input"},{attributeName:"requiem_damage_pct_scepter",label:"Damage/Heal:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e*t/100}},{attributeName:"requiem_damage_pct_scepter",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){var o=n.getAbilityPropertyValue(r,"damage");return o*e[0]+o*e[1]*t/100}},{attributeName:"requiem_reduction_damage",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"baseDamageReductionPct"},{attributeName:"requiem_reduction_ms",label:"%DAMAGE REDUCTION:",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return Math.floor(e)*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return-e*t},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*a.health()*t/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return a.health()*t/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}},{attributeName:"building_damage",label:"BUILDING DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e?t:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(e,t,a,i,n,r){return-t},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100}}],storm_spirit_ball_lightning:[{label:"MAX MANA",controlType:"input"},{label:"Distance",controlType:"input"},{attributeName:"ball_lightning_initial_mana_base",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")/100*e[1]}},{attributeName:"ball_lightning_initial_mana_base",label:"FLAT MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,a,i,n,r){var o=Math.floor(e[1]/100),l=n.getAbilityAttributeValue(r.attributes,"ball_lightning_travel_cost_base",0);return t+o*l}},{attributeName:"ball_lightning_initial_mana_percentage",label:"%MAX MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,a,i,n,r){var o=Math.floor(e[1]/100),l=n.getAbilityAttributeValue(r.attributes,"ball_lightning_travel_cost_percent",0);return t+o*l}},{attributeName:"ball_lightning_initial_mana_base",label:"TOTAL MANA COST:",ignoreTooltip:!0,controlType:"text",controls:[0,1,2,3],fn:function(e,t,a,i,n,r){return e[2]+" + "+e[3]/100*e[0]+" ("+e[3]+"% of max) = "+(e[2]+e[3]/100*e[0])}}],templar_assassin_psionic_trap:[{label:"Charge Time",controlType:"input"},{attributeName:"movement_speed_min_tooltip",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"movement_speed_max_tooltip",0),l=(o-t)/40;return-(t+l*Math.min(Math.max(0,e),4)*10)},returnProperty:"movementSpeedPctReduction"}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"damage_interval",0),l=Math.floor(e/o);return t*o*l}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"damage_interval",0),l=Math.floor(e/o);return t*o*l}},{label:"ENEMY %HP",controlType:"input"},{attributeName:"slow",label:"MANA COST:",controlType:"text",fn:function(e,t,a,i,n,r){var o=20-Math.floor(Math.min(Math.max(e-1,0),99)/5);return-t*o},returnProperty:"movementSpeedPctReduction"}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,a,i,n,r){return e?t:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e?t:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=a.enemy().totalArmorPhysicalReduction(),l=a.enemy().totalMagicResistance();return(e*t*(1-o/100)*(1-l/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=a.enemy().totalArmorPhysicalReduction(),l=a.enemy().totalMagicResistance();return(t*(1-o/100)*(1-l/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=a.enemy().totalArmorPhysicalReduction(),l=a.enemy().totalMagicResistance();return(t*(1-o/100)*(1-l/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return(a.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=a.enemy().totalMagicResistance();return(e*t*(1-o/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Robot Explosions",controlType:"input"},{attributeName:"machines_per_sec",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){if(a.inventory.hasScepter()){var o=n.getAbilityAttributeValue(r.attributes,"str_steal_scepter",0);return e*o}return e*t},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"max_speed_slow",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"min_speed_slow",0),l=n.getAbilityAttributeValue(r.attributes,"radius",0),s=n.getAbilityAttributeValue(r.attributes,"full_power_radius",0),u=Math.min(Math.max(e,s),l),c=1-(u-s)/(l-s);return-Math.max(c*t,o)},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"min_damage_amp",0),l=n.getAbilityAttributeValue(r.attributes,"radius",0),s=n.getAbilityAttributeValue(r.attributes,"full_power_radius",0),u=Math.min(Math.max(e,s),l),c=1-(u-s)/(l-s);return Math.max(c*t,o)},returnProperty:"damageAmplification"},{label:"MAX HP",controlType:"input"},{label:"Hero Death Count",controlType:"input"},{label:"Creep Death Count",controlType:"input"},{attributeName:"death_heal",label:"DEATH HEAL (HEROES):",ignoreTooltip:!0,controlType:"method",controls:[1,2],fn:function(e,t,a,i,n,r){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"DEATH HEAL (CREEPS):",ignoreTooltip:!0,controlType:"method",controls:[1,3],fn:function(e,t,a,i,n,r){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"TOTAL DEATH HEAL:",ignoreTooltip:!0,controlType:"text",controls:[4,5],fn:function(e,t,a,i,n,r){return e[0]+e[1]}}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){var o=n.abilities().find(function(e){return"ursa_enrage"==e.name});if(o.isActive()&&o.level()>0){var l=n.getAbilityAttributeValue(o.attributes,"enrage_multiplier",o.level());return e*t*l}return e*t},returnProperty:"bonusDamage"}],ursa_enrage:[{attributeName:"damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return-t},returnProperty:"damageReduction"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityAttributeValue(r.attributes,"strike_damage",r.level())+Math.floor(e/3)*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Charges",controlType:"input"},{attributeName:"soul_charge_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"soul_base_damage",0),l=n.getAbilityAttributeValue(r.attributes,"stack_limit",r.level());return l=Math.max(Math.min(e,l),0),o+l*t}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],warlock_upheaval:[{label:"Channel Duration",controlType:"input"},{attributeName:"slow_rate_duration",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"max_slow",0),l=o/(t-.5)/2,s=Math.max(Math.floor(2*e)-1,0);return-Math.min(s*l,o)},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n,r){return-e*t},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return n.getAbilityPropertyValue(r,"damage")*e}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"heal_additive",r.level());return(o+e[1]*t/100)*e[0]}}],wisp_spirits:[{label:"Collision Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"creep_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return t},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Hero Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"bounces",r.level());return Math.min(Math.max(e,0),o)*t}},{label:"Creep Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"CREEP DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"bounces",r.level()),l=n.getAbilityPropertyValue(r,"damage");return Math.min(Math.max(e,0),o)*l}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"heal_interval",r.level()),l=t*o,s=Math.max(Math.floor(e/o)-1,0);return l*s}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"heal_interval",r.level()),l=t*o,s=Math.max(Math.floor(e/o)-1,0);return l*s}}],witch_doctor_maledict:[{label:"damage 0-4s",controlType:"input"},{label:"damage 4-8s",controlType:"input"},{label:"damage 8-12s",controlType:"input"},{attributeName:"bonus_damage",label:"Dot Damage after 3s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,a,i,n,r){var o=n.getAbilityPropertyValue(r,"damage");return 3*o}},{attributeName:"bonus_damage",label:"Burst Damage at 4s:",ignoreTooltip:!0,controlType:"method",controls:[0,3],fn:function(e,t,a,i,n,r){var o=(n.getAbilityPropertyValue(r,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 7s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,a,i,n,r){var o=n.getAbilityPropertyValue(r,"damage");return 7*o}},{attributeName:"bonus_damage",label:"Burst Damage at 8s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,4,5],fn:function(e,t,a,i,n,r){var o=(n.getAbilityPropertyValue(r,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 11s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,a,i,n,r){var o=n.getAbilityPropertyValue(r,"damage");return 11*o}},{attributeName:"bonus_damage",label:"Burst Damage at 12s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,2,4,6,7],fn:function(e,t,a,i,n,r){var o=(n.getAbilityPropertyValue(r,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Total Burst Damage:",ignoreTooltip:!0,controlType:"method",controls:[4,6,8],fn:function(e,t,a,i,n,r){return e.reduce(function(e,t){return e+t},0)}},{attributeName:"bonus_damage",label:"Total Maledict Damage:",ignoreTooltip:!0,controlType:"method",controls:[9],fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"duration_tooltip",0),l=n.getAbilityPropertyValue(r,"damage");return l*o+e[0]}},{label:"Duration",controlType:"input"},{attributeName:"bonus_damage",label:"DOT Damage",controlType:"text",fn:function(e,t,a,i,n,r){var o=n.getAbilityAttributeValue(r.attributes,"duration_tooltip",0);return n.getAbilityPropertyValue(r,"damage")*Math.min(Math.max(e,0),o)}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n,r){return e*t}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n,r){return e*t/100}}]};t.exports=i},{}],34:[function(e,t,a){(function(a){"use strict";var i="undefined"!=typeof window?window.ko:"undefined"!=typeof a?a.ko:null;i.mapping=e("../lib/knockout.mapping"),i.wrap=e("../lib/knockout.wrap"),i.extenders.numeric=function(e,t){var a=i.pureComputed({read:e,write:function(a){var i=e(),n=Math.pow(10,(t===Object(t)?t.precision:t)||0),r=isNaN(a)?t.defaultValue||0:+a,o=Math.round(r*n)/n;o!==i?e(o):a!==i&&e.notifySubscribers(o)}}).extend({notify:"always"});return a(e()),a},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/knockout.mapping":47,"../lib/knockout.wrap":48}],35:[function(e,t,a){var i=e("./stackableItems"),n=e("./levelItems"),r=e("./itemsWithActive"),o=function(e){var t=this;t.items=ko.observableArray([]),t.activeItems=ko.observableArray([]),t.addItem=function(e,t){if(void 0!=e.selectedItem()){var a={item:e.selectedItem().split("|")[0],state:ko.observable(0),size:e.itemInputValue(),enabled:ko.observable(!0)};switch(a.item){case"dagon":a.size=Math.min(a.size,5);break;case"travel_boots":case"diffusal_blade":a.size=Math.min(a.size,2);break;case"necronomicon":a.size=Math.min(a.size,3)}this.items.push(a),"ring_of_aquila"!==e.selectedItem()&&"ring_of_basilius"!==e.selectedItem()&&"heart"!==e.selectedItem()||this.toggleItem(void 0,a,void 0)}}.bind(this),t.toggleItem=function(e,t,a){if(r.indexOf(t.item)>=0)switch(this.activeItems.indexOf(t)<0?this.activeItems.push(t):this.activeItems.remove(t),t.item){case"power_treads":t.state()<2?t.state(t.state()+1):t.state(0);break;default:0==t.state()?t.state(1):t.state(0)}}.bind(this),t.removeItem=function(e){this.activeItems.remove(e),this.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.removeAll=function(){this.activeItems.removeAll(),this.items.removeAll()}.bind(this)};o.prototype.getItemImage=function(e){var t=ko.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},o.prototype.getItemSizeLabel=function(e){return i.indexOf(e.item)!=-1?'<span style="font-size:10px">Qty: </span>'+e.size:n.indexOf(e.item)!=-1?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},o.prototype.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return ko.utils.unwrapObservable(e.state)}},o.prototype.getItemAttributeValue=function(e,t,a){for(var i=0;i<e.length;i++)if(e[i].name==t)return 0==a?parseFloat(e[i].value[0]):a>e[i].value.length?parseFloat(e[i].value[0]):parseFloat(e[i].value[a-1])},t.exports=o},{"./itemsWithActive":41,"./levelItems":42,"./stackableItems":43}],36:[function(e,t,a){"use strict";var i=e("../herocalc_knockout"),n=e("./stackableItems"),r=e("./levelItems"),o=e("./BasicInventoryViewModel"),l=e("./itemOptionsArray"),s=e("./itemBuffOptions"),u=e("./itemDebuffOptions"),c=function(e,t){var a=this;return o.call(this,t),a.hero=t,a.hasInventory=i.observable(!0),a.items=i.observableArray([]),a.activeItems=i.observableArray([]),a.hasScepter=i.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item;if("ultimate_scepter"===t&&a.items()[e].enabled())return!0}return!1},this),a.isEthereal=i.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item,i=a.activeItems.indexOf(a.items()[e])>=0;if(("ghost"===t||"ethereal_blade"===t)&&a.items()[e].enabled()&&i)return!0}return!1},this),a.isSheeped=i.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item,i=a.activeItems.indexOf(a.items()[e])>=0;if("sheepstick"===t&&a.items()[e].enabled()&&i)return!0}return!1},this),a.totalCost=i.computed(function(){for(var t=0,i=0;i<a.items().length;i++){var o=a.items()[i].item;if(a.items()[i].enabled())if(n.indexOf(o)!=-1)t+=e["item_"+o].itemcost*a.items()[i].size;else if(r.indexOf(o)!=-1)switch(o){case"diffusal_blade":t+=e["item_"+o].itemcost+700*(a.items()[i].size-1);break;case"necronomicon":case"dagon":t+=e["item_"+o].itemcost+1250*(a.items()[i].size-1);break;default:t+=e["item_"+o].itemcost}else t+=e["item_"+o].itemcost}return t},this),a.addItemBuff=function(e,t){if(a.hasInventory()&&void 0!=a.selectedItemBuff()){var n={item:a.selectedItemBuff(),state:i.observable(0),size:1,enabled:i.observable(!0)};a.items.push(n),"ring_of_aquila"!==a.selectedItemBuff()&&"ring_of_basilius"!==a.selectedItemBuff()||a.toggleItem(void 0,n,void 0);
}},a.addItemDebuff=function(e,t){if(a.hasInventory()&&void 0!=a.selectedItemDebuff()){var n={item:a.selectedItemDebuff().split("|")[0],state:i.observable(0),size:1,enabled:i.observable(!0)};2==a.selectedItemDebuff().split("|").length&&(n.debuff=a.selectedItemDebuff().split("|")[1]),a.items.push(n),"ring_of_aquila"!==a.selectedItemDebuff()&&"ring_of_basilius"!==a.selectedItemDebuff()||a.toggleItem(void 0,n,void 0)}},a.getAttributes=function(t){for(var i=0,n=0;n<a.items().length;n++){var r=a.items()[n].item,o=a.activeItems.indexOf(a.items()[n])>=0;if(a.items()[n].enabled())for(var l=a.items()[n].size,s=0;s<e["item_"+r].attributes.length;s++){var u=e["item_"+r].attributes[s];switch(u.name){case"bonus_all_stats":i+=parseInt(u.value[0]);break;case"bonus_stats":i+=parseInt(u.value[0])}switch(t){case"agi":"bonus_agility"==u.name&&(i+="diffusal_blade"==r?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_stat"==u.name&&2==a.items()[n].state()&&(i+=parseInt(u.value[0])),"bonus_agi"==u.name&&(i+=parseInt(u.value[0]));break;case"int":"bonus_intellect"==u.name&&(i+="necronomicon"==r?parseInt(u.value[l-1]):"diffusal_blade"==r?parseInt(u.value[l-1]):"dagon"==r?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_intelligence"==u.name&&(i+=parseInt(u.value[0])),"bonus_int"==u.name&&(i+=parseInt(u.value[0])),"bonus_stat"==u.name&&1==a.items()[n].state()&&(i+=parseInt(u.value[0]));break;case"str":"bonus_strength"==u.name&&(i+="necronomicon"==r?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_stat"==u.name&&0==a.items()[n].state()&&(i+=parseInt(u.value[0])),"bonus_str"==u.name&&(i+=parseInt(u.value[0])),"unholy_bonus_strength"==u.name&&o&&(i+=parseInt(u.value[0]))}}}return i},a.getBash=function(t){for(var i=1,n=0;n<a.items().length;n++){var r=a.items()[n].item;if(a.items()[n].enabled())for(var o=0;o<e["item_"+r].attributes.length;o++){var l=e["item_"+r].attributes[o];switch(l.name){case"bash_chance":i*=1-parseInt(l.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==t&&(i*=1-parseInt(l.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&(i*=1-parseInt(l.value[0])/100)}}}return i},a.getCritChance=function(){for(var t=1,i=0;i<a.items().length;i++){var n=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"crit_chance":t*=1-parseInt(o.value[0])/100}}}return t},a.getCritSource=function(){for(var t={},i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled()){switch(n){case"lesser_crit":case"greater_crit":case"bloodthorn":void 0==t[n]?t[n]={chance:a.getItemAttributeValue(e["item_"+n].attributes,"crit_chance",0)/100,multiplier:a.getItemAttributeValue(e["item_"+n].attributes,"crit_multiplier",0)/100,count:1,displayname:e["item_"+n].displayname}:t[n].count+=1}"bloodthorn"===n&&r&&(void 0==t.soul_rend?t.soul_rend={chance:1,multiplier:a.getItemAttributeValue(e["item_"+n].attributes,"target_crit_multiplier",0)/100,count:1,displayname:"Soul Rend"}:t.soul_rend.count+=1)}}return t},a.getCleaveSource=function(){for(var t={},i=0;i<a.items().length;i++){var n=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())switch(n){case"bfury":void 0==t[n]?t[n]={radius:a.getItemAttributeValue(e["item_"+n].attributes,"cleave_radius",0),magnitude:a.getItemAttributeValue(e["item_"+n].attributes,"cleave_damage_percent",0)/100,count:1,displayname:e["item_"+n].displayname}:t[n].count+=1}}return t},a.getBashSource=function(t){for(var i={},n=0;n<a.items().length;n++){var r=a.items()[n].item;a.activeItems.indexOf(a.items()[n])>=0;if(a.items()[n].enabled())switch(r){case"javelin":void 0==i[r]?i[r]={damage:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance_damage",1),damageType:"magic",count:1,chance:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance",1)/100,displayname:e["item_"+r].displayname+" Pierce"}:i[r].count+=1;break;case"monkey_king_bar":void 0==i[r]?i[r]={item:r,chance:a.getItemAttributeValue(e["item_"+r].attributes,"bash_chance",0)/100,damage:a.getItemAttributeValue(e["item_"+r].attributes,"bash_damage",0),duration:a.getItemAttributeValue(e["item_"+r].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:"Mini-Bash"}:i[r].count+=1;break;case"abyssal_blade":case"basher":i.hasOwnProperty("bash")||(i.bash={item:r,chance:a.getItemAttributeValue(e["item_"+r].attributes,"DOTA_UNIT_CAP_MELEE_ATTACK"==t?"bash_chance_melee":"bash_chance_ranged",0)/100,damage:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance_damage",0),duration:a.getItemAttributeValue(e["item_"+r].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:"Bash"})}}return i},a.getOrbProcSource=function(){for(var t={},i=0;i<a.items().length;i++){var n=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())switch(n){case"maelstrom":case"mjollnir":void 0==t[n]?t[n]={chance:a.getItemAttributeValue(e["item_"+n].attributes,"chain_chance",0)/100,damage:a.getItemAttributeValue(e["item_"+n].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:e["item_"+n].displayname}:t[n].count+=1}}return t},a.getOrbSource=function(){for(var t={},i=0;i<a.items().length;i++){var n=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())switch(n){case"diffusal_blade":void 0==t[n]?t[n]={chance:1,damage:a.getItemAttributeValue(e["item_"+n].attributes,"feedback_mana_burn",a.items()[i].size),count:1,damageType:"physical",displayname:e["item_"+n].displayname}:t[n].count+=1}}return t},a.getHealth=function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"bonus_health":t+=parseInt(o.value[0])}}}return t},a.getHealthRegen=function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var l=e["item_"+n].attributes[o];switch(l.name){case"health_regen":case"bonus_regen":t+=parseInt(l.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=n||r?"tranquil_boots"!=n&&(t+=parseInt(l.value[0])):t+=parseInt(l.value[0]);break;case"hp_regen":t+=parseInt(l.value[0]);break;case"health_regen_rate":"heart"==n&&r&&(t+=parseInt(l.value[0])/100*a.hero.health())}}}return t},a.getHealthRegenAura=function(t){for(var i=0,n=t||[],r=0;r<a.items().length;r++){var o=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var l=0;l<e["item_"+o].attributes.length;l++){var s=e["item_"+o].attributes[l];if(!(n.indexOf(o+s.name)>-1))switch(s.name){case"aura_health_regen":i+=parseInt(s.value[0]),n.push(o+s.name)}}}return{value:i,excludeList:n}},a.getMana=function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"bonus_mana":t+=parseInt(o.value[0])}}}return t},a.getManaRegen=function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"aura_mana_regen":case"mana_regen_aura":t+=parseFloat(o.value[0]);break;case"mana_regen":"infused_raindrop"==n&&(t+=parseFloat(o.value[0]))}}}return t},a.getManaRegenPercent=function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=n&&(t+=parseFloat(o.value[0]))}}}return t/100},a.getManaRegenBloodstone=function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item;if(a.items()[e].enabled()&&t.indexOf("bloodstone")!=-1)return parseInt(a.items()[e].size)}return 0},a.getArmor=function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var l=e["item_"+n].attributes[o];switch(l.name){case"bonus_armor":(!r||"medallion_of_courage"!=n&&"solar_crest"!=n)&&(t+=parseInt(l.value[0]));break;case"unholy_bonus_armor":r&&"armlet"==n&&(t+=parseInt(l.value[0]))}}}return t},a.getArmorAura=function(t){for(var i=0,n=t||[],r=0;r<a.items().length;r++){var o=a.items()[r].item,l=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var s=0;s<e["item_"+o].attributes.length;s++){var u=e["item_"+o].attributes[s];if(!n.find(function(e){return u.name==e.name}))switch(u.name){case"bonus_aoe_armor":l&&n.push({name:u.name,value:parseInt(u.value[0])});break;case"aura_positive_armor":n.push({name:u.name,value:parseInt(u.value[0])});break;case"aura_bonus_armor":l&&n.push({name:u.name,value:parseInt(u.value[0])});break;case"armor_aura":n.push({name:u.name,value:parseInt(u.value[0])});break;case"heal_bonus_armor":l&&n.push({name:u.name,value:parseInt(u.value[0])})}}}return n.find(function(e){return"heal_bonus_armor"==e.name})&&(n=n.filter(function(e){return"bonus_aoe_armor"!==e.name})),n.find(function(e){return"armor_aura"==e.name})&&(n=n.filter(function(e){return"aura_bonus_armor"!==e.name})),i=n.reduce(function(e,t){return e+=t.value},0),{value:i,attributes:n}},a.getArmorReduction=function(t){for(var i=0,n=t||[],r=0;r<a.items().length;r++){var o=a.items()[r].item,l=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var s=0;s<e["item_"+o].attributes.length;s++){var u=e["item_"+o].attributes[s];if(!(n.indexOf(u.name)>-1||n.indexOf(o+"_"+u.name)>-1))switch(u.name){case"armor_reduction":(l||"medallion_of_courage"!=o&&"solar_crest"!=o)&&(i+=parseInt(u.value[0]),n.push(o+"_"+u.name));break;case"aura_negative_armor":i+=parseInt(u.value[0]),n.push(u.name);break;case"corruption_armor":i+=parseInt(u.value[0]),n.push(u.name)}}}return{value:i,excludeList:n}},a.getEvasion=function(){for(var t=1,i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var l=e["item_"+n].attributes[o];switch(l.name){case"bonus_evasion":(!r||"butterfly"!=n&&"solar_crest"!=n)&&(t*=1-parseInt(l.value[0])/100)}}}return t},a.getMovementSpeedFlat=function(){for(var t=0,i=!1,n=!1,r=!1,o=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],l=0;l<a.items().length;l++){var s=a.items()[l].item,u=a.activeItems.indexOf(a.items()[l])>=0;if(a.items()[l].enabled())for(var c=0;c<e["item_"+s].attributes.length;c++){var m=e["item_"+s].attributes[c];switch(m.name){case"bonus_movement_speed":!i&&o.indexOf(s)>=0?("tranquil_boots"!=s||"tranquil_boots"==s&&!u)&&(t+=parseInt(m.value[0]),i=!0):"cyclone"==s&&(t+=parseInt(m.value[0]),n=!0);break;case"broken_movement_speed":!i&&o.indexOf(s)>=0&&"tranquil_boots"==s&&u&&(t+=parseInt(m.value[0]),i=!0);break;case"bonus_movement":!i&&o.indexOf(s)>=0&&(t+=parseInt(m.value[0]),i=!0);break;case"movement_speed":r||"wind_lace"!=s||(t+=parseInt(m.value[0]),r=!0)}}}return t},a.getMovementSpeedPercent=function(t){for(var i=0,n=t||[],r=!1,o=!1,l=!1,s=!1,u=!1,c=!1,m=!1,b=["manta","yasha","sange_and_yasha"],p=0;p<a.items().length;p++){var d=a.items()[p].item,f=a.activeItems.indexOf(a.items()[p])>=0;if(a.items()[p].enabled())for(var g=0;g<e["item_"+d].attributes.length;g++){var h=e["item_"+d].attributes[g];if(!(n.indexOf(h.name)>-1))switch(h.name){case"movement_speed_percent_bonus":!r&&b.indexOf(d)>=0&&(i+=parseInt(h.value[0]),r=!0);break;case"bonus_aura_movement_speed_pct":o||"ancient_janggo"!=d||(i+=parseInt(h.value[0]),o=!0,n.push(h.name));break;case"phase_movement_speed":f&&!s&&(i+=parseInt(h.value[0]),s=!0);break;case"bonus_movement_speed_pct":f&&!l&&"ancient_janggo"==d&&(i+=parseInt(h.value[0]),l=!0,n.push(h.name));break;case"windwalk_movement_speed":!f||u||"invis_sword"!=d&&"silver_edge"!=d||(i+=parseInt(h.value[0]),u=!0);break;case"berserk_bonus_movement_speed":f&&!m&&"mask_of_madness"==d&&(i+=parseInt(h.value[0]),m=!0);break;case"bonus_movement_speed":r||"manta"!=d?"smoke_of_deceit"==d&&f&&(i+=parseInt(h.value[0])):(i+=parseInt(h.value[0]),r=!0);break;case"bonus_move_speed":f&&!c&&"butterfly"==d&&(i+=parseInt(h.value[0]),c=!0)}}}return{value:i/100,excludeList:n}},a.getMovementSpeedPercentReduction=function(t){for(var i=0,n=t||[],r=0;r<a.items().length;r++){var o=a.items()[r].item,l=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var s=0;s<e["item_"+o].attributes.length;s++){var u=e["item_"+o].attributes[s];if(!(n.indexOf(u.name)>-1))switch(u.name){case"movespeed":"dust"==o&&l&&(i+=parseInt(u.value[0]));case"blast_movement_speed":"shivas_guard"==o&&l&&(i+=parseInt(u.value[0]),n.push(u.name));case"cold_movement_speed":"skadi"==o&&(i+=parseInt(u.value[0]));break;case"maim_movement_speed":a.items()[r].debuff&&"maim"==a.items()[r].debuff&&(i+=parseInt(u.value[0]),n.push(u.name))}}}return{value:i/100,excludeList:n}},a.getBonusDamage=function(){for(var t=0,i={},n=0;n<a.items().length;n++){var r=a.items()[n].item,o=a.activeItems.indexOf(a.items()[n])>=0;if(a.items()[n].enabled())for(var l=0;l<e["item_"+r].attributes.length;l++){var s=e["item_"+r].attributes[l];switch(s.name){case"bonus_damage":t+=parseInt(s.value[0]),void 0==i[r]?i[r]={damage:parseInt(s.value[0]),damageType:"physical",count:1,displayname:e["item_"+r].displayname}:i[r].count+=1;break;case"unholy_bonus_damage":o&&(t+=parseInt(s.value[0]),void 0==i[r+"_active"]?i[r+"_active"]={damage:parseInt(s.value[0]),damageType:"physical",count:1,displayname:e["item_"+r].displayname+" Unholy Strength"}:i[r].count+=1)}}}return{sources:i,total:t}},a.getBonusDamagePercent=function(t){t=t||{sources:{},total:0};for(var i=t.total||0,n=t.sources||{},r=0;r<a.items().length;r++){var o=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var l=0;l<e["item_"+o].attributes.length;l++){var s=e["item_"+o].attributes[l];switch(s.name){case"damage_aura":void 0==n[o]&&(i+=parseInt(s.value[0])/100,n[o]={damage:parseInt(s.value[0])/100,damageType:"physical",count:1,displayname:e["item_"+o].displayname})}}}return{sources:n,total:i}},a.getAttackSpeed=function(t){for(var i=0,n=!1,r=t||[],o=0;o<a.items().length;o++){var l=a.items()[o].item,s=a.activeItems.indexOf(a.items()[o])>=0;if(a.items()[o].enabled())for(var u=0;u<e["item_"+l].attributes.length;u++){var c=e["item_"+l].attributes[u];if(!(r.indexOf(c.name)>-1))switch(c.name){case"bonus_attack_speed":"power_treads"==l?n||(i+=parseInt(c.value[0]),n=!0):"moon_shard"==l?s||(i+=parseInt(c.value[0])):"hurricane_pike"==l?s&&(i+=parseInt(c.value[0])):i+=parseInt(c.value[0]);break;case"consumed_bonus":"moon_shard"==l&&s&&(i+=parseInt(c.value[0]));break;case"bonus_speed":i+=parseInt(c.value[0]);break;case"aura_attack_speed":"shivas_guard"!=l&&(i+=parseInt(c.value[0]));break;case"bonus_aura_attack_speed_pct":i+=parseInt(c.value[0]),r.push(c.name);break;case"bonus_attack_speed_pct":s&&(i+=parseInt(c.value[0]),r.push(c.name));break;case"unholy_bonus_attack_speed":s&&(i+=parseInt(c.value[0]));break;case"berserk_bonus_attack_speed":s&&(i+=parseInt(c.value[0]))}}}return{value:i,excludeList:r}},a.getAttackSpeedReduction=function(t){for(var i=0,n=t||[],r=0;r<a.items().length;r++){var o=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var l=0;l<e["item_"+o].attributes.length;l++){var s=e["item_"+o].attributes[l];if(!(n.indexOf(s.name)>-1))switch(s.name){case"aura_attack_speed":"shivas_guard"==o&&(i+=parseInt(s.value[0]),n.push(s.name));break;case"cold_attack_speed":"skadi"==o&&(i+=parseInt(s.value[0]),n.push(s.name));break;case"maim_attack_speed":a.items()[r].debuff&&"maim"==a.items()[r].debuff&&(i+=parseInt(s.value[0]),n.push(s.name))}}}return{value:i,excludeList:n}},a.getLifesteal=function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var l=e["item_"+n].attributes[o];switch(l.name){case"lifesteal_percent":if("satanic"!=n)return parseInt(l.value[0]);if(!r)return parseInt(l.value[0]);break;case"unholy_lifesteal_percent":if(r)return parseInt(l.value[0])}}}return t},a.getLifestealAura=function(t){for(var i=0,n=t||[],r=0;r<a.items().length;r++){var o=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var l=0;l<e["item_"+o].attributes.length;l++){var s=e["item_"+o].attributes[l];if(!(n.indexOf(s.name)>-1))switch(s.name){case"vampiric_aura":i+=parseInt(s.value[0]),n.push(s.name)}}}return{value:i,excludeList:n}},a.getMagicResist=function(){for(var t=1,i=0;i<a.items().length;i++){var n=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"bonus_magical_armor":t*=1-parseInt(o.value[0])/100;break;case"bonus_spell_resist":t*=1-parseInt(o.value[0])/100;break;case"magic_resistance":t*=1-parseInt(o.value[0])/100}}}return t},a.getMagicResistReductionSelf=function(){for(var t=1,i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled()&&r)for(var o=0;o<e["item_"+n].attributes.length;o++){var l=e["item_"+n].attributes[o];switch(l.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(l.value[0])/100}}}return t},a.getMagicResistReduction=function(){for(var t=1,i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled()&&r)for(var o=0;o<e["item_"+n].attributes.length;o++){var l=e["item_"+n].attributes[o];switch(l.name){case"ethereal_damage_bonus":a.isEthereal()||(t*=1-parseInt(l.value[0])/100);case"resist_debuff":t*=1-parseInt(l.value[0])/100}}}return t},a.getVisionRangeNight=i.computed(function(){for(var t=0,i=0;i<a.items().length;i++){var n=a.items()[i].item,r=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var l=e["item_"+n].attributes[o];switch(l.name){case"bonus_night_vision":"moon_shard"==n&&r||(t+=parseInt(l.value[0]))}}}return t}),a.getAttackRange=function(t,i){for(var n=0,r=i||[],o=0;o<a.items().length;o++){var l=a.items()[o].item;a.activeItems.indexOf(a.items()[o])>=0;if(a.items()[o].enabled())for(var s=0;s<e["item_"+l].attributes.length;s++){var u=e["item_"+l].attributes[s];if(!r.find(function(e){return u.name==e.name}))switch(u.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&r.push({name:u.name,value:parseInt(u.value[0])})}}}return n=r.reduce(function(e,t){return e+=t.value},0),{value:n,attributes:r}},a.getMissChance=function(t){for(var i=1,n=t||[],r=0;r<a.items().length;r++){var o=a.items()[r].item,l=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var s=0;s<e["item_"+o].attributes.length;s++){var u=e["item_"+o].attributes[s];if(!(n.indexOf(u.name)>-1))switch(u.name){case"miss_chance":"solar_crest"===o&&l&&(i*=1-parseInt(u.value[0])/100,n.push(u.name));break;case"blind_pct":i*=1-parseInt(u.value[0])/100,n.push(u.name)}}}return{value:i,excludeList:n}},a.getBaseDamageReductionPct=function(){for(var t=1,i=0;i<a.items().length;i++){var n=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"backstab_reduction":a.items()[i].debuff&&"shadow_walk"==a.items()[i].debuff&&(t*=1+parseInt(o.value[0])/100)}}}return t},a.getBonusDamageReductionPct=function(){for(var t=1,i=0;i<a.items().length;i++){var n=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var r=0;r<e["item_"+n].attributes.length;r++){var o=e["item_"+n].attributes[r];switch(o.name){case"backstab_reduction":a.items()[i].debuff&&"shadow_walk"==a.items()[i].debuff&&(t*=1+parseInt(o.value[0])/100)}}}return t},a.itemOptions=i.observableArray(l.items),a.itemBuffOptions=i.observableArray(s.items),a.selectedItemBuff=i.observable("assault"),a.itemDebuffOptions=i.observableArray(u.items),a.selectedItemDebuff=i.observable("assault"),a};c.prototype=Object.create(o.prototype),c.prototype.constructor=c,t.exports=c},{"../herocalc_knockout":34,"./BasicInventoryViewModel":35,"./itemBuffOptions":38,"./itemDebuffOptions":39,"./itemOptionsArray":40,"./levelItems":42,"./stackableItems":43}],37:[function(e,t,a){var i=function(e,t,a,i){if(e["item_"+t].ItemAliases instanceof Array)var n=e["item_"+t].ItemAliases.join(" ");else var n=e["item_"+t].ItemAliases;this.value=ko.observable(t),this.debuff=ko.observable(i),this.debuff()?(this.value=ko.observable(t+"|"+i.id),this.name=ko.observable(a+" ("+i.name+")"),this.displayname=ko.observable(a+" ("+i.name+') <span style="display:none">;'+n+"</span>")):(this.value=ko.observable(t),this.name=ko.observable(a),this.displayname=ko.observable(a+' <span style="display:none">;'+n+"</span>"))};t.exports=i},{}],38:[function(e,t,a){var i=e("./ItemInput"),n=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest"],r={},o=function(e){return r.items=n.map(function(t){return new i(e,t,e["item_"+t].displayname)}),r.items};r.init=o,t.exports=r},{"./ItemInput":37}],39:[function(e,t,a){var i=e("./ItemInput"),n=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}],r={},o=function(e){return r.items=n.map(function(t){return new i(e,t.item,e["item_"+t.item].displayname,t.debuff)}),r.items};r.init=o,t.exports=r},{"./ItemInput":37}],40:[function(e,t,a){var i=e("./validItems"),n=e("./ItemInput"),r={},o=function(e){r.items=[];for(var t=0;t<i.length;t++)r.items.push(new n(e,i[t],e["item_"+i[t]].displayname));return r.items};r.init=o,t.exports=r},{"./ItemInput":37,"./validItems":44}],41:[function(e,t,a){t.exports=["solar_crest","heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge","bloodthorn","hurricane_pike"]},{}],42:[function(e,t,a){t.exports=["necronomicon","dagon","diffusal_blade","travel_boots"]},{}],43:[function(e,t,a){t.exports=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"]},{}],44:[function(e,t,a){t.exports=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance","echo_sabre","infused_raindrop","blight_stone","wind_lace","tome_of_knowledge","bloodthorn","hurricane_pike"]},{}],45:[function(e,t,a){var i=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var a=arguments[t];if(a)for(var n in a)a.hasOwnProperty(n)&&("object"==typeof a[n]?e[n]=i(e[n],a[n]):e[n]=a[n])}return e};t.exports=i},{}],46:[function(e,t,a){var i=function(e,t){e:for(var a=0;a<e.length;a++){for(var i in t)if(e[a][i]!=t[i])continue e;return e[a]}};t.exports=i},{}],47:[function(e,t,a){(function(i){!function(n){"function"==typeof e&&"object"==typeof a&&"object"==typeof t?n("undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,a):"function"==typeof define&&define.amd?define(["knockout","exports"],n):n(ko,ko.mapping={})}(function(e,t){function a(e,t){for(var a={},i=e.length-1;i>=0;--i)a[e[i]]=e[i];for(var i=t.length-1;i>=0;--i)a[t[i]]=t[i];var n=[];for(var r in a)n.push(a[r]);return n}function i(e,n){var r;for(var o in n)if(n.hasOwnProperty(o)&&n[o])if(r=t.getType(e[o]),o&&e[o]&&"array"!==r&&"string"!==r)i(e[o],n[o]);else{var l="array"===t.getType(e[o])&&"array"===t.getType(n[o]);l?e[o]=a(e[o],n[o]):e[o]=n[o]}}function n(e,t){var a={};return i(a,e),i(a,t),a}function r(e,t){for(var a=n({},e),i=w.length-1;i>=0;i--){var r=w[i];a[r]&&(a[""]instanceof Object||(a[""]={}),a[""][r]=a[r],delete a[r])}return t&&(a.ignore=o(t.ignore,a.ignore),a.include=o(t.include,a.include),a.copy=o(t.copy,a.copy),a.observe=o(t.observe,a.observe)),a.ignore=o(a.ignore,S.ignore),a.include=o(a.include,S.include),a.copy=o(a.copy,S.copy),a.observe=o(a.observe,S.observe),a.mappedProperties=a.mappedProperties||{},a.copiedProperties=a.copiedProperties||{},a}function o(a,i){return"array"!==t.getType(a)&&(a="undefined"===t.getType(a)?[]:[a]),"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),e.utils.arrayGetDistinctValues(a.concat(i))}function l(t,a){var i=e.dependentObservable;e.dependentObservable=function(a,i,n){n=n||{},a&&"object"==typeof a&&(n=a);var r=n.deferEvaluation,o=!1,l=function(a){var i=e.dependentObservable;e.dependentObservable=T;var n=e.isWriteableObservable(a);e.dependentObservable=i;var r=T({read:function(){return o||(e.utils.arrayRemoveItem(t,a),o=!0),a.apply(a,arguments)},write:n&&function(e){return a(e)},deferEvaluation:!0});return y&&(r._wrapper=!0),r.__DO=a,r};n.deferEvaluation=!0;var s=new T(a,i,n);return r||(s=l(s),t.push(s)),s},e.dependentObservable.fn=T.fn,e.computed=e.dependentObservable;var n=a();return e.dependentObservable=i,e.computed=e.dependentObservable,n}function s(a,i,r,o,c,f,g){var h="array"===t.getType(e.utils.unwrapObservable(i));if(f=f||"",t.isMapped(a)){var y=e.utils.unwrapObservable(a)[A];r=n(y,r)}var T={data:i,parent:g||c},k=function(){return r[o]&&r[o].create instanceof Function},w=function(t){return l(v,function(){return e.utils.unwrapObservable(c)instanceof Array?r[o].create({data:t||T.data,parent:T.parent,skip:I}):r[o].create({data:t||T.data,parent:T.parent})})},D=function(){return r[o]&&r[o].update instanceof Function},S=function(t,a){var i={data:a||T.data,parent:T.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(i.observable=t),r[o].update(i)},x=_.get(i);if(x)return x;if(o=o||"",h){var P=[],R=!1,E=function(e){return e};r[o]&&r[o].key&&(E=r[o].key,R=!0),e.isObservable(a)||(a=e.observableArray([]),a.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return a.remove(function(e){return t(E(e))})},a.mappedRemoveAll=function(t){var i=b(t,E);return a.remove(function(t){return e.utils.arrayIndexOf(i,E(t))!=-1})},a.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return a.destroy(function(e){return t(E(e))})},a.mappedDestroyAll=function(t){var i=b(t,E);return a.destroy(function(t){return e.utils.arrayIndexOf(i,E(t))!=-1})},a.mappedIndexOf=function(t){var i=b(a(),E),n=E(t);return e.utils.arrayIndexOf(i,n)},a.mappedGet=function(e){return a()[a.mappedIndexOf(e)]},a.mappedCreate=function(t){if(a.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");var i=k()?w(t):t;if(D()){var n=S(i,t);e.isWriteableObservable(i)?i(n):i=n}return a.push(i),i});var O=b(e.utils.unwrapObservable(a),E).sort(),M=b(i,E);R&&M.sort();var V,N,C=e.utils.compareArrays(O,M),B={},L=e.utils.unwrapObservable(i),F={},H=!0;for(V=0,N=L.length;V<N;V++){var U=E(L[V]);if(void 0===U||U instanceof Object){H=!1;break}F[U]=L[V]}var z=[],G=0;for(V=0,N=C.length;V<N;V++){var j,U=C[V],q=f+"["+V+"]";switch(U.status){case"added":var Y=H?F[U.value]:m(e.utils.unwrapObservable(i),U.value,E);j=s(void 0,Y,r,o,a,q,c),k()||(j=e.utils.unwrapObservable(j));var Q=u(e.utils.unwrapObservable(i),Y,B);j===I?G++:z[Q-G]=j,B[Q]=!0;break;case"retained":var Y=H?F[U.value]:m(e.utils.unwrapObservable(i),U.value,E);j=m(a,U.value,E),s(j,Y,r,o,a,q,c);var Q=u(e.utils.unwrapObservable(i),Y,B);z[Q]=j,B[Q]=!0;break;case"deleted":j=m(a,U.value,E)}P.push({event:U.status,item:j})}a(z),r[o]&&r[o].arrayChanged&&e.utils.arrayForEach(P,function(e){r[o].arrayChanged(e.event,e.item)})}else if(d(i)){if(a=e.utils.unwrapObservable(a),!a){if(k()){var K=w();return D()&&(K=S(K)),K}if(D())return S(K);a={}}if(D()&&(a=S(a)),_.save(i,a),D())return a;p(i,function(t){var n=f.length?f+"."+t:t;if(e.utils.arrayIndexOf(r.ignore,n)==-1){if(e.utils.arrayIndexOf(r.copy,n)!=-1)return void(a[t]=i[t]);if("object"!=typeof i[t]&&"array"!=typeof i[t]&&r.observe.length>0&&e.utils.arrayIndexOf(r.observe,n)==-1)return a[t]=i[t],void(r.copiedProperties[n]=!0);var o=_.get(i[t]),l=s(a[t],i[t],r,t,a,n,a),u=o||l;if(r.observe.length>0&&e.utils.arrayIndexOf(r.observe,n)==-1)return a[t]=u(),void(r.copiedProperties[n]=!0);e.isWriteableObservable(a[t])?(u=e.utils.unwrapObservable(u),a[t]()!==u&&a[t](u)):(u=void 0===a[t]?u:e.utils.unwrapObservable(u),a[t]=u),r.mappedProperties[n]=!0}})}else switch(t.getType(i)){case"function":D()?e.isWriteableObservable(i)?(i(S(i)),a=i):a=S(i):a=i;break;default:if(e.isWriteableObservable(a)){if(D()){var W=S(a);return a(W),W}var W=e.utils.unwrapObservable(i);return a(W),W}var J=k()||D();if(a=k()?w():e.observable(e.utils.unwrapObservable(i)),D()&&a(S(a)),J)return a}return a}function u(e,t,a){for(var i=0,n=e.length;i<n;i++)if(a[i]!==!0&&e[i]===t)return i;return null}function c(a,i){var n;return i&&(n=i(a)),"undefined"===t.getType(n)&&(n=a),e.utils.unwrapObservable(n)}function m(t,a,i){t=e.utils.unwrapObservable(t);for(var n=0,r=t.length;n<r;n++){var o=t[n];if(c(o,i)===a)return o}throw new Error("When calling ko.update*, the key '"+a+"' was not found!")}function b(t,a){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return a?c(e,a):e})}function p(e,a){if("array"===t.getType(e))for(var i=0;i<e.length;i++)a(i);else for(var n in e)a(n)}function d(e){var a=t.getType(e);return("object"===a||"array"===a)&&null!==e}function f(e,a,i){var n=e||"";return"array"===t.getType(a)?e&&(n+="["+i+"]"):(e&&(n+="."),
n+=i),n}function g(){var t=[],a=[];this.save=function(i,n){var r=e.utils.arrayIndexOf(t,i);r>=0?a[r]=n:(t.push(i),a.push(n))},this.get=function(i){var n=e.utils.arrayIndexOf(t,i),r=n>=0?a[n]:void 0;return r}}function h(){var e={},t=function(t){var a;try{a=t}catch(e){a="$$$"}var i=e[a];return void 0===i&&(i=new g,e[a]=i),i};this.save=function(e,a){t(e).save(e,a)},this.get=function(e){return t(e).get(e)}}var v,_,y=!0,A="__ko_mapping__",T=e.dependentObservable,k=0,w=["create","update","key","arrayChanged"],I={},D={include:["_destroy"],ignore:[],copy:[],observe:[]},S=D;t.isMapped=function(t){var a=e.utils.unwrapObservable(t);return a&&a[A]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{k++||(v=[],_=new h);var t,a;2==arguments.length&&(arguments[1][A]?a=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],a=arguments[2]),a&&(t=n(t,a[A])),t=r(t);var i=s(a,e,t);if(a&&(i=a),!--k)for(;v.length;){var o=v.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return i[A]=n(i[A],t),i}catch(e){throw k=0,e}},t.fromJSON=function(a){var i=e.utils.parseJson(a);return arguments[0]=i,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(a,i){if(S||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(S.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(S.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(S.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return i=r(i,a[A]),t.visitModel(a,function(t){return e.utils.unwrapObservable(t)},i)},t.toJSON=function(a,i){var n=t.toJS(a,i);return e.utils.stringifyJson(n)},t.defaultOptions=function(){return arguments.length>0?void(S=arguments[0]):S},t.resetDefaultOptions=function(){S={include:D.include.slice(0),ignore:D.ignore.slice(0),copy:D.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(a,i,n){n=n||{},n.visitedObjects=n.visitedObjects||new h;var o,l=e.utils.unwrapObservable(a);if(!d(l))return i(a,n.parentName);n=r(n,l[A]),i(a,n.parentName),o="array"===t.getType(l)?[]:{},n.visitedObjects.save(a,o);var s=n.parentName;return p(l,function(a){if(!n.ignore||e.utils.arrayIndexOf(n.ignore,a)==-1){var r=l[a];if(n.parentName=f(s,l,a),e.utils.arrayIndexOf(n.copy,a)!==-1||e.utils.arrayIndexOf(n.include,a)!==-1||!l[A]||!l[A].mappedProperties||l[A].mappedProperties[a]||!l[A].copiedProperties||l[A].copiedProperties[a]||"array"===t.getType(l)){switch(t.getType(e.utils.unwrapObservable(r))){case"object":case"array":case"undefined":var u=n.visitedObjects.get(r);o[a]="undefined"!==t.getType(u)?u:t.visitModel(r,i,n);break;default:o[a]=i(r,n.parentName)}}}}),o}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(e,t,a){(function(i){!function(n){"function"==typeof e&&"object"==typeof a&&"object"==typeof t?n("undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,a):"function"==typeof define&&define.amd?define(["knockout","exports"],n):n(ko,ko.wrap={})}(function(e,t){function a(e){var t=typeof e;return"object"===t&&(e?e.constructor==Date?t="date":"[object Array]"==Object.prototype.toString.call(e)&&(t="array"):t="null"),t}function i(t){var a={};for(var i in t){var n=t[i];e.isComputed(n)||(a[i]=r(n))}return a}function n(e){var t=[];if(!e||0==e.length)return t;for(var a=0,i=e.length;a<i;++a)t.push(r(e[a]));return t}function r(t){var o=e.isObservable(t);if(o){var l=t();return r(l)}return"array"==a(t)?n(t):"object"==a(t)?i(t):t}function o(){b=[{obj:null,wrapped:null,lvl:""}]}function l(t,a){for(var i=0;i<b.length;++i)if(b[i].obj===t)return b[i].wrapped;var n={};for(var r in t){var o=t[r];b.push({obj:t,wrapped:n,lvl:u()+"/"+r}),n[r]=c(o,a),b.pop()}return a&&a[u()]&&(n=a[u()](n)),m()&&e.track(n),n}function s(t,a){var i=e.observableArray();if(!t||0==t.length)return i;for(var n=0,r=t.length;n<r;++n)i.push(c(t[n],a));return i}function u(){return b[b.length-1].lvl}function c(t,i){if("array"==a(t))return s(t,i);if("object"==a(t))return l(t,i);if(m()||"function"==typeof t)return t;var n=e.observable();return n(t),n}function m(){return null!=e.track}t.fromJS=function(e,t){return o(),c(e,t)},t.updateFromJS=function(t,a,i){return o(),t(e.utils.unwrapObservable(c(a,i)))},t.fromJSON=function(a,i){var n=e.utils.parseJson(a);return arguments[0]=n,t.fromJS.apply(this,i)},t.toJS=function(e){return r(e)},t.toJSON=function(a){var i=t.toJS(a);return e.utils.stringifyJson(i)};var b})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[17])(17)});
