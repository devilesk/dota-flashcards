!function e(t,a,i){function r(o,l){if(!a[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=a[o]={exports:{}};t[o][0].call(c.exports,function(e){var a=t[o][1][e];return r(a?a:e)},c,c.exports,e,t,a,i)}return a[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,a){(function(e){var a="undefined"!=typeof window?window.btoa:"undefined"!=typeof e?e.btoa:null,i="undefined"!=typeof window?window.atob:"undefined"!=typeof e?e.atob:null,r=function(){function e(e){var t,a,i,r,n="";for(t=e.length-1;t>=3;t-=4){for(i=e.substr(t+1-4,4),r=0,a=0;a<4;a+=1){if("0"!==i[a]&&"1"!==i[a])return{valid:!1};r=2*r+parseInt(i[a],10)}n=r>=10?String.fromCharCode(r-10+"A".charCodeAt(0))+n:String(r)+n}if(t>=0){for(r=0,a=0;a<=t;a+=1){if("0"!==e[a]&&"1"!==e[a])return{valid:!1};r=2*r+parseInt(e[a],10)}n=String(r)+n}return{valid:!0,result:n}}function t(e){var t,a="",i={0:"0000",1:"0001",2:"0010",3:"0011",4:"0100",5:"0101",6:"0110",7:"0111",8:"1000",9:"1001",a:"1010",b:"1011",c:"1100",d:"1101",e:"1110",f:"1111",A:"1010",B:"1011",C:"1100",D:"1101",E:"1110",F:"1111"};for(t=0;t<e.length;t+=1){if(!i.hasOwnProperty(e[t]))return{valid:!1};a+=i[e[t]]}return{valid:!0,result:a}}function r(e){return a(String.fromCharCode.apply(null,e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function n(e){for(var t=0,a=i(e.replace(/[ \r\n]+$/,"")),r=[];t<a.length;++t){var n=a.charCodeAt(t).toString(16);1===n.length&&(n="0"+n),r[r.length]=n}return r.join("")}function o(e){this.size=e,this.data=[];for(var t=0;t<e;t++)this.data.push(!1)}return o.prototype.set=function(e){this.data[e]=!0},o.prototype.clear=function(e){this.data[e]=!1},o.prototype.value=function(e,t){return void 0===t?this.data[e]:void(this.data[e]=!!t)},o.prototype.toBase64=function(){for(var t="",a=0;a<this.data.length;a++)t+=this.data[a]?"1":"0";return r(e(t).result)},o.prototype.fromBase64=function(e){e=e||"";var a=n(e),i=t(a).result;this.data=[];for(var r=0;r<this.size;r++)this.data[r]="1"===i.charAt(r)},o.prototype.toBase64UrlSafe=function(){return this.urlEncode(this.toBase64())},o.prototype.fromBase64UrlSafe=function(e){return this.fromBase64(this.urlDecode(e))},o.prototype.urlEncode=function(e){return e=e||"",e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},o.prototype.urlDecode=function(e){e=e||"";var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 2:t+="==";break;case 3:t+="="}return t},o}();t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,a){"use strict";var i=e("./herocalc_knockout"),r=e("./herocalc_abilitydata"),n=function(e,t){var a=this;a.hero=t,a.abilityData=r,a.hasScepter=i.observable(!1),a.isShapeShiftActive=i.observable(!1),a.abilities=e,a._abilities=a.abilities();for(var n=0;n<a.abilities().length;n++)a._abilities[n].level=i.observable(0),a._abilities[n].isActive=i.observable(!1),a._abilities[n].isDetail=i.observable(!1),a._abilities[n].baseDamage=i.observable(0),a._abilities[n].baseDamageReductionPct=i.observable(0),a._abilities[n].baseDamageMultiplier=i.observable(0),a._abilities[n].bash=i.observable(0),a._abilities[n].bashBonusDamage=i.observable(0),a._abilities[n].bonusDamage=i.observable(0),a._abilities[n].bonusDamageOrb=i.observable(0),a._abilities[n].bonusDamagePct=i.observable(0),a._abilities[n].bonusDamagePrecisionAura=i.observable(0),a._abilities[n].bonusDamageReduction=i.observable(0),a._abilities[n].bonusHealth=i.observable(0),a._abilities[n].bonusStrength=i.observable(0),a._abilities[n].bonusStrength2=i.observable(0),a._abilities[n].bonusAgility=i.observable(0),a._abilities[n].bonusAgility2=i.observable(0),a._abilities[n].bonusInt=i.observable(0),a._abilities[n].bonusAllStatsReduction=i.observable(0),a._abilities[n].damageAmplification=i.observable(0),a._abilities[n].damageReduction=i.observable(0),a._abilities[n].evasion=i.observable(0),a._abilities[n].magicResist=i.observable(0),a._abilities[n].manaregen=i.observable(0),a._abilities[n].manaregenreduction=i.observable(0),a._abilities[n].missChance=i.observable(0),a._abilities[n].movementSpeedFlat=i.observable(0),a._abilities[n].movementSpeedPct=i.observable(0),a._abilities[n].movementSpeedPctReduction=i.observable(0),a._abilities[n].turnRateReduction=i.observable(0),a._abilities[n].attackrange=i.observable(0),a._abilities[n].attackspeed=i.observable(0),a._abilities[n].attackspeedreduction=i.observable(0),a._abilities[n].armor=i.observable(0),a._abilities[n].armorReduction=i.observable(0),a._abilities[n].healthregen=i.observable(0),a._abilities[n].lifesteal=i.observable(0),a._abilities[n].visionnight=i.observable(0),a._abilities[n].visionday=i.observable(0);a.abilityControlData={},a.abilitySettingsData=function(e,t,i){return void 0==a.abilityControlData[e]?a.processAbility(e,t,i,a.abilityData[e]):a.abilityControlData[e]},a.processAbility=function(e,t,r,n){var o={};o.data=[];for(var l,s=[],u=0;u<n.length;u++)switch(n[u].controlType){case"input":l=i.observable(0).extend({numeric:2}),l.controlValueType=n[u].controlValueType,s.push(l),o.data.push({labelName:n[u].label.toUpperCase()+":",controlVal:l,controlType:n[u].controlType,display:n[u].display});break;case"checkbox":l=i.observable(!1),l.controlValueType=n[u].controlValueType,s.push(l),o.data.push({labelName:n[u].label.toUpperCase()+"?",controlVal:l,controlType:n[u].controlType,display:n[u].display});break;case"radio":l=i.observable(n[u].controlOptions[0].value),l.controlValueType=n[u].controlValueType,s.push(l),o.data.push({labelName:n[u].label.toUpperCase()+"?",controlVal:l,controlType:n[u].controlType,display:n[u].display,controlOptions:n[u].controlOptions});break;case"method":case"text":if(void 0==n[u].controls){if(n[u].noLevel)var c=function(t){return{fn:i.computed(function(){var i=a.abilities().find(function(t){return t.name==e});return a.getAbilityAttributeValue(i.attributes,t,0)})}};else var c=function(t){return{fn:i.computed(function(){var i=a.abilities().find(function(t){return t.name==e});return a.getAbilityAttributeValue(i.attributes,t,i.level())})}};var m=c(n[u].attributeName),b=a.getComputedFunction(l,m.fn,n[u].fn,t,r,a,n[u].returnProperty,void 0,e);if(n[u].ignoreTooltip)var d=n[u].label||n[u].attributeName;else var d=a.getAbilityAttributeTooltip(a.abilities()[r].attributes,n[u].attributeName)||n[u].label||n[u].attributeName;o.data.push({labelName:d.toUpperCase(),controlVal:b,controlType:n[u].controlType,display:n[u].display,clean:m.fn})}else{if(n[u].noLevel)var c=function(e){return{fn:i.computed(function(){return a.getAbilityAttributeValue(a.abilities()[r].attributes,e,0)})}};else var c=function(e){return{fn:i.computed(function(){return a.getAbilityAttributeValue(a.abilities()[r].attributes,e,a.abilities()[r].level())})}};var m=c(n[u].attributeName),b=a.getComputedFunction(s,m.fn,n[u].fn,t,r,a,n[u].returnProperty,n[u].controls,e);if(n[u].ignoreTooltip)var d=n[u].label||n[u].attributeName;else var d=a.getAbilityAttributeTooltip(a.abilities()[r].attributes,n[u].attributeName)||n[u].label||n[u].attributeName;o.data.push({labelName:d.toUpperCase(),controlVal:b,controlType:n[u].controlType,display:n[u].display,clean:m.fn})}"method"==n[u].controlType&&s.push(b)}return a.abilityControlData[e]=o,o},a.getComputedFunction=function(e,t,a,r,n,o,l,s,u){var c=o.abilities().find(function(e){return e.name==u});return i.pureComputed(function(){var i;if(void 0==s)i=void 0==e?e:"boolean"==typeof e()?e():void 0==e.controlValueType?parseFloat(e()):"string"==e.controlValueType?e():parseFloat(e());else{for(var u=[],m=0;m<s.length;m++)switch(typeof e[s[m]]()){case"boolean":case"object":u.push(e[s[m]]());break;default:u.push(parseFloat(e[s[m]]()))}i=u}var b=a.call(this,i,t(),r,n,o,c);return void 0!=l&&c[l](b),b},this)},a.getAbilityLevelByAbilityName=function(e){for(var t=0;t<a.abilities().length;t++)if(a._abilities[t].name==e)return a._abilities[t].level();return-1},a.getAbilityByName=function(e){for(var t=0;t<a.abilities().length;t++)if(a._abilities[t].name==e)return a._abilities[t]},a.getAbilityPropertyValue=function(e,t){return parseFloat(e[t]()[e.level()-1])},a.getAttributeBonusLevel=function(){for(var e=0;e<a.abilities().length;e++)if("attribute_bonus"==a._abilities[e].name)return a._abilities[e].level();return 0},a.getAllStatsReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusAllStatsReduction&&(e+=i.bonusAllStatsReduction());else for(var r=0;r<a._abilities[t].attributes.length;r++){a._abilities[t].attributes[r]}}return e}),a.getStrengthReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusStrength&&"undying_decay"==i.name&&(e-=i.bonusStrength());else for(var r=0;r<a._abilities[t].attributes.length;r++){a._abilities[t].attributes[r]}}return e}),a.getStrength=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.bonusStrength&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_quas"==i.name)&&(e+=i.bonusStrength()),void 0!=i.bonusStrength2&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=i.bonusStrength2());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var r=0;r<a._abilities[t].attributes.length;r++){a._abilities[t].attributes[r]}}return e}),a.getAgility=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.bonusAgility&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_wex"==i.name)&&(e+=i.bonusAgility()),void 0!=i.bonusAgility2&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=i.bonusAgility2());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"marksmanship_agility_bonus":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getIntelligence=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.bonusInt&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_exort"==i.name)&&(e+=i.bonusInt());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];n.name}}return e}),a.getArmor=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.armor&&(e+=i.armor());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_armor":"templar_assassin_meld"!=i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"warcry_armor":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"armor_bonus":"lich_frost_armor"!=i.name&&"ogre_magi_frost_armor"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()))}}}return e}),a.getArmorBaseReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(i.name){case"elder_titan_natural_order":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,"armor_reduction_pct",i.level())/100}}return e}),a.getArmorReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.armorReduction&&(e+=i.armorReduction());else switch(i.name){case"templar_assassin_meld":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"bonus_armor",i.level());break;case"tidehunter_gush":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"armor_bonus",i.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"armor_reduction",i.level());break;case"nevermore_dark_lord":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,"presence_armor_reduction",i.level())}}return e}),a.getHealth=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusHealth&&(e+=i.bonusHealth());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_hp":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"true_form_hp_bonus":a.isTrueFormActive()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()))}}}return e}),a.isTrueFormActive=function(){for(var e=0;e<a.abilities().length;e++){var t=a._abilities[e];if(t.isActive()&&"lone_druid_true_form"==t.name)return!0}return!1},a.getHealthRegen=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.healthregen&&(e+=i.healthregen());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"hp_regen":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getMana=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_mana":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getManaRegen=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.manaregen&&(e+=i.manaregen());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_mana_regen":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getManaRegenArcaneAura=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"mana_regen":"crystal_maiden_brilliance_aura"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()))}}}return e}),a.getManaRegenReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=i.manaregenreduction&&(e+=i.manaregenreduction())}return e}),a.getAttackRange=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0)if(i.name in a.abilityData)void 0!=i.attackrange&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=i.attackrange());else if(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1){for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"attack_range_bonus":case"bonus_attack_range":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"bonus_range":"terrorblade_metamorphosis"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())),"troll_warlord_berserkers_rage"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"bonus_range_scepter":"tiny_grow"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()))}}"lone_druid_true_form"==i.name&&(e-=422)}else if("enchantress_impetus"==i.name&&a.hasScepter())for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_attack_range_scepter":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getAttackSpeed=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.attackspeed&&(e+=i.attackspeed());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"attack_speed_bonus_pct":"clinkz_strafe"!=i.name&&"ursa_overpower"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"speed_bonus":"axe_culling_blade"!=i.name&&"necronomicon_archer_aoe"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"bonus_attack_speed":"beastmaster_inner_beast"!=i.name&&"lycan_feral_impulse"!=i.name&&"lone_druid_rabid"!=i.name&&"tiny_grow"!=i.name&&"phantom_assassin_phantom_strike"!=i.name&&"windrunner_focusfire"!=i.name&&"ogre_magi_bloodlust"!=i.name&&"centaur_khan_endurance_aura"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()))}}}return e}),a.getAttackSpeedReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.attackspeedreduction&&(e+=i.attackspeedreduction());else{for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"speed_bonus":"omniknight_degen_aura"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=i.name||a.hasScepter()?"tusk_frozen_sigil"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())):e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"slow":"medusa_stone_gaze"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"attackspeed_bonus":e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()))}}"enraged_wildkin_tornado"==i.name&&(e-=15)}}return e}),a.getBash=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bash&&(e*=1-i.bash()/100);else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"chance":case"proc_chance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100}}}return e}),a.getBaseDamage=i.computed(function(){for(var e=0,t=1,i={},r=0;r<a.abilities().length;r++){var n=a._abilities[r];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(n.name in a.abilityData)void 0!=n.baseDamageMultiplier&&(t+=n.baseDamageMultiplier()/100),void 0!=n.baseDamage&&(e+=n.baseDamage(),i[n.name]={damage:n.baseDamage(),damageType:"physical",displayname:n.displayname});else for(var o=0;o<a._abilities[r].attributes.length;o++){var l=a._abilities[r].attributes[o];switch(l.name){case"bonus_damage":"tiny_grow"!=n.name&&"terrorblade_metamorphosis"!=n.name||(e+=a.getAbilityAttributeValue(a._abilities[r].attributes,l.name,n.level()),i[n.name]={damage:a.getAbilityAttributeValue(a._abilities[r].attributes,l.name,n.level()),damageType:"physical",displayname:n.displayname})}}}return{sources:i,total:e,multiplier:t}}),a.getSelfBaseDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"damage_modifier":e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"focusfire_damage_reduction":a.hasScepter()||(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"focusfire_damage_reduction_scepter":a.hasScepter()&&(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}}return e}),a.getBaseDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.baseDamageReductionPct&&(e*=1+i.baseDamageReductionPct()/100);else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_damage_pct":"vengefulspirit_command_aura"==i.name&&(e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}}return e}),a.getBAT=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"base_attack_time":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getBonusDamage=i.computed(function(){for(var e=0,t={},i=0;i<a.abilities().length;i++){var r=a._abilities[i];if(r.level()>0&&(r.isActive()||r.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(r.name in a.abilityData)void 0!=r.bonusDamage&&0!=r.bonusDamage()&&(e+=r.bonusDamage(),t[r.name]={damage:r.bonusDamage(),damageType:"spectre_desolate"==r.name?"pure":"physical",displayname:r.displayname});else{for(var n=0;n<a._abilities[i].attributes.length;n++){var o=a._abilities[i].attributes[n];switch(o.name){case"bonus_damage":"broodmother_insatiable_hunger"!=r.name&&"luna_lunar_blessing"!=r.name&&"templar_assassin_refraction"!=r.name&&"templar_assassin_meld"!=r.name&&"troll_warlord_berserkers_rage"!=r.name&&"lone_druid_true_form_battle_cry"!=r.name||(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level()),t[r.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level()),damageType:"physical",displayname:r.displayname});break;case"hero_bonus_damage":e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level()),t[r.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level()),damageType:"physical",displayname:r.displayname}}}"storm_spirit_overload"==r.name&&(e+=a.getAbilityPropertyValue(r,"damage"),t[r.name]={damage:a.getAbilityPropertyValue(r,"damage"),damageType:"magic",displayname:r.displayname})}}return{sources:t,total:e}}),a.getBonusDamagePercent=i.computed(function(){for(var e=0,t={},i=0;i<a.abilities().length;i++){var r=a._abilities[i];if(r.level()>0&&(r.isActive()||r.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(r.name in a.abilityData))for(var n=0;n<a._abilities[i].attributes.length;n++){var o=a._abilities[i].attributes[n];switch(o.name){case"damage_increase_pct":"bloodseeker_bloodrage"==r.name&&(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,t[r.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,damageType:"physical",displayname:r.displayname});break;case"bonus_damage_pct":"magnataur_empower"!=r.name&&"vengefulspirit_command_aura"!=r.name&&"alpha_wolf_command_aura"!=r.name||(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,t[r.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,damageType:"physical",displayname:r.displayname});break;case"gods_strength_damage":"sven_gods_strength"==r.name&&void 0!=a.hero&&"sven"==a.hero.heroId()&&(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,t[r.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,damageType:"physical",displayname:r.displayname});break;case"gods_strength_damage_scepter":"sven_gods_strength"==r.name&&void 0==a.hero&&(e+=a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,t[r.name]={damage:a.getAbilityAttributeValue(a._abilities[i].attributes,o.name,r.level())/100,damageType:"physical",displayname:r.displayname})}}}return{sources:t,total:e}}),a.getBonusDamageBackstab=i.computed(function(){for(var e=0,t=0,i=[],r=0;r<a.abilities().length;r++){var n=a._abilities[r];if("riki_backstab"==n.name&&n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var o=0;o<a._abilities[r].attributes.length;o++){var l=a._abilities[r].attributes[o];switch(l.name){case"damage_multiplier":e+=a.getAbilityAttributeValue(a._abilities[r].attributes,l.name,n.level()),i.push({damage:a.getAbilityAttributeValue(a._abilities[r].attributes,l.name,n.level()),damageType:"physical",displayname:n.displayname})}}}return{sources:i,total:[e,t]}}),a.getBonusDamagePrecisionAura=i.computed(function(){for(var e=0,t=0,i=[],r=0;r<a.abilities().length;r++){var n=a._abilities[r];if("drow_ranger_trueshot"==n.name&&n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){for(var o=0;o<a._abilities[r].attributes.length;o++){var l=a._abilities[r].attributes[o];switch(l.name){case"trueshot_ranged_damage":e+=a.getAbilityAttributeValue(a._abilities[r].attributes,l.name,n.level())/100,i.push({damage:a.getAbilityAttributeValue(a._abilities[r].attributes,l.name,n.level())/100,damageType:"physical",displayname:n.displayname})}}void 0!=n.bonusDamagePrecisionAura&&(t+=n.bonusDamagePrecisionAura(),i.push({damage:n.bonusDamagePrecisionAura(),damageType:"physical",displayname:n.displayname}))}}return{sources:i,total:[e,t]}}),a.getBonusDamageReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusDamageReduction&&(e+=i.bonusDamageReduction());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"enfeeble_attack_reduction":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getBonusDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"damage_modifier":e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"focusfire_damage_reduction":a.hasScepter()||(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"focusfire_damage_reduction_scepter":a.hasScepter()&&(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}}return e}),a.getDamageAmplification=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=i.damageAmplification&&(e*=1+i.damageAmplification()/100)}return e}),a.getDamageReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.damageReduction&&(e*=1+i.damageReduction()/100);else{for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"damage_increase_pct":"bloodseeker_bloodrage"==i.name&&(e*=1+a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}"kunkka_ghostship"==i.name&&(e*=.5)}}return e}),a.getCritSource=i.computed(function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))switch(i.name){case"phantom_assassin_coup_de_grace":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_bonus",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_multiplier",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_multiplier",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_mult",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"juggernaut_blade_dance":void 0==e[i.name]?e[i.name]={
chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"blade_dance_crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"blade_dance_crit_mult",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[i.name]?e[i.name]={chance:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a._abilities[t].attributes,"crit_mult",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1}}return e}),a.getCleaveSource=i.computed(function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))switch(i.name){case"magnataur_empower":void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"cleave_radius",i.level()),magnitude:a.getAbilityAttributeValue(a._abilities[t].attributes,"cleave_damage_pct",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"sven_great_cleave":void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"great_cleave_radius",i.level()),magnitude:a.getAbilityAttributeValue(a._abilities[t].attributes,"great_cleave_damage",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"kunkka_tidebringer":void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"radius",i.level()),magnitude:1,count:1,displayname:i.displayname}:e[i.name].count+=1;break;case"tiny_grow":a.hasScepter()&&(void 0==e[i.name]?e[i.name]={radius:a.getAbilityAttributeValue(a._abilities[t].attributes,"bonus_cleave_radius_scepter",i.level()),magnitude:a.getAbilityAttributeValue(a._abilities[t].attributes,"bonus_cleave_damage_scepter",i.level())/100,count:1,displayname:i.displayname}:e[i.name].count+=1)}}return e}),a.getCritChance=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"crit_chance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100}}}return e}),a.getEvasion=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_evasion":case"dodge_chance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100}}}return e}),a.getEvasionBacktrack=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"dodge_chance_pct":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100}}}return e}),a.getMissChance=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.missChance&&(e*=1-i.missChance()/100);else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"miss_chance":case"miss_rate":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100}}}return e}),a.getLifesteal=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.lifesteal&&(e+=i.lifesteal());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"vampiric_aura":case"lifesteal_pct":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getMagicResist=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.magicResist&&(e*=1-i.magicResist()/100);else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"spell_shield_resistance":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==i.name&&(e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==i.name&&(e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}}return e}),a.getMagicResistReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"magic_resistance_pct":e*=1-a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100}}}return e}),a.getMovementSpeedFlat=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.movementSpeedFlat&&(e+=i.movementSpeedFlat());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"bonus_movespeed":"alchemist_chemical_rage"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"bonus_movement_speed":"tiny_grow"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level()));break;case"speed_loss":e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getMovementSpeedPercent=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.movementSpeedPct&&(e+=i.movementSpeedPct()/100);else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"bonus_movespeed":"broodmother_spin_web"!=i.name&&"spectre_spectral_dagger"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"speed_bonus":"axe_culling_blade"!=i.name&&"necronomicon_archer_aoe"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"bonus_movement_speed":"ogre_magi_bloodlust"!=i.name&&"death_prophet_witchcraft"!=i.name&&"kobold_taskmaster_speed_aura"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movement_speed_pct":"razor_unstable_current"!=i.name&&"phantom_lancer_doppelwalk"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"bonus_move_speed":"treant_natures_guise"!=i.name&&"lone_druid_rabid"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movespeed":"wisp_tether"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movespeed_bonus":"kunkka_ghostship"!=i.name&&"visage_grave_chill"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}}return e}),a.getMovementSpeedPercentReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.movementSpeedPctReduction&&(e+=i.movementSpeedPctReduction()/100);else{for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"movespeed_slow":"crystal_maiden_freezing_field"!=i.name||a.hasScepter()||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==i.name&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"slow_pct":e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100:"tusk_frozen_sigil"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"slow":"medusa_stone_gaze"==i.name?e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100:e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==i.name||"bounty_hunter_jinada"==i.name||"winter_wyvern_arctic_burn"==i.name||"winter_wyvern_splinter_blast"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100:"spectre_spectral_dagger"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movement_speed":"tidehunter_gush"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"bonus_movement_speed":"pugna_decrepify"!=i.name&&"chen_penitence"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==i.name||"phantom_lancer_spirit_lance"==i.name||"faceless_void_time_walk"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100:"skywrath_mage_concussive_shot"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"slow_amount":"razor_unstable_current"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==i.name||"brewmaster_thunder_clap"==i.name?e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100:"ursa_earthshock"!=i.name&&"treant_leech_seed"!=i.name||(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==i.name&&(e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==i.name?e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100:"visage_grave_chill"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}"satyr_trickster_purge"==i.name?e-=.8:"enraged_wildkin_tornado"==i.name&&(e-=.15)}}return e}),a.getTurnRateReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.turnRateReduction&&(e+=i.turnRateReduction()/100);else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"slow":"medusa_stone_gaze"==i.name&&(e-=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100)}}}return e}),a.getVisionRangeNight=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.visionnight&&(e+=i.visionnight());else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"night_vision_bonus":case"bonus_night_vision":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())}}}return e}),a.getVisionRangePctReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(i.name in a.abilityData))for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"blind_percentage":e+=a.getAbilityAttributeValue(a._abilities[t].attributes,n.name,i.level())/100}}}return e}),a.setEvasion=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&"windrunner_windrun"==i.name)return 1}return e}),a.setMovementSpeed=i.computed(function(){for(var e=522,t=100,i=0,r=0;r<a.abilities().length;r++){var n=a._abilities[r];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){if("spirit_breaker_charge_of_darkness"==n.name)return a.getAbilityAttributeValue(n.attributes,"movement_speed",n.level());if("dark_seer_surge"==n.name)return e;if("centaur_stampede"==n.name)return e;if("lycan_shapeshift"==n.name)return e;if("lion_voodoo"==n.name||"shadow_shaman_voodoo"==n.name)return t}}return i}),a.getBashSource=function(e){for(var t={},i=0;i<a.abilities().length;i++){var r=a._abilities[i];if(r.level()>0&&(r.isActive()||r.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(r.name in a.abilityData)void 0!=r.bashBonusDamage&&(void 0==t[r.name]&&"faceless_void_time_lock"==r.name&&(t[r.name]={chance:r.bash()/100,damage:r.bashBonusDamage(),count:1,damageType:"magic",displayname:r.displayname}),void 0==t[r.name]&&"spirit_breaker_greater_bash"==r.name&&(t[r.name]={chance:r.bash()/100,damage:r.bashBonusDamage()/100,count:1,damageType:"magic",displayname:r.displayname}));else for(var n=0;n<a._abilities[i].attributes.length;n++){var o=a._abilities[i].attributes[n];switch(o.name){case"proc_chance":void 0==t[r.name]&&"sniper_headshot"==r.name&&(t[r.name]={chance:a.getAbilityAttributeValue(r.attributes,o.name,r.level())/100,damage:a.getAbilityPropertyValue(r,"damage"),count:1,damageType:"physical",displayname:r.displayname});break;case"chance":void 0==t[r.name]&&"slardar_bash"==r.name&&(t[r.name]={chance:a.getAbilityAttributeValue(r.attributes,o.name,r.level())/100,damage:a.getAbilityAttributeValue(r.attributes,"bonus_damage",r.level()),count:1,damageType:"physical",displayname:r.displayname})}}}return t},a.getOrbSource=function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a._abilities[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(i.name in a.abilityData)void 0!=i.bonusDamageOrb&&void 0==e[i.name]&&"obsidian_destroyer_arcane_orb"==i.name&&(e[i.name]={damage:i.bonusDamageOrb(),damageType:"pure",displayname:i.displayname});else for(var r=0;r<a._abilities[t].attributes.length;r++){var n=a._abilities[t].attributes[r];switch(n.name){case"mana_per_hit":void 0==e[i.name]&&"antimage_mana_break"==i.name&&(e[i.name]={damage:a.getAbilityAttributeValue(i.attributes,n.name,i.level())*a.getAbilityAttributeValue(i.attributes,"damage_per_burn",i.level()),damageType:"physical",displayname:i.displayname});break;case"damage_bonus":void 0==e[i.name]&&"clinkz_searing_arrows"==i.name&&(e[i.name]={damage:a.getAbilityAttributeValue(i.attributes,n.name,i.level()),damageType:"physical",displayname:i.displayname});case"intellect_damage_pct":void 0==e[i.name]&&"silencer_glaives_of_wisdom"==i.name&&(e[i.name]={damage:a.getAbilityAttributeValue(i.attributes,n.name,i.level())/100*a.hero.totalInt(),damageType:"pure",displayname:i.displayname})}}}return e},a.toggleAbility=function(e,t,i){a.abilities()[e()].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(a.abilities()[e()].isActive()?a.abilities()[e()].isActive(!1):a.abilities()[e()].isActive(!0),"lycan_shapeshift"==a.abilities()[e()].name&&a.isShapeShiftActive(a.abilities()[e()].isActive()))}.bind(this),a.toggleAbilityDetail=function(e,t,i){a.abilities()[e()].isDetail()?a.abilities()[e()].isDetail(!1):a.abilities()[e()].isDetail(!0)}.bind(this),a.getAbility=function(e){return a.abilities().find(function(t){return t.name==e})}};n.prototype.levelUpAbility=function(e,t,a,i){var r=this;if(r.abilities()[e()].level()<i.getAbilityLevelMax(t)&&i.availableSkillPoints()>0){switch(r.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==i.heroId()?(0==r.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=2||1==r.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=7||2==r.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=11||3==r.abilities()[e()].level()&&parseInt(i.selectedHeroLevel())>=17)&&(r.abilities()[e()].level(r.abilities()[e()].level()+1),i.skillPointHistory.push(e())):"meepo"==i.heroId()?7*r.abilities()[e()].level()+3<=parseInt(i.selectedHeroLevel())&&(r.abilities()[e()].level(r.abilities()[e()].level()+1),i.skillPointHistory.push(e())):5*(r.abilities()[e()].level()+1)+1<=parseInt(i.selectedHeroLevel())&&(r.abilities()[e()].level(r.abilities()[e()].level()+1),i.skillPointHistory.push(e()));break;default:2*r.abilities()[e()].level()+1<=parseInt(i.selectedHeroLevel())&&(r.abilities()[e()].level(r.abilities()[e()].level()+1),i.skillPointHistory.push(e()))}switch(r.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":r.abilities()[e()+1].level(r.abilities()[e()].level());break;case"morphling_morph_str":r.abilities()[e()-1].level(r.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":r.abilities()[e()-1].level(r.abilities()[e()].level()),r.abilities()[e()-2].level(r.abilities()[e()].level());break;case"nevermore_shadowraze1":r.abilities()[e()+1].level(r.abilities()[e()].level()),r.abilities()[e()+2].level(r.abilities()[e()].level());break;case"nevermore_shadowraze2":r.abilities()[e()-1].level(r.abilities()[e()].level()),r.abilities()[e()+1].level(r.abilities()[e()].level());break;case"nevermore_shadowraze3":r.abilities()[e()-1].level(r.abilities()[e()].level()),r.abilities()[e()-2].level(r.abilities()[e()].level());break;case"ember_spirit_fire_remnant":r.abilities()[e()-1].level(r.abilities()[e()].level());break;case"lone_druid_true_form":r.abilities()[e()-1].level(r.abilities()[e()].level())}}},n.prototype.levelDownAbility=function(e,t,a,r){var n=i.utils.unwrapObservable(e),o=this;if(o.abilities()[n].level()>0)switch(o.abilities()[n].level(o.abilities()[n].level()-1),r.skillPointHistory.splice(r.skillPointHistory().lastIndexOf(n),1),o.abilities()[n].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":o.abilities()[n+1].level(o.abilities()[n].level());break;case"morphling_morph_str":o.abilities()[n-1].level(o.abilities()[n].level());break;case"keeper_of_the_light_spirit_form":o.abilities()[n-1].level(o.abilities()[n].level()),o.abilities()[n-2].level(o.abilities()[n].level());break;case"nevermore_shadowraze1":o.abilities()[n+1].level(o.abilities()[n].level()),o.abilities()[n+2].level(o.abilities()[n].level());break;case"nevermore_shadowraze2":o.abilities()[n-1].level(o.abilities()[n].level()),o.abilities()[n+1].level(o.abilities()[n].level());break;case"nevermore_shadowraze3":o.abilities()[n-1].level(o.abilities()[n].level()),o.abilities()[n-2].level(o.abilities()[n].level());break;case"ember_spirit_fire_remnant":o.abilities()[n-1].level(o.abilities()[n].level());break;case"lone_druid_true_form":o.abilities()[n-1].level(o.abilities()[n].level())}},n.prototype.getAbilityAttributeValue=function(e,t,a){for(var i=0;i<e.length;i++)if(e[i].name==t)return 0==a?parseFloat(e[i].value[0]):a>e[i].value.length?parseFloat(e[i].value[0]):parseFloat(e[i].value[a-1])},n.prototype.getAbilityAttributeTooltip=function(e,t){for(var a=0;a<e.length;a++)if(e[a].name==t){if(e[a].hasOwnProperty("tooltip")){var i=e[a].tooltip.replace(/\\n/g,"");return i}return""}return""},t.exports=n},{"./herocalc_abilitydata":19,"./herocalc_knockout":20}],3:[function(e,t,a){"use strict";var i=e("./herocalc_knockout"),r=e("./AbilityModel"),n=e("./inventory/InventoryViewModel"),o=e("./util/findWhere"),l=e("./buffs/buffOptionsArray"),s=e("./buffs/debuffOptionsArray"),u=function(e){var t=this;return r.call(this,i.observableArray([])),t.availableBuffs=i.observableArray(l.items),t.availableDebuffs=i.observableArray(s.items),t.selectedBuff=i.observable(t.availableBuffs()[0]),t.buffs=i.observableArray([]),t.itemBuffs=new n,t.addBuff=function(e,a){if(void 0==o(t.buffs(),{name:t.selectedBuff().buffName})){var r=JSON.parse(JSON.stringify(t.selectedBuff().abilityData));switch(r.level=i.observable(0),r.isActive=i.observable(!1),r.isDetail=i.observable(!1),r.baseDamage=i.observable(0),r.bash=i.observable(0),r.bashBonusDamage=i.observable(0),r.bonusDamage=i.observable(0),r.bonusDamageOrb=i.observable(0),r.bonusDamagePct=i.observable(0),r.bonusDamagePrecisionAura=i.observable(0),r.bonusDamageReduction=i.observable(0),r.bonusHealth=i.observable(0),r.bonusStrength=i.observable(0),r.bonusStrength2=i.observable(0),r.bonusAgility=i.observable(0),r.bonusAgility2=i.observable(0),r.bonusInt=i.observable(0),r.bonusAllStatsReduction=i.observable(0),r.damageAmplification=i.observable(0),r.damageReduction=i.observable(0),r.evasion=i.observable(0),r.magicResist=i.observable(0),r.manaregen=i.observable(0),r.manaregenreduction=i.observable(0),r.missChance=i.observable(0),r.movementSpeedFlat=i.observable(0),r.movementSpeedPct=i.observable(0),r.movementSpeedPctReduction=i.observable(0),r.turnRateReduction=i.observable(0),r.attackrange=i.observable(0),r.attackspeed=i.observable(0),r.attackspeedreduction=i.observable(0),r.armor=i.observable(0),r.armorReduction=i.observable(0),r.healthregen=i.observable(0),r.lifesteal=i.observable(0),r.visionnight=i.observable(0),r.visionday=i.observable(0),r.name){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":r.level(1)}t.abilities.push(r),t.buffs.push({name:t.selectedBuff().buffName,hero:t.selectedBuff().hero,data:r})}},t.removeBuff=function(e,a,i){if(void 0!=o(t.buffs(),{name:i})){if(t.buffs.remove(o(t.buffs(),{name:i})),void 0!=t.abilityControlData[i]){for(var r=0;r<t.abilityControlData[i].data.length;r++)void 0!=t.abilityControlData[i].data[r].controlVal.dispose&&t.abilityControlData[i].data[r].controlVal.dispose(),void 0!=t.abilityControlData[i].data[r].clean&&t.abilityControlData[i].data[r].clean.dispose();t.abilityControlData[i]=void 0}for(var r=0;r<t.abilities().length;r++)if(t.abilities()[r].name==i){t.abilities()[r].level(0),t.abilities.remove(t.abilities()[r]);break}}},t.toggleBuff=function(e,a,i){t.buffs()[e()].data.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(t.buffs()[e()].data.isActive()?(t.buffs()[e()].data.isActive(!1),t.abilities()[e()].isActive(!1)):(t.buffs()[e()].data.isActive(!0),t.abilities()[e()].isActive(!0)))}.bind(this),t.toggleBuffDetail=function(e,a,i){t.buffs()[e()].data.isDetail()?t.buffs()[e()].data.isDetail(!1):t.buffs()[e()].data.isDetail(!0)}.bind(this),t.levelUpAbility=function(e,a,i,r){if(t.abilities()[e()].level()<r.getAbilityLevelMax(a)){switch(t.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":t.abilities()[e()].level(t.abilities()[e()].level()+1);break;default:t.abilities()[e()].level(t.abilities()[e()].level()+1)}switch(t.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level())}}},t.levelDownAbility=function(e,a,i,r){if(t.abilities()[e()].level()>0)switch(t.abilities()[e()].level(t.abilities()[e()].level()-1),t.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());break;case"ember_spirit_fire_remnant":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"lone_druid_true_form":t.abilities()[e()-1].level(t.abilities()[e()].level())}},t};u.prototype=Object.create(r.prototype),u.prototype.constructor=u,t.exports=u},{"./AbilityModel":2,"./buffs/buffOptionsArray":5,"./buffs/debuffOptionsArray":6,"./herocalc_knockout":20,"./inventory/InventoryViewModel":23,"./util/findWhere":34}],4:[function(e,t,a){var i=e("../util/findWhere"),r=e("../data/main").heroData,n=e("../data/main").unitData,o=function(e,t){this.buffName=t,void 0==r["npc_dota_hero_"+e]?(this.hero=e,this.abilityData=i(n[e].abilities,{name:t}),this.buffDisplayName=n[e].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+e,this.abilityData=i(r["npc_dota_hero_"+e].abilities,{name:t}),this.buffDisplayName=r["npc_dota_hero_"+e].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==t&&(this.buffDisplayName+=" (Aura for allies)"))};t.exports=o},{"../data/main":7,"../util/findWhere":34}],5:[function(e,t,a){var i=e("./BuffModel"),r={},n=function(){return r.items=[new i("abaddon","abaddon_frostmourne"),new i("axe","axe_culling_blade"),new i("beastmaster","beastmaster_inner_beast"),new i("bloodseeker","bloodseeker_bloodrage"),new i("bounty_hunter","bounty_hunter_track"),new i("centaur","centaur_stampede"),new i("crystal_maiden","crystal_maiden_brilliance_aura"),new i("dark_seer","dark_seer_surge"),new i("dazzle","dazzle_weave"),new i("drow_ranger","drow_ranger_trueshot"),new i("invoker","invoker_alacrity"),new i("wisp","wisp_tether"),new i("wisp","wisp_overcharge"),new i("kunkka","kunkka_ghostship"),new i("lich","lich_frost_armor"),new i("life_stealer","life_stealer_open_wounds"),new i("luna","luna_lunar_blessing"),new i("lycan","lycan_howl"),new i("magnataur","magnataur_empower"),new i("mirana","mirana_leap"),new i("ogre_magi","ogre_magi_bloodlust"),new i("omniknight","omniknight_guardian_angel"),new i("rubick","rubick_null_field"),new i("skeleton_king","skeleton_king_vampiric_aura"),new i("spirit_breaker","spirit_breaker_empowering_haste"),new i("sven","sven_warcry"),new i("sven","sven_gods_strength"),new i("treant","treant_living_armor"),new i("troll_warlord","troll_warlord_battle_trance"),new i("vengefulspirit","vengefulspirit_command_aura"),new i("npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new i("npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new i("npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new i("npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new i("npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new i("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new i("npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new i("npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new i("npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")],r.items};r.init=n,t.exports=r},{"./BuffModel":4}],6:[function(e,t,a){var i=e("./BuffModel"),r={},n=function(){return r.items=[new i("abaddon","abaddon_frostmourne"),new i("alchemist","alchemist_acid_spray"),new i("ancient_apparition","ancient_apparition_ice_vortex"),new i("axe","axe_battle_hunger"),new i("bane","bane_enfeeble"),new i("batrider","batrider_sticky_napalm"),new i("beastmaster","beastmaster_primal_roar"),new i("bounty_hunter","bounty_hunter_jinada"),new i("brewmaster","brewmaster_thunder_clap"),new i("brewmaster","brewmaster_drunken_haze"),new i("bristleback","bristleback_viscous_nasal_goo"),new i("broodmother","broodmother_incapacitating_bite"),new i("centaur","centaur_stampede"),new i("chen","chen_penitence"),new i("crystal_maiden","crystal_maiden_crystal_nova"),new i("crystal_maiden","crystal_maiden_freezing_field"),new i("dazzle","dazzle_weave"),new i("drow_ranger","drow_ranger_frost_arrows"),new i("earth_spirit","earth_spirit_rolling_boulder"),new i("elder_titan","elder_titan_natural_order"),new i("elder_titan","elder_titan_earth_splitter"),new i("enchantress","enchantress_untouchable"),new i("enchantress","enchantress_enchant"),new i("faceless_void","faceless_void_time_walk"),new i("huskar","huskar_life_break"),new i("invoker","invoker_ghost_walk"),new i("invoker","invoker_ice_wall"),new i("wisp","wisp_tether"),new i("jakiro","jakiro_dual_breath"),new i("jakiro","jakiro_liquid_fire"),new i("keeper_of_the_light","keeper_of_the_light_blinding_light"),new i("kunkka","kunkka_torrent"),new i("lich","lich_frost_nova"),new i("lich","lich_frost_armor"),new i("lich","lich_chain_frost"),new i("life_stealer","life_stealer_open_wounds"),new i("lion","lion_voodoo"),new i("magnataur","magnataur_skewer"),new i("medusa","medusa_stone_gaze"),new i("meepo","meepo_geostrike"),new i("naga_siren","naga_siren_rip_tide"),new i("night_stalker","night_stalker_void"),new i("night_stalker","night_stalker_crippling_fear"),new i("night_stalker","night_stalker_darkness"),new i("ogre_magi","ogre_magi_ignite"),new i("omniknight","omniknight_degen_aura"),new i("phantom_assassin","phantom_assassin_stifling_dagger"),new i("phantom_lancer","phantom_lancer_spirit_lance"),new i("pudge","pudge_rot"),new i("pugna","pugna_decrepify"),new i("queenofpain","queenofpain_shadow_strike"),new i("riki","riki_smoke_screen"),new i("rubick","rubick_fade_bolt"),new i("sand_king","sandking_epicenter"),new i("nevermore","nevermore_dark_lord"),new i("shadow_shaman","shadow_shaman_voodoo"),new i("skeleton_king","skeleton_king_hellfire_blast"),new i("skeleton_king","skeleton_king_reincarnation"),new i("skywrath_mage","skywrath_mage_concussive_shot"),new i("skywrath_mage","skywrath_mage_ancient_seal"),new i("slardar","slardar_slithereen_crush"),new i("slardar","slardar_amplify_damage"),new i("slark","slark_essence_shift"),new i("sniper","sniper_shrapnel"),new i("spectre","spectre_spectral_dagger"),new i("storm_spirit","storm_spirit_overload"),new i("templar_assassin","templar_assassin_meld"),new i("tidehunter","tidehunter_gush"),new i("tinker","tinker_laser"),new i("treant","treant_leech_seed"),new i("tusk","tusk_frozen_sigil"),new i("undying","undying_flesh_golem"),new i("ursa","ursa_earthshock"),new i("vengefulspirit","vengefulspirit_wave_of_terror"),new i("vengefulspirit","vengefulspirit_command_aura"),new i("venomancer","venomancer_venomous_gale"),new i("venomancer","venomancer_poison_sting"),new i("viper","viper_poison_attack"),new i("viper","viper_corrosive_skin"),new i("viper","viper_viper_strike"),new i("visage","visage_grave_chill"),new i("warlock","warlock_upheaval"),new i("weaver","weaver_the_swarm"),new i("windrunner","windrunner_windrun"),new i("winter_wyvern","winter_wyvern_arctic_burn"),new i("winter_wyvern","winter_wyvern_splinter_blast"),new i("npc_dota_neutral_ghost","ghost_frost_attack"),new i("npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new i("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new i("npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new i("npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")],
r.items};r.init=n,t.exports=r},{"./BuffModel":4}],7:[function(e,t,a){var i={heroData:{},itemData:{},unitData:{},heroDataReady:!1,itemDataReady:!1,unitDataReady:!1},r=e("../util/getJSON"),n=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var a in arguments[t])arguments[t].hasOwnProperty(a)&&(e[a]=arguments[t][a]);return e},o=0,l=function(e){o--,0===o&&e&&e()},s=function(e,t,a,s){o=0,e&&o++,t&&o++,a&&o++,i.heroDataReady||e&&r(e,function(e){n(i.heroData,e),i.heroDataReady=!0,e.npc_dota_hero_chen.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[1].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_morphling.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_ogre_magi.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_techies.abilities[4].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_beastmaster.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE");var t=e.npc_dota_hero_lone_druid.abilities[3].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN");e.npc_dota_hero_lone_druid.abilities[3].behavior.splice(t,1),t=e.npc_dota_hero_abaddon.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_abaddon.abilities[2].behavior.splice(t,1),t=e.npc_dota_hero_riki.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_riki.abilities[2].behavior.splice(t,1),l(s)}),i.itemDataReady||t&&r(t,function(e){n(i.itemData,e),i.itemDataReady=!0,l(s)}),i.unitDataReady||a&&r(a,function(e){n(i.unitData,e),i.unitDataReady=!0,l(s)})};i.init=s,t.exports=i},{"../util/getJSON":35}],8:[function(e,t,a){"use strict";var i=e("./HeroModel"),r=function(e,t){var a=this;return i.call(this,e),a.parent=t,a};r.prototype=Object.create(i.prototype),r.prototype.constructor=r,t.exports=r},{"./HeroModel":11}],9:[function(e,t,a){var i={physical:"#979aa2",pure:"goldenrod",magic:"#428bca",default:"#979aa2"};t.exports=i},{}],10:[function(e,t,a){"use strict";var i=e("../herocalc_knockout"),r=e("./DamageTypeColor"),n=e("../data/main").itemData,o=e("../util/extend"),l=function(e){e.critInfo=i.pureComputed(function(){function t(e,t){return e.multiplier<t.multiplier?1:e.multiplier>t.multiplier?-1:0}var a=e.inventory.getCritSource();o(a,e.ability().getCritSource()),o(a,e.buffs.getCritSource());var i=[];for(var r in a){var n=a[r];n.name=r,i.push(n)}i.sort(t);for(var l=[],s=0,u=0;u<i.length;u++){for(var c=1,m=0;m<u;m++)for(var b=0;b<i[m].count;b++)c*=1-i[m].chance;for(var d=1,b=0;b<i[u].count;b++)d*=1-i[u].chance;c*=1-d,s+=c,i[u].count>1?l.push({name:i[u].displayname+" x"+i[u].count,chance:i[u].chance,multiplier:i[u].multiplier,count:i[u].count,totalChance:c}):l.push({name:i[u].displayname,chance:i[u].chance,multiplier:i[u].multiplier,count:i[u].count,totalChance:c})}return{sources:l,total:s}}),e.cleaveInfo=i.pureComputed(function(){function t(e,t){return e.radius<t.radius?1:e.radius>t.radius?-1:0}var a=e.inventory.getCleaveSource();o(a,e.ability().getCleaveSource()),o(a,e.buffs.getCleaveSource());var i=[];for(var r in a){var n=a[r];n.name=r,i.push(n)}i.sort(t);for(var l={},s=0;s<i.length;s++){for(var u=0,c=0;c<i.length;c++)i[c].radius>=i[s].radius&&(u+=i[c].magnitude*i[c].count);l[i[s].radius]=u}var m=[];for(var r in l)m.push({radius:r,magnitude:l[r]});return m}),e.bashInfo=i.pureComputed(function(){var t=e.heroData().attacktype,a=e.inventory.getBashSource(t);o(a,e.ability().getBashSource());var i=[];for(var r in a){var n=a[r];n.name=r,i.push(n)}for(var l=[],s=0,u=0;u<i.length;u++){for(var c=1,m=0;m<u;m++)for(var b=0;b<i[m].count;b++)c*=1-i[m].chance;for(var d=1,b=0;b<i[u].count;b++)d*=1-i[u].chance;if(c*=1-d,s+=c,"spirit_breaker_greater_bash"===i[u].name)var p=i[u].damage*e.totalMovementSpeed();else var p=i[u].damage;i[u].count>1?l.push({name:i[u].displayname,chance:i[u].chance,damage:p,count:i[u].count,damageType:i[u].damageType,totalChance:c}):l.push({name:i[u].displayname,chance:i[u].chance,damage:p,count:i[u].count,damageType:i[u].damageType,totalChance:c})}return{sources:l,total:s}}),e.orbProcInfo=i.pureComputed(function(){function t(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:e.damage<t.damage?1:e.damage>t.damage?-1:0}var a=(e.heroData().attacktype,e.inventory.getOrbProcSource()),i=[];for(var r in a){var n=a[r];n.name=r,i.push(n)}i.sort(t);for(var o=[],l=0,s=0;s<i.length;s++){for(var u=1,c=0;c<s;c++)for(var m=0;m<i[c].count;m++)u*=1-i[c].chance;for(var b=1,m=0;m<i[s].count;m++)b*=1-i[s].chance;u*=1-b,l+=u,i[s].count>1?o.push({name:i[s].displayname+" x"+i[s].count,chance:i[s].chance,damage:i[s].damage,count:i[s].count,damageType:i[s].damageType,totalChance:u}):o.push({name:i[s].displayname,chance:i[s].chance,damage:i[s].damage,count:i[s].count,damageType:i[s].damageType,totalChance:u})}return{sources:o,total:l}}),e.getReducedDamage=function(t,a){var i=t;switch(a){case"physical":i=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical())));break;case"magic":i=t*(1-e.enemy().totalMagicResistance()/100);break;case"pure":i=t;break;case"composite":i=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical()))),i*=1-e.enemy().totalMagicResistance()/100}return i*=e.ability().getDamageAmplification()*e.debuffs.getDamageAmplification(),i*=e.enemy().ability().getDamageReduction()*e.enemy().buffs.getDamageReduction()},e.damageTotalInfo=i.pureComputed(function(){var t=[e.ability().getBonusDamage().sources,e.buffs.getBonusDamage().sources],a=[e.ability().getBonusDamagePercent().sources,e.buffs.getBonusDamagePercent().sources],r=e.inventory.getBonusDamage().sources,o=e.buffs.itemBuffs.getBonusDamagePercent(e.inventory.getBonusDamagePercent()).sources,l=e.critInfo(),s=e.ability().getOrbSource(),u=e.inventory.getOrbSource(),c=e.orbProcInfo(),m=e.bashInfo(),b=[];if(b.push({name:"Base Attack",cooldown:1}),"weaver"===e.heroId()){var d=e.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name});if(d&&d.level()>0){var p=d.cooldown[d.level()-1];b.push({name:d.displayname,cooldown:1/p})}}var f=e.inventory.items().find(function(e){return"echo_sabre"===e.item&&e.enabled()});if(f&&"DOTA_UNIT_CAP_MELEE_ATTACK"===e.heroData().attacktype){var g=n.item_echo_sabre;b.push({name:g.displayname,cooldown:1/g.cooldown})}var _=b.map(function(b){var d=(e.baseDamage()[0]+e.baseDamage()[1])/2,p=0,f=0,g=0,_={damage:0,damageReduced:0,cooldown:6,active:!1},h=({damage:0,damageReduced:0,cooldown:n.item_echo_sabre.cooldown[0],active:!1},{pure:0,physical:0,magic:0}),v=[],y=[];v.push({name:"Base Damage",damage:d,damageType:"physical",damageReduced:e.getReducedDamage(d,"physical"),enabled:i.observable(!0)}),p+=d,f+=d,h.physical+=d;for(T in r){var A=r[T].damage*r[T].count*e.ability().getSelfBaseDamageReductionPct()*e.enemy().ability().getBaseDamageReductionPct()*e.debuffs.itemBuffs.getBaseDamageReductionPct();v.push({name:r[T].displayname+(r[T].count>1?" x"+r[T].count:""),damage:A,damageType:r[T].damageType,damageReduced:e.getReducedDamage(A,r[T].damageType),enabled:i.observable(!0)}),p+=A,f+=A,h[r[T].damageType]+=A}for(T in o){var A=d*o[T].damage;v.push({name:o[T].displayname,damage:A,damageType:o[T].damageType,damageReduced:e.getReducedDamage(A,o[T].damageType),enabled:i.observable(!0)}),p+=A,f+=A,h[o[T].damageType]+=A}for(var T=0;T<t.length;T++)for(I in t[T]){var A=t[T][I].damage;v.push({name:t[T][I].displayname,damage:A,damageType:t[T][I].damageType,damageReduced:e.getReducedDamage(A,t[T][I].damageType),enabled:i.observable(!0)}),p+=A,f+=A,h[t[T][I].damageType]+=A}for(var T=0;T<a.length;T++)for(I in a[T]){var A=d*a[T][I].damage;v.push({name:a[T][I].displayname,damage:A,damageType:a[T][I].damageType,damageReduced:e.getReducedDamage(A,a[T][I].damageType),enabled:i.observable(!0)}),p+=A,f+=A,h[a[T][I].damageType]+=A}if("DOTA_UNIT_CAP_RANGED_ATTACK"===e.heroData().attacktype){if("drow_ranger"===e.heroId())var k=e.ability().getBonusDamagePrecisionAura().sources,w=0;else var k=e.buffs.getBonusDamagePrecisionAura().sources,w=1;if(void 0!=k[w]){if("drow_ranger"===e.heroId())var A=k[w].damage*e.totalAgi();else var A=k[w].damage;v.push({name:k[w].displayname,damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:i.observable(!0)}),p+=A,f+=A,h.physical+=A}}if("riki"===e.heroId())var k=e.ability().getBonusDamageBackstab().sources,w=0;else var k=e.buffs.getBonusDamageBackstab().sources,w=1;if(void 0!=k[w]){if("riki"===e.heroId())var A=k[w].damage*e.totalAgi();else var A=k[w].damage;v.push({name:k[w].displayname,damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:i.observable(!0)}),p+=A,h.physical+=A}for(var T=0;T<m.sources.length;T++){var D=m.sources[T],A=m.sources[T].damage,x=e.attacksPerSecond();D.cooldown&&(x=Math.max(1/D.cooldown,x));for(var I=0;I<m.sources[T].count;I++)v.push({name:m.sources[T].name,damage:A,damageType:m.sources[T].damageType,damageReduced:e.getReducedDamage(A,m.sources[T].damageType),dps:A*x*m.sources[T].chance,dpsReduced:e.getReducedDamage(A,m.sources[T].damageType)*x*m.sources[T].chance,enabled:i.observable(!0)}),p+=A,h[m.sources[T].damageType]+=A}for(var T=0;T<c.sources.length;T++){var A=c.sources[T].damage*(1-Math.pow(1-c.sources[T].chance,c.sources[T].count));v.push({name:c.sources[T].name,damage:A,damageType:c.sources[T].damageType,damageReduced:e.getReducedDamage(A,c.sources[T].damageType),enabled:i.observable(!0)}),p+=A,h[c.sources[T].damageType]+=A}for(var S in s){var A=s[S].damage*(1-c.total);v.push({name:s[S].displayname,damage:A,damageType:s[S].damageType,damageReduced:e.getReducedDamage(A,s[S].damageType),enabled:i.observable(!0)}),p+=A,h[s[S].damageType]+=A}if(0===Object.keys(s).length)for(var S in u){var A=u[S].damage*(1-c.total);v.push({name:u[S].displayname,damage:A,damageType:u[S].damageType,damageReduced:e.getReducedDamage(A,u[S].damageType),enabled:i.observable(!0)}),p+=A,h[u[S].damageType]+=A}for(var T=0;T<l.sources.length;T++){var A=f*(l.sources[T].multiplier-1);y.push({name:l.sources[T].name+", "+l.sources[T].multiplier+"x, "+(100*l.sources[T].totalChance).toFixed(1)+"%",damage:A,damageType:"physical",damageReduced:e.getReducedDamage(A,"physical"),enabled:i.observable(!0),chance:l.sources[T].totalChance}),g+=A}var P=e.getReducedDamage(h.pure,"pure")+e.getReducedDamage(h.physical,"physical")+e.getReducedDamage(h.magic,"magic"),O=e.getReducedDamage(g,"physical"),E={base:p*e.attacksPerSecond(),crit:g*e.attacksPerSecond(),geminateAttack:_.active?_.damage/_.cooldown:0,reduced:{base:P*e.attacksPerSecond(),crit:O*e.attacksPerSecond(),geminateAttack:_.active?e.getReducedDamage(_.damage,"physical")/_.cooldown:0}};y.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())*t.chance),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond())*t.chance)}),v.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond()))});var R=y.reduce(function(e,t){return e+t.chance},0),V=i.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damage:0}),N=i.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damageReduced:0}),M=i.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)}),B=i.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)}),C=i.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damage},0)+V()}),L=i.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damageReduced},0)+N()}),H=i.computed(function(){return(v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)+M())*b.cooldown}),z=i.computed(function(){return(v.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)+B())*b.cooldown}),F=[V,N,M,B],j=[C,L,H,z];return{name:b.name+" Subtotal",cooldown:b.cooldown,enabled:i.observable(!0),visible:i.observable(!0),totalCritChance:R,totalCritRow:F,totalRow:j,sources:v,sourcesCrit:y,total:p,totalCrit:g,totalGeminateAttack:p+_.damage,totalGeminateAttackReduced:P+_.damageReduced,geminateAttack:_,totalCritReduced:O,totalReduced:P,sumTotal:p+g,sumTotalReduced:P+O,dps:{base:E.base,crit:E.base+E.crit,geminateAttack:E.base+E.geminateAttack,total:E.base+E.crit+E.geminateAttack,reduced:{base:E.reduced.base,crit:E.reduced.base+E.reduced.crit,geminateAttack:E.reduced.base+E.reduced.geminateAttack,total:E.reduced.base+E.reduced.crit+E.reduced.geminateAttack}}}}),h=i.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[0]()},0)}),v=i.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[1]()},0)}),y=i.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[2]()},0)}),A=i.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[3]()},0)});return{attacks:_,totalRow:[h,v,y,A]}}),e.getDamageTypeColor=function(e){return r[e]||r.default}};t.exports=l},{"../data/main":7,"../herocalc_knockout":20,"../util/extend":33,"./DamageTypeColor":9}],11:[function(e,t,a){"use strict";var i=e("../herocalc_knockout"),r=e("../AbilityModel"),n=e("../BuffViewModel"),o=e("../inventory/InventoryViewModel"),l=e("../data/main").heroData,s=e("./diffProperties"),u=e("./HeroDamageMixin"),c=e("./totalExp"),m=e("./nextLevelExp"),b=function(e){var t=this;t.heroId=i.observable(e),t.selectedHeroLevel=i.observable(1),t.inventory=new o(t),t.selectedInventory=i.observable(-1),t.buffs=new n,t.buffs.hasScepter=t.inventory.hasScepter,t.debuffs=new n,t.heroData=i.computed(function(){return l["npc_dota_hero_"+t.heroId()]}),t.heroCompare=i.observable(t),t.enemy=i.observable(t),t.unit=i.observable(t),t.clone=i.observable(t),t.skillPointHistory=i.observableArray(),t.ability=i.computed(function(){var e=new r(i.observableArray(JSON.parse(JSON.stringify(t.heroData().abilities))),t);switch(t.heroId()){case"earth_spirit":case"ogre_magi":e._abilities[3].level(1);break;case"invoker":for(var a=6;a<16;a++)e._abilities[a].level(1)}return t.skillPointHistory.removeAll(),e.hasScepter=t.inventory.hasScepter,e}),t.availableSkillPoints=i.computed(function(){for(var e=t.selectedHeroLevel(),a=0;a<t.ability().abilities().length;a++)switch(t.ability().abilities()[a].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===t.heroId())for(;1==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<2||2==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<7||3==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<11||4==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<17;)t.ability().levelDownAbility(a,null,null,t);else if("meepo"===t.heroId())for(;7*(t.ability().abilities()[a].level()-1)+3>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(a,null,null,t);else for(;5*t.ability().abilities()[a].level()+1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(a,null,null,t);break;default:for(;2*t.ability().abilities()[a].level()-1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(a,null,null,t)}for(;t.skillPointHistory().length>e;)t.ability().levelDownAbility(t.skillPointHistory()[t.skillPointHistory().length-1],null,null,t);return e-t.skillPointHistory().length},this),t.primaryAttribute=i.pureComputed(function(){var e=t.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),t.totalExp=i.pureComputed(function(){return c[t.selectedHeroLevel()-1]}),t.nextLevelExp=i.pureComputed(function(){return m[t.selectedHeroLevel()-1]}),t.startingArmor=i.pureComputed(function(){return(.14*t.heroData().attributebaseagility+t.heroData().armorphysical).toFixed(2)}),t.respawnTime=i.pureComputed(function(){return 5+3.8*t.selectedHeroLevel()}),t.totalAttribute=function(e){return"agi"===e?parseFloat(t.totalAgi()):"int"===e?parseFloat(t.totalInt()):"str"===e?parseFloat(t.totalStr()):0},t.totalAgi=i.pureComputed(function(){return(t.heroData().attributebaseagility+t.heroData().attributeagilitygain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("agi")+2*t.ability().getAttributeBonusLevel()+t.ability().getAgility()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.intStolen=i.observable(0).extend({numeric:0}),t.totalInt=i.pureComputed(function(){return(t.heroData().attributebaseintelligence+t.heroData().attributeintelligencegain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("int")+2*t.ability().getAttributeBonusLevel()+t.ability().getIntelligence()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()+t.intStolen()).toFixed(2)}),t.totalStr=i.pureComputed(function(){return(t.heroData().attributebasestrength+t.heroData().attributestrengthgain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("str")+2*t.ability().getAttributeBonusLevel()+t.ability().getStrength()+t.enemy().ability().getStrengthReduction()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.health=i.pureComputed(function(){return(t.heroData().statushealth+20*Math.floor(t.totalStr())+t.inventory.getHealth()+t.ability().getHealth()).toFixed(2)}),t.healthregen=i.pureComputed(function(){var e=[t.inventory.getHealthRegenAura,t.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(t.heroData().statushealthregen+.03*t.totalStr()+t.inventory.getHealthRegen()+t.ability().getHealthRegen()+t.buffs.getHealthRegen()+e.value).toFixed(2)}),t.mana=i.pureComputed(function(){return(t.heroData().statusmana+12*t.totalInt()+t.inventory.getMana()+t.ability().getMana()).toFixed(2)}),t.manaregen=i.pureComputed(function(){return((t.heroData().statusmanaregen+.04*t.totalInt()+t.ability().getManaRegen())*(1+t.inventory.getManaRegenPercent())+("crystal_maiden"===t.heroId()?2*t.ability().getManaRegenArcaneAura():t.buffs.getManaRegenArcaneAura())+t.inventory.getManaRegenBloodstone()+t.inventory.getManaRegen()-t.enemy().ability().getManaRegenReduction()).toFixed(2)}),t.totalArmorPhysical=i.pureComputed(function(){var e=[t.inventory.getArmorAura,t.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var a=t(e.attributes);return a},{value:0,attributes:[]}),a=[t.enemy().inventory.getArmorReduction,t.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(t.enemy().ability().getArmorBaseReduction()*t.debuffs.getArmorBaseReduction()*(t.heroData().armorphysical+.14*t.totalAgi())+t.inventory.getArmor()+t.ability().getArmor()+t.enemy().ability().getArmorReduction()+t.buffs.getArmor()+t.buffs.itemBuffs.getArmor()+t.debuffs.getArmorReduction()+e.value+a.value).toFixed(2)}),t.totalArmorPhysicalReduction=i.pureComputed(function(){var e=t.totalArmorPhysical();return e>=0?(.06*t.totalArmorPhysical()/(1+.06*t.totalArmorPhysical())*100).toFixed(2):-(.06*-t.totalArmorPhysical()/(1+.06*-t.totalArmorPhysical())*100).toFixed(2)}),t.totalMovementSpeed=i.pureComputed(function(){var e=100,a=t.ability().setMovementSpeed()>0?t.ability().setMovementSpeed():t.buffs.setMovementSpeed();if(a>0)return a;var i=[t.inventory.getMovementSpeedPercent,t.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),r=[t.enemy().inventory.getMovementSpeedPercentReduction,t.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return Math.max(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?140:(t.heroData().movementspeed+t.inventory.getMovementSpeedFlat()+t.ability().getMovementSpeedFlat())*(1+i.value+r.value+t.ability().getMovementSpeedPercent()+t.enemy().ability().getMovementSpeedPercentReduction()+t.buffs.getMovementSpeedPercent()+t.debuffs.getMovementSpeedPercentReduction()+t.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),t.totalTurnRate=i.pureComputed(function(){return(t.heroData().movementturnrate*(1+t.enemy().ability().getTurnRateReduction()+t.debuffs.getTurnRateReduction())).toFixed(2)}),t.baseDamage=i.pureComputed(function(){var e=t.totalAttribute(t.primaryAttribute()),a=t.ability().getBaseDamage(),i=t.heroData().attackdamagemin,r=t.heroData().attackdamagemax;return[Math.floor((i+e+a.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*a.multiplier),Math.floor((r+e+a.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*a.multiplier)]}),t.baseDamageAvg=i.pureComputed(function(){return(t.baseDamage()[0]+t.baseDamage()[1])/2}),t.baseDamageMin=i.pureComputed(function(){return t.baseDamage()[0]}),t.baseDamageMax=i.pureComputed(function(){return t.baseDamage()[1]}),t.bonusDamage=i.pureComputed(function(){return(t.inventory.getBonusDamage().total+t.ability().getBonusDamage().total+t.buffs.getBonusDamage().total+Math.floor((t.baseDamage()[0]+t.baseDamage()[1])/2*(t.buffs.itemBuffs.getBonusDamagePercent(t.inventory.getBonusDamagePercent()).total+t.ability().getBonusDamagePercent().total+t.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==t.heroData().attacktype?"drow_ranger"==t.heroId()?t.ability().getBonusDamagePrecisionAura().total[0]*t.totalAgi():t.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==t.heroId()?t.ability().getBonusDamageBackstab().total[0]*t.totalAgi():0))*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()}),t.bonusDamageReduction=i.pureComputed(function(){return Math.abs(t.enemy().ability().getBonusDamageReduction()+t.debuffs.getBonusDamageReduction())}),t.damageAvg=i.pureComputed(function(){return(t.baseDamage()[0]+t.baseDamage()[1])/2+t.bonusDamage()}),t.damageMin=i.pureComputed(function(){return t.baseDamage()[0]+t.bonusDamage()}),t.damageMax=i.pureComputed(function(){return t.baseDamage()[1]+t.bonusDamage()}),t.damage=i.pureComputed(function(){return[t.baseDamage()[0]+t.bonusDamage(),t.baseDamage()[1]+t.bonusDamage()]}),t.totalMagicResistanceProduct=i.pureComputed(function(){return(1-t.heroData().magicalresistance/100)*t.inventory.getMagicResist()*t.ability().getMagicResist()*t.buffs.getMagicResist()*t.inventory.getMagicResistReductionSelf()*t.enemy().inventory.getMagicResistReduction()*t.enemy().ability().getMagicResistReduction()*t.debuffs.getMagicResistReduction()*t.debuffs.itemBuffs.getMagicResistReduction()}),t.totalMagicResistance=i.pureComputed(function(){return(100*(1-t.totalMagicResistanceProduct())).toFixed(2)}),t.bat=i.pureComputed(function(){var e=t.ability().getBAT();return e>0?e:t.heroData().attackrate}),t.ias=i.pureComputed(function(){var e=[t.inventory.getAttackSpeed,t.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),a=[t.enemy().inventory.getAttackSpeedReduction,t.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),i=parseFloat(t.totalAgi())+e.value+a.value+t.ability().getAttackSpeed()+t.enemy().ability().getAttackSpeedReduction()+t.buffs.getAttackSpeed()+t.debuffs.getAttackSpeedReduction()+t.unit().ability().getAttackSpeed();return i<-80?-80:i>500?500:i.toFixed(2)}),t.attackTime=i.pureComputed(function(){return(t.bat()/(1+t.ias()/100)).toFixed(2)}),t.attacksPerSecond=i.pureComputed(function(){return((1+t.ias()/100)/t.bat()).toFixed(2)}),t.evasion=i.pureComputed(function(){if(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped())return 0;var e=t.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-t.inventory.getEvasion()*t.ability().getEvasion()*t.ability().getEvasionBacktrack()*t.buffs.itemBuffs.getEvasion())).toFixed(2)}),t.ehpPhysical=i.pureComputed(function(){var e=t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?1:t.inventory.getEvasion()*t.ability().getEvasion()*t.buffs.itemBuffs.getEvasion();if(t.totalArmorPhysical()>=0)var a=t.health()*(1+.06*t.totalArmorPhysical());else var a=t.health()*(1-.06*t.totalArmorPhysical())/(1-.12*t.totalArmorPhysical());return a/=1-(1-e*t.ability().getEvasionBacktrack()),a/=1-parseFloat(t.enemy().missChance())/100,a*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,a*=1/t.ability().getDamageReduction(),a*=1/t.buffs.getDamageReduction(),a*=1/t.enemy().ability().getDamageAmplification(),a*=1/t.debuffs.getDamageAmplification(),a.toFixed(2)}),t.ehpMagical=i.pureComputed(function(){var e=t.health()/t.totalMagicResistanceProduct();return e*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/t.ability().getDamageReduction(),e*=1/t.buffs.getDamageReduction(),e*=1/t.ability().getEvasionBacktrack(),e*=1/t.enemy().ability().getDamageAmplification(),e*=1/t.debuffs.getDamageAmplification(),e.toFixed(2)}),t.bash=i.pureComputed(function(){var e=t.heroData().attacktype;return(100*(1-t.inventory.getBash(e)*t.ability().getBash())).toFixed(2)}),t.critChance=i.pureComputed(function(){return(100*(1-t.inventory.getCritChance()*t.ability().getCritChance())).toFixed(2)}),u(t),t.missChance=i.pureComputed(function(){var e=[t.enemy().inventory.getMissChance,t.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var a=t(e.excludeList);return a.value*=e.value,a},{value:1,excludeList:[]});return(100*(1-t.enemy().ability().getMissChance()*t.debuffs.getMissChance()*e.value)).toFixed(2)}),t.totalattackrange=i.pureComputed(function(){var e=t.heroData().attacktype;return t.heroData().attackrange+t.ability().getAttackRange()+t.inventory.getAttackRange(e).value}),t.visionrangeday=i.pureComputed(function(){return t.heroData().visiondaytimerange*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.visionrangenight=i.pureComputed(function(){return(t.heroData().visionnighttimerange+t.inventory.getVisionRangeNight()+t.ability().getVisionRangeNight())*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.lifesteal=i.pureComputed(function(){var e=t.inventory.getLifesteal()+t.ability().getLifesteal()+t.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==t.heroData().attacktype){var a=[t.inventory.getLifestealAura,t.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});e+=a.value}return e.toFixed(2)}),t.diffProperties=s,t.diff={};for(var a=0;a<t.diffProperties.length;a++){var b=a;t.diff[t.diffProperties[b]]=t.getDiffFunction(t.diffProperties[b])}};b.prototype.getDiffFunction=function(e){var t=this;return i.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})},b.prototype.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype?10:"invoker_quas"===e.name||"invoker_wex"===e.name||"invoker_exort"===e.name?7:"invoker_invoke"===e.name?4:"earth_spirit_stone_caller"===e.name||"ogre_magi_unrefined_fireblast"===e.name?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype||"keeper_of_the_light_recall"===e.name||"keeper_of_the_light_blinding_light"===e.name||"ember_spirit_activate_fire_remnant"===e.name||"lone_druid_true_form_battle_cry"===e.name?3:"puck_ethereal_jaunt"===e.name||"shadow_demon_shadow_poison_release"===e.name||"templar_assassin_trap"===e.name||"spectre_reality"===e.name?0:"invoker_cold_snap"===e.name||"invoker_ghost_walk"===e.name||"invoker_tornado"===e.name||"invoker_emp"===e.name||"invoker_alacrity"===e.name||"invoker_chaos_meteor"===e.name||"invoker_sun_strike"===e.name||"invoker_forge_spirit"===e.name||"invoker_ice_wall"===e.name||"invoker_deafening_blast"===e.name?0:"techies_minefield_sign"===e.name||"techies_focused_detonate"===e.name?0:4},t.exports=b},{"../AbilityModel":2,"../BuffViewModel":3,"../data/main":7,"../herocalc_knockout":20,"../inventory/InventoryViewModel":23,"./HeroDamageMixin":10,"./diffProperties":15,"./nextLevelExp":17,"./totalExp":18}],12:[function(e,t,a){var i=function(e,t,a){this.heroName=e,this.heroDisplayName=t,this.hero=a};t.exports=i},{}],13:[function(e,t,a){"use strict";var i=e("./HeroModel"),r=e("../data/main").heroData,n=e("../data/main").itemData,o=e("../illusion/illusionData"),l=e("../util/findWhere"),s=function(e,t,a){var s=this;return i.call(this,e),s.illusionAbilityLevel=ko.observable(a),s.parent=t,s.totalAgi=ko.computed(function(){return(s.heroData().attributebaseagility+s.heroData().attributeagilitygain*(s.selectedHeroLevel()-1)+s.inventory.getAttributes("agi")+2*s.ability().getAttributeBonusLevel()+s.ability().getAgility()+s.enemy().ability().getAllStatsReduction()+s.debuffs.getAllStatsReduction()).toFixed(2)}),s.intStolen=ko.observable(0).extend({numeric:0}),s.totalInt=ko.computed(function(){return(s.heroData().attributebaseintelligence+s.heroData().attributeintelligencegain*(s.selectedHeroLevel()-1)+s.inventory.getAttributes("int")+2*s.ability().getAttributeBonusLevel()+s.ability().getIntelligence()+s.enemy().ability().getAllStatsReduction()+s.debuffs.getAllStatsReduction()+s.intStolen()).toFixed(2)}),s.totalStr=ko.computed(function(){return(s.heroData().attributebasestrength+s.heroData().attributestrengthgain*(s.selectedHeroLevel()-1)+s.inventory.getAttributes("str")+2*s.ability().getAttributeBonusLevel()+s.ability().getStrength()+s.enemy().ability().getAllStatsReduction()+s.debuffs.getAllStatsReduction()).toFixed(2)}),s.getAbilityAttributeValue=function(e,t,a,i){if("item_manta"==t)var o=n[t];else var o=l(r["npc_dota_hero_"+e].abilities,{name:t});var s=l(o.attributes,{name:a});return 0==i?parseFloat(s.value[0]):i>s.length?parseFloat(s.value[0]):parseFloat(s.value[i-1])},s.getIncomingDamageMultiplier=function(e,t,a){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==a?1+s.getAbilityAttributeValue(o[s.illusionType()].hero,s.illusionType(),o[e].incoming_damage_melee,s.illusionAbilityLevel())/100:1+s.getAbilityAttributeValue(o[s.illusionType()].hero,s.illusionType(),o[e].incoming_damage_ranged,s.illusionAbilityLevel())/100:1+s.getAbilityAttributeValue(o[s.illusionType()].hero,s.illusionType(),o[e].incoming_damage,s.illusionAbilityLevel())/100},s.getOutgoingDamageMultiplier=function(e,t,a){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==a?1+s.getAbilityAttributeValue(o[s.illusionType()].hero,s.illusionType(),o[e].outgoing_damage_melee,s.illusionAbilityLevel())/100:1+s.getAbilityAttributeValue(o[s.illusionType()].hero,s.illusionType(),o[e].outgoing_damage_ranged,s.illusionAbilityLevel())/100:1+s.getAbilityAttributeValue(o[s.illusionType()].hero,s.illusionType(),o[e].outgoing_damage,s.illusionAbilityLevel())/100},s.baseDamage=ko.computed(function(){return[Math.floor(r["npc_dota_hero_"+s.heroId()].attackdamagemin+s.totalAttribute(s.primaryAttribute())+s.ability().getBaseDamage().total)*s.getOutgoingDamageMultiplier(s.illusionType(),!1,s.heroData().attacktype),Math.floor(r["npc_dota_hero_"+s.heroId()].attackdamagemax+s.totalAttribute(s.primaryAttribute())+s.ability().getBaseDamage().total)*s.getOutgoingDamageMultiplier(s.illusionType(),!1,s.heroData().attacktype)];
}),s.damage=ko.computed(function(){return[s.baseDamage()[0],s.baseDamage()[1]]}),s.ehpPhysical=ko.computed(function(){var e=s.health()*(1+.06*s.totalArmorPhysical())/(1-(1-s.inventory.getEvasion()*s.ability().getEvasion()));return e*=s.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/s.getIncomingDamageMultiplier(s.illusionType(),!1,s.heroData().attacktype),e.toFixed(2)}),s.ehpMagical=ko.computed(function(){var e=s.health()/s.totalMagicResistanceProduct();return e*=1/s.getIncomingDamageMultiplier(s.illusionType(),!1,s.heroData().attacktype),e.toFixed(2)}),s.totalArmorPhysical=ko.computed(function(){return(s.enemy().ability().getArmorBaseReduction()*s.debuffs.getArmorBaseReduction()*(r["npc_dota_hero_"+s.heroId()].armorphysical+.14*s.totalAgi())+s.ability().getArmor()+s.enemy().ability().getArmorReduction()+s.buffs.getArmor()+s.debuffs.getArmorReduction()).toFixed(2)}),s.ias=ko.computed(function(){var e=parseFloat(s.totalAgi())+s.ability().getAttackSpeed()+s.enemy().ability().getAttackSpeedReduction()+s.buffs.getAttackSpeed()+s.debuffs.getAttackSpeedReduction()+s.unit().ability().getAttackSpeed();return e<-80?-80:e>400?400:e.toFixed(2)}),s};s.prototype=Object.create(i.prototype),s.prototype.constructor=s,t.exports=s},{"../data/main":7,"../illusion/illusionData":21,"../util/findWhere":34,"./HeroModel":11}],14:[function(e,t,a){"use strict";var i=e("../herocalc_knockout"),r=e("../AbilityModel"),n=e("./HeroModel"),o=e("../data/main").unitData,l=function(e,t){var a=this;return n.call(this,"abaddon"),a.parent=t,a.unitId=i.observable(e),a.unitLevel=i.observable(1),a.heroData=i.computed(function(){return o[a.unitId()]}),a.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"==e.abilitytype?10:"necronomicon_archer_mana_burn"==e.name||"necronomicon_archer_aoe"==e.name||"necronomicon_warrior_mana_burn"==e.name||"necronomicon_warrior_last_will"==e.name?3:"necronomicon_warrior_sight"==e.name?1:4},a.availableSkillPoints.dispose(),a.ability=i.computed(function(){var e=new r(i.observableArray(JSON.parse(JSON.stringify(a.heroData().abilities))),a);switch(e.hasScepter=a.inventory.hasScepter,a.unitId()){case"npc_dota_necronomicon_archer_1":case"npc_dota_necronomicon_warrior_1":e.abilities()[0].level(1),e.abilities()[1].level(1);break;case"npc_dota_necronomicon_archer_2":case"npc_dota_necronomicon_warrior_2":e.abilities()[0].level(2),e.abilities()[1].level(2);break;case"npc_dota_necronomicon_archer_3":e.abilities()[0].level(3),e.abilities()[1].level(3);break;case"npc_dota_necronomicon_warrior_3":e.abilities()[0].level(3),e.abilities()[1].level(3),e.abilities()[2].level(1)}return e.levelUpAbility=function(t,a,r,n){var o=i.utils.unwrapObservable(t);switch(e.abilities()[o].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[o].level()<n.getAbilityLevelMax(a)&&e.abilities()[o].level(e.abilities()[o].level()+1)}},e.levelDownAbility=function(t,a,r,n){var o=i.utils.unwrapObservable(t);switch(e.abilities()[o].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[o].level()>0&&e.abilities()[o].level(e.abilities()[o].level()-1)}},e}),a.primaryAttribute=i.computed(function(){var e=0;return"DOTA_ATTRIBUTE_AGILITY"==e?"agi":"DOTA_ATTRIBUTE_INTELLECT"==e?"int":"DOTA_ATTRIBUTE_STRENGTH"==e?"str":""}),a.totalAttribute=function(e){return"agi"==e?parseFloat(a.totalAgi()):"int"==e?parseFloat(a.totalInt()):"str"==e?parseFloat(a.totalStr()):0},a.totalAgi=i.computed(function(){return(o[a.unitId()].attributebaseagility+o[a.unitId()].attributeagilitygain*(a.selectedHeroLevel()-1)+2*a.ability().getAttributeBonusLevel()+a.ability().getAgility()+a.enemy().ability().getAllStatsReduction()+a.debuffs.getAllStatsReduction()).toFixed(2)}),a.totalInt=i.computed(function(){return(o[a.unitId()].attributebaseintelligence+o[a.unitId()].attributeintelligencegain*(a.selectedHeroLevel()-1)+2*a.ability().getAttributeBonusLevel()+a.ability().getIntelligence()+a.enemy().ability().getAllStatsReduction()+a.debuffs.getAllStatsReduction()).toFixed(2)}),a.totalStr=i.computed(function(){return(o[a.unitId()].attributebasestrength+o[a.unitId()].attributestrengthgain*(a.selectedHeroLevel()-1)+2*a.ability().getAttributeBonusLevel()+a.ability().getStrength()+a.enemy().ability().getAllStatsReduction()+a.debuffs.getAllStatsReduction()).toFixed(2)}),a.baseDamage=i.computed(function(){return[Math.floor(o[a.unitId()].attackdamagemin+a.totalAttribute(a.primaryAttribute())+a.ability().getBaseDamage().total),Math.floor(o[a.unitId()].attackdamagemax+a.totalAttribute(a.primaryAttribute())+a.ability().getBaseDamage().total)]}),a.totalMagicResistanceProduct=i.computed(function(){return(1-o[a.unitId()].magicalresistance/100)*(1-a.inventory.getMagicResist()/100)*(1-a.ability().getMagicResist()/100)*(1-a.buffs.getMagicResist()/100)*a.enemy().inventory.getMagicResistReduction()*a.enemy().ability().getMagicResistReduction()*a.debuffs.getMagicResistReduction()}),a.totalMagicResistance=i.computed(function(){return 1-a.totalMagicResistanceProduct()}),a.bat=i.computed(function(){var e=a.ability().getBAT();return e>0?e:o[a.unitId()].attackrate}),a.attackTime=i.computed(function(){return(a.bat()/(1+a.ias()/100)).toFixed(2)}),a.attacksPerSecond=i.computed(function(){return(1+a.ias()/100)/a.bat()}),a.evasion=i.computed(function(){var e=a.ability().setEvasion();return e?(100*e).toFixed(2)+"%":(100*(1-a.inventory.getEvasion()*a.ability().getEvasion())).toFixed(2)+"%"}),a.ehpPhysical=i.computed(function(){return(a.health()*(1+.06*a.totalArmorPhysical())/(1-(1-a.inventory.getEvasion()*a.ability().getEvasion()))).toFixed(2)}),a.ehpMagical=i.computed(function(){return(a.health()/a.totalMagicResistanceProduct()).toFixed(2)}),a.heroId(e),a.unitId.subscribe(function(e){a.heroId(e)}),a};l.prototype=Object.create(n.prototype),l.prototype.constructor=l,t.exports=l},{"../AbilityModel":2,"../data/main":7,"../herocalc_knockout":20,"./HeroModel":11}],15:[function(e,t,a){var i=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"];t.exports=i},{}],16:[function(e,t,a){var i=e("../data/main").heroData,r=e("./HeroOption"),n={},o=function(){n.items=[];for(var e in i)n.items.push(new r(e.replace("npc_dota_hero_",""),i[e].displayname));return n.items};n.init=o,t.exports=n},{"../data/main":7,"./HeroOption":12}],17:[function(e,t,a){var i=[200,300,400,500,600,600,800,1e3,1e3,600,2200,800,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,"&mdash;"];t.exports=i},{}],18:[function(e,t,a){var i=[0,200,500,900,1400,2e3,2600,3400,4400,5400,6e3,8200,9e3,10400,11900,13500,15200,17e3,18900,20900,23e3,25200,27500,29900,32400];t.exports=i},{}],19:[function(e,t,a){var i={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return-t},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(e,t,a,i,r,n){return e*t/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(e,t,a,i,r,n){return t}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")+e*t}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,a,i,r,n){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return a.inventory.hasScepter()?e[0]*r.getAbilityAttributeValue(n.attributes,"fiend_grip_damage_scepter",n.level()):e[0]*t}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(e,t,a,i,r,n){return a.inventory.hasScepter()?e[0]*e[1]*r.getAbilityAttributeValue(n.attributes,"fiend_grip_mana_drain_scepter",n.level())/100:e[0]*e[1]*t/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")+e*t/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(e,t,a,i,r,n){return-e*t},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return-(r.getAbilityAttributeValue(n.attributes,"base_move_slow",0)+e*t)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"quill_base_damage",n.level())+e*t,l=r.getAbilityAttributeValue(n.attributes,"max_damage",0);return o>l&&(o=l),o}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var n=r.abilities().find(function(e){return"bristleback_bristleback"==e.name});if("back"==e)var o=r.getAbilityAttributeValue(n.attributes,"back_damage_reduction",n.level());else var o=r.getAbilityAttributeValue(n.attributes,"side_damage_reduction",n.level());return-o},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e<1?0:r.getAbilityAttributeValue(n.attributes,"base_damage",n.level())+(e-1)*t}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e<1?0:r.getAbilityAttributeValue(n.attributes,"base_move_speed",n.level())+(e-1)*t},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityAttributeValue(n.attributes,"return_damage",n.level())+e*t/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,r,n){return-t},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return-e*t},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){var o=.25*(130+40*n.level())*.05,l=4*e*(4*e+1)/2;return o*l}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return a.inventory.hasScepter()?e*r.getAbilityAttributeValue(n.attributes,"damage_scepter",n.level()):e*t}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(e,t,a,i,r,n){return e*t/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e?-t:0},returnProperty:"movementSpeedPctReduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(e,t,a,i,r,n){return e?t:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[0]*r.getAbilityAttributeValue(n.attributes,"damage_heroes",n.level())+e[1]*t},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[0]*r.getAbilityAttributeValue(n.attributes,"move_pct_heroes",n.level())+e[1]*t},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return-t},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityAttributeValue(n.attributes,"wisp_count",n.level())*e*t}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[0]*e[1]*t/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,a,i,r,n){return e?2*t:t},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],huskar_berserkers_blood:[{label:"%HP",controlType:"input"},{attributeName:"hp_threshold_max",label:"Health at given %HP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return a.health()*e/100}},{attributeName:"hp_threshold_max",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t}},{attributeName:"maximum_resistance",label:"MAGIC RESISTANCE BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var e=Math.min(e,100);e=Math.max(e,10);var o=r.getAbilityAttributeValue(n.attributes,"hp_threshold_max",0),l=100-o,s=(e-o)/l;return s=1-s,s*t},returnProperty:"magicResist"},{attributeName:"maximum_attack_speed",label:"ATTACK SPEED BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var e=Math.min(e,100);e=Math.max(e,10);var o=r.getAbilityAttributeValue(n.attributes,"hp_threshold_max",0),l=100-o,s=(e-o)/l;return s=1-s,s*t},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"bonus_strength",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bonusStrength"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"bonus_agility",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bonusAgility"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_intelligence",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bonusInt"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return 0==e?0:r.getAbilityAttributeValue(n.attributes,"enemy_slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,a,i,r,n){return 0==e?0:r.getAbilityAttributeValue(n.attributes,"self_slow",e)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return 0==e?0:r.getAbilityAttributeValue(n.attributes,"bonus_attack_speed",e)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return 0==e?0:r.getAbilityAttributeValue(n.attributes,"bonus_damage",e)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return 0==e?0:r.getAbilityAttributeValue(n.attributes,"slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(e,t,a,i,r,n){return 0==e[0]?0:r.getAbilityAttributeValue(n.attributes,"damage_per_second",e[0])*e[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return 2*r.getAbilityPropertyValue(n,"damage")+r.getAbilityAttributeValue(n.attributes,"burn_damage",n.level())*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[0]*e[1]*t/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityAttributeValue(n.attributes,"omni_slash_damage",1)*e}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityAttributeValue(n.attributes,"omni_slash_damage",2)*e}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[0]/100*e[1]*t/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,a,i,r,n){return r.getAbilityAttributeValue(n.attributes,"slow_steps",e+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){for(var o=[],l=1;l<6;l++)o.push((e*Math.pow(t/100,l)).toFixed(2));return o.join("<br>")}}],luna_eclipse:[{label:"Beam Count",controlType:"input"},{attributeName:"beams",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){var o=r.abilities().find(function(e){return"luna_lucent_beam"==e.name});if(0==o.level())return 0;var l=r.getAbilityPropertyValue(o,"damage");return e*l}}],medusa_mystic_snake:[{label:"Jump Count",controlType:"input"},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"method",display:"none",fn:function(e,t,a,i,r,n){for(var o=r.getAbilityAttributeValue(n.attributes,"snake_jumps",n.level()),l=r.getAbilityAttributeValue(n.attributes,"snake_scale",0),s=[],u=0;u<o;u++)s.push(t+t*u*l/100);return s}},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[1].join(" / ")}},{attributeName:"snake_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[1].slice(0,e[0]).reduce(function(e,t){return e+t},0)}},{attributeName:"snake_damage",label:"Max Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[1].reduce(function(e,t){return e+t},0)}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return(e/t).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return-t},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,a,i,r,n){return r.getAbilityAttributeValue(n.attributes,"slow",n.level())*e},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Arrow Travel Distance",controlType:"input"},{attributeName:"arrow_max_stun",label:"STUN DURATION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"arrow_min_stun",0),l=r.getAbilityAttributeValue(n.attributes,"arrow_max_stunrange",0),s=Math.min(e,l)/l;return Math.max(o,.1*Math.floor(t*s/.1))}},{attributeName:"arrow_bonus_damage",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var n=n,o=n.damage()[n.level()-1],l=r.getAbilityAttributeValue(n.attributes,"arrow_max_stunrange",0),s=Math.min(e,l)/l,u=2.8*Math.floor(t*s/2.8);return o+" + "+u+" = "+(o+u)}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){
return e*t},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return-e*t},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t*r.getAbilityAttributeValue(n.attributes,"morph_cooldown",n.level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return-e*t},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t*r.getAbilityAttributeValue(n.attributes,"morph_cooldown",n.level())}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"aura_damage",label:"HEALTH LOST:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return e[0]*e[1]*t/100}}],necrolyte_sadist:[{label:"Unit Kills",controlType:"input"},{label:"Hero Kills",controlType:"input"},{attributeName:"health_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"hero_multiplier",0);return(e[0]+e[1]*o)*t},returnProperty:"healthregen"},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"hero_multiplier",0);return(e[0]+e[1]*o)*t},returnProperty:"manaregen"}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"miss_rate_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e?r.getAbilityAttributeValue(n.attributes,"miss_rate_night",n.level()):r.getAbilityAttributeValue(n.attributes,"miss_rate_day",n.level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e?t:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e?t:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"strike_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"duration_damage",n.level()),l=Math.floor(e/3);return t+o*l}}],razor_plasma_field:[{label:"Distance",controlType:"input"},{attributeName:"radius",label:"MIN DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return 200}},{attributeName:"radius",label:"MAX DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return 200+t}},{attributeName:"radius",label:"Instance Damage",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=t+200,l=(Math.min(Math.max(e,200),o)-200)/(o-200),s=r.getAbilityAttributeValue(n.attributes,"damage_min",n.level()),u=r.getAbilityAttributeValue(n.attributes,"damage_max",n.level());return s+(u-s)*l}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"drain_length",label:"Damage Drained:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=Math.floor(4*e)+1,l=Math.min(4*t+1,o),s=r.getAbilityAttributeValue(n.attributes,"drain_rate",n.level());return l*s/4},returnProperty:"bonusDamage"},{attributeName:"drain_length",label:"Enemy Damage Lost:",ignoreTooltip:!0,controlType:"text",display:"hidden",fn:function(e,t,a,i,r,n){var o=Math.floor(4*e)+1,l=Math.min(4*t+1,o),s=r.getAbilityAttributeValue(n.attributes,"drain_rate",n.level());return l*s/4},returnProperty:"bonusDamageReduction"}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t*(1-e*r.getAbilityAttributeValue(n.attributes,"jump_damage_reduction_pct",n.level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){var o=[1,2,4,8];return e>4?t*o[3]+50*(e-4):e<=0?0:t*o[e-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Line Hit Count",controlType:"input"},{attributeName:"requiem_reduction_damage",label:"Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}},{label:"Return Line Hit Count (Scepter)",controlType:"input"},{attributeName:"requiem_damage_pct_scepter",label:"Damage/Heal:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e*t/100}},{attributeName:"requiem_damage_pct_scepter",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){var o=r.getAbilityPropertyValue(n,"damage");return o*e[0]+o*e[1]*t/100}},{attributeName:"requiem_reduction_damage",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"baseDamageReductionPct"},{attributeName:"requiem_reduction_ms",label:"%DAMAGE REDUCTION:",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return Math.floor(e)*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return-e*t},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*a.health()*t/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return a.health()*t/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}},{attributeName:"building_damage",label:"BUILDING DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e?t:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(e,t,a,i,r,n){return-t},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100}}],storm_spirit_ball_lightning:[{label:"MAX MANA",controlType:"input"},{label:"Distance",controlType:"input"},{attributeName:"ball_lightning_initial_mana_base",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")/100*e[1]}},{attributeName:"ball_lightning_initial_mana_base",label:"FLAT MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,a,i,r,n){var o=Math.floor(e[1]/100),l=r.getAbilityAttributeValue(n.attributes,"ball_lightning_travel_cost_base",0);return t+o*l}},{attributeName:"ball_lightning_initial_mana_percentage",label:"%MAX MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,a,i,r,n){var o=Math.floor(e[1]/100),l=r.getAbilityAttributeValue(n.attributes,"ball_lightning_travel_cost_percent",0);return t+o*l}},{attributeName:"ball_lightning_initial_mana_base",label:"TOTAL MANA COST:",ignoreTooltip:!0,controlType:"text",controls:[0,1,2,3],fn:function(e,t,a,i,r,n){return e[2]+" + "+e[3]/100*e[0]+" ("+e[3]+"% of max) = "+(e[2]+e[3]/100*e[0])}}],templar_assassin_psionic_trap:[{label:"Charge Time",controlType:"input"},{attributeName:"movement_speed_min_tooltip",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"movement_speed_max_tooltip",0),l=(o-t)/40;return-(t+l*Math.min(Math.max(0,e),4)*10)},returnProperty:"movementSpeedPctReduction"}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"damage_interval",0),l=Math.floor(e/o);return t*o*l}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"damage_interval",0),l=Math.floor(e/o);return t*o*l}},{label:"ENEMY %HP",controlType:"input"},{attributeName:"slow",label:"MANA COST:",controlType:"text",fn:function(e,t,a,i,r,n){var o=20-Math.floor(Math.min(Math.max(e-1,0),99)/5);return-t*o},returnProperty:"movementSpeedPctReduction"}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,a,i,r,n){return e?t:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e?t:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=a.enemy().totalArmorPhysicalReduction(),l=a.enemy().totalMagicResistance();return(e*t*(1-o/100)*(1-l/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=a.enemy().totalArmorPhysicalReduction(),l=a.enemy().totalMagicResistance();return(t*(1-o/100)*(1-l/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=a.enemy().totalArmorPhysicalReduction(),l=a.enemy().totalMagicResistance();return(t*(1-o/100)*(1-l/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return(a.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=a.enemy().totalMagicResistance();return(e*t*(1-o/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Robot Explosions",controlType:"input"},{attributeName:"machines_per_sec",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){if(a.inventory.hasScepter()){var o=r.getAbilityAttributeValue(n.attributes,"str_steal_scepter",0);return e*o}return e*t},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"max_speed_slow",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"min_speed_slow",0),l=r.getAbilityAttributeValue(n.attributes,"radius",0),s=r.getAbilityAttributeValue(n.attributes,"full_power_radius",0),u=Math.min(Math.max(e,s),l),c=1-(u-s)/(l-s);return-Math.max(c*t,o)},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"min_damage_amp",0),l=r.getAbilityAttributeValue(n.attributes,"radius",0),s=r.getAbilityAttributeValue(n.attributes,"full_power_radius",0),u=Math.min(Math.max(e,s),l),c=1-(u-s)/(l-s);return Math.max(c*t,o)},returnProperty:"damageAmplification"},{label:"MAX HP",controlType:"input"},{label:"Hero Death Count",controlType:"input"},{label:"Creep Death Count",controlType:"input"},{attributeName:"death_heal",label:"DEATH HEAL (HEROES):",ignoreTooltip:!0,controlType:"method",controls:[1,2],fn:function(e,t,a,i,r,n){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"DEATH HEAL (CREEPS):",ignoreTooltip:!0,controlType:"method",controls:[1,3],fn:function(e,t,a,i,r,n){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"TOTAL DEATH HEAL:",ignoreTooltip:!0,controlType:"text",controls:[4,5],fn:function(e,t,a,i,r,n){return e[0]+e[1]}}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){var o=r.abilities().find(function(e){return"ursa_enrage"==e.name});if(o.isActive()&&o.level()>0){var l=r.getAbilityAttributeValue(o.attributes,"enrage_multiplier",o.level());return e*t*l}return e*t},returnProperty:"bonusDamage"}],ursa_enrage:[{attributeName:"damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return-t},returnProperty:"damageReduction"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityAttributeValue(n.attributes,"strike_damage",n.level())+Math.floor(e/3)*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Charges",controlType:"input"},{attributeName:"soul_charge_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"soul_base_damage",0),l=r.getAbilityAttributeValue(n.attributes,"stack_limit",n.level());return l=Math.max(Math.min(e,l),0),o+l*t}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],warlock_upheaval:[{label:"Channel Duration",controlType:"input"},{attributeName:"slow_rate_duration",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"max_slow",0),l=o/(t-.5)/2,s=Math.max(Math.floor(2*e)-1,0);return-Math.min(s*l,o)},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,r,n){return-e*t},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return r.getAbilityPropertyValue(n,"damage")*e}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"heal_additive",n.level());return(o+e[1]*t/100)*e[0]}}],wisp_spirits:[{label:"Collision Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"creep_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return t},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Hero Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"bounces",n.level());return Math.min(Math.max(e,0),o)*t}},{label:"Creep Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"CREEP DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"bounces",n.level()),l=r.getAbilityPropertyValue(n,"damage");return Math.min(Math.max(e,0),o)*l}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"heal_interval",n.level()),l=t*o,s=Math.max(Math.floor(e/o)-1,0);return l*s}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"heal_interval",n.level()),l=t*o,s=Math.max(Math.floor(e/o)-1,0);return l*s}}],witch_doctor_maledict:[{label:"damage 0-4s",controlType:"input"},{label:"damage 4-8s",controlType:"input"},{label:"damage 8-12s",controlType:"input"},{attributeName:"bonus_damage",label:"Dot Damage after 3s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,a,i,r,n){var o=r.getAbilityPropertyValue(n,"damage");return 3*o}},{attributeName:"bonus_damage",label:"Burst Damage at 4s:",ignoreTooltip:!0,controlType:"method",controls:[0,3],fn:function(e,t,a,i,r,n){var o=(r.getAbilityPropertyValue(n,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 7s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,a,i,r,n){var o=r.getAbilityPropertyValue(n,"damage");return 7*o}},{attributeName:"bonus_damage",label:"Burst Damage at 8s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,4,5],fn:function(e,t,a,i,r,n){var o=(r.getAbilityPropertyValue(n,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 11s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,a,i,r,n){var o=r.getAbilityPropertyValue(n,"damage");return 11*o}},{attributeName:"bonus_damage",label:"Burst Damage at 12s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,2,4,6,7],fn:function(e,t,a,i,r,n){var o=(r.getAbilityPropertyValue(n,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Total Burst Damage:",ignoreTooltip:!0,controlType:"method",controls:[4,6,8],fn:function(e,t,a,i,r,n){return e.reduce(function(e,t){return e+t},0)}},{attributeName:"bonus_damage",label:"Total Maledict Damage:",ignoreTooltip:!0,controlType:"method",controls:[9],fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"duration_tooltip",0),l=r.getAbilityPropertyValue(n,"damage");return l*o+e[0]}},{label:"Duration",controlType:"input"},{attributeName:"bonus_damage",label:"DOT Damage",controlType:"text",fn:function(e,t,a,i,r,n){var o=r.getAbilityAttributeValue(n.attributes,"duration_tooltip",0);return r.getAbilityPropertyValue(n,"damage")*Math.min(Math.max(e,0),o)}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,r,n){return e*t}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,r,n){return e*t/100}}]};t.exports=i},{}],20:[function(e,t,a){(function(a){"use strict";var i="undefined"!=typeof window?window.ko:"undefined"!=typeof a?a.ko:null;i.mapping=e("../lib/knockout.mapping"),i.wrap=e("../lib/knockout.wrap"),i.extenders.numeric=function(e,t){var a=i.pureComputed({read:e,write:function(a){var i=e(),r=Math.pow(10,(t===Object(t)?t.precision:t)||0),n=isNaN(a)?t.defaultValue||0:+a,o=Math.round(n*r)/r;o!==i?e(o):a!==i&&e.notifySubscribers(o)}}).extend({notify:"always"});return a(e()),a},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/knockout.mapping":40,"../lib/knockout.wrap":41}],21:[function(e,t,a){var i={chaos_knight_phantasm:{hero:"chaos_knight",displayName:"Chaos Knight Phantasm",use_selected_hero:!1,max_level:3,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},naga_siren_mirror_image:{hero:"naga_siren",displayName:"Naga Siren Mirror Image",use_selected_hero:!1,max_level:4,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},dark_seer_wall_of_replica:{hero:"dark_seer",displayName:"Dark Seer Wall of Replica",use_selected_hero:!0,max_level:3,outgoing_damage:"replica_damage_outgoing",incoming_damage:"replica_damage_incoming",outgoing_damage_scepter:"replica_damage_outgoing_scepter"},morphling_replicate:{hero:"morphling",displayName:"Morphling Replicate",use_selected_hero:!0,max_level:3,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_doppelwalk:{hero:"phantom_lancer",displayName:"Phantom Lancer Doppelwalk",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_juxtapose:{hero:"phantom_lancer",displayName:"Phantom Lancer Juxtapose",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_spirit_lance:{hero:"phantom_lancer",displayName:"Phantom Lancer Spirit Lance",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},shadow_demon_disruption:{hero:"shadow_demon",displayName:"Shadow Demon Disruption",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},spectre_haunt:{hero:"spectre",displayName:"Spectre Haunt",use_selected_hero:!1,max_level:3,outgoing_damage:"illusion_damage_outgoing",incoming_damage:"illusion_damage_incoming"},terrorblade_conjure_image:{hero:"terrorblade",displayName:"Terrorblade Conjure Image",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},terrorblade_reflection:{hero:"terrorblade",displayName:"Terrorblade Reflection",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage"},item_manta:{hero:"",is_item:!0,displayName:"Manta Style Illusion",
use_selected_hero:!0,max_level:1,outgoing_damage_melee:"images_do_damage_percent_melee",incoming_damage_melee:"images_take_damage_percent_melee",outgoing_damage_ranged:"images_do_damage_percent_ranged",incoming_damage_ranged:"images_take_damage_percent_ranged"}};t.exports=i},{}],22:[function(e,t,a){var i=e("./stackableItems"),r=e("./levelItems"),n=e("./itemsWithActive"),o=function(e){var t=this;t.items=ko.observableArray([]),t.activeItems=ko.observableArray([]),t.addItem=function(e,t){if(void 0!=e.selectedItem()){var a={item:e.selectedItem().split("|")[0],state:ko.observable(0),size:e.itemInputValue(),enabled:ko.observable(!0)};switch(a.item){case"dagon":a.size=Math.min(a.size,5);break;case"travel_boots":case"diffusal_blade":a.size=Math.min(a.size,2);break;case"necronomicon":a.size=Math.min(a.size,3)}this.items.push(a),"ring_of_aquila"!==e.selectedItem()&&"ring_of_basilius"!==e.selectedItem()&&"heart"!==e.selectedItem()||this.toggleItem(void 0,a,void 0)}}.bind(this),t.toggleItem=function(e,t,a){if(n.indexOf(t.item)>=0)switch(this.activeItems.indexOf(t)<0?this.activeItems.push(t):this.activeItems.remove(t),t.item){case"power_treads":t.state()<2?t.state(t.state()+1):t.state(0);break;default:0==t.state()?t.state(1):t.state(0)}}.bind(this),t.removeItem=function(e){this.activeItems.remove(e),this.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.removeAll=function(){this.activeItems.removeAll(),this.items.removeAll()}.bind(this)};o.prototype.getItemImage=function(e){var t=ko.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},o.prototype.getItemSizeLabel=function(e){return i.indexOf(e.item)!=-1?'<span style="font-size:10px">Qty: </span>'+e.size:r.indexOf(e.item)!=-1?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},o.prototype.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return ko.utils.unwrapObservable(e.state)}},o.prototype.getItemAttributeValue=function(e,t,a){for(var i=0;i<e.length;i++)if(e[i].name==t)return 0==a?parseFloat(e[i].value[0]):a>e[i].value.length?parseFloat(e[i].value[0]):parseFloat(e[i].value[a-1])},t.exports=o},{"./itemsWithActive":28,"./levelItems":29,"./stackableItems":30}],23:[function(e,t,a){"use strict";var i=e("../herocalc_knockout"),r=e("./stackableItems"),n=e("./levelItems"),o=e("../data/main").itemData,l=e("./BasicInventoryViewModel"),s=e("./itemOptionsArray"),u=e("./itemBuffOptions"),c=e("./itemDebuffOptions"),m=function(e){var t=this;return l.call(this,e),t.hero=e,t.hasInventory=i.observable(!0),t.items=i.observableArray([]),t.activeItems=i.observableArray([]),t.hasScepter=i.computed(function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item;if("ultimate_scepter"===a&&t.items()[e].enabled())return!0}return!1},this),t.isEthereal=i.computed(function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item,i=t.activeItems.indexOf(t.items()[e])>=0;if(("ghost"===a||"ethereal_blade"===a)&&t.items()[e].enabled()&&i)return!0}return!1},this),t.isSheeped=i.computed(function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item,i=t.activeItems.indexOf(t.items()[e])>=0;if("sheepstick"===a&&t.items()[e].enabled()&&i)return!0}return!1},this),t.totalCost=i.computed(function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())if(r.indexOf(i)!=-1)e+=o["item_"+i].itemcost*t.items()[a].size;else if(n.indexOf(i)!=-1)switch(i){case"diffusal_blade":e+=o["item_"+i].itemcost+700*(t.items()[a].size-1);break;case"necronomicon":case"dagon":e+=o["item_"+i].itemcost+1250*(t.items()[a].size-1);break;default:e+=o["item_"+i].itemcost}else e+=o["item_"+i].itemcost}return e},this),t.addItemBuff=function(e,a){if(t.hasInventory()&&void 0!=t.selectedItemBuff()){var r={item:t.selectedItemBuff(),state:i.observable(0),size:1,enabled:i.observable(!0)};t.items.push(r),"ring_of_aquila"!==t.selectedItemBuff()&&"ring_of_basilius"!==t.selectedItemBuff()||t.toggleItem(void 0,r,void 0)}},t.addItemDebuff=function(e,a){if(t.hasInventory()&&void 0!=t.selectedItemDebuff()){var r={item:t.selectedItemDebuff().split("|")[0],state:i.observable(0),size:1,enabled:i.observable(!0)};2==t.selectedItemDebuff().split("|").length&&(r.debuff=t.selectedItemDebuff().split("|")[1]),t.items.push(r),"ring_of_aquila"!==t.selectedItemDebuff()&&"ring_of_basilius"!==t.selectedItemDebuff()||t.toggleItem(void 0,r,void 0)}},t.getAttributes=function(e){for(var a=0,i=0;i<t.items().length;i++){var r=t.items()[i].item,n=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var l=t.items()[i].size,s=0;s<o["item_"+r].attributes.length;s++){var u=o["item_"+r].attributes[s];switch(u.name){case"bonus_all_stats":a+=parseInt(u.value[0]);break;case"bonus_stats":a+=parseInt(u.value[0])}switch(e){case"agi":"bonus_agility"==u.name&&(a+="diffusal_blade"==r?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_stat"==u.name&&2==t.items()[i].state()&&(a+=parseInt(u.value[0])),"bonus_agi"==u.name&&(a+=parseInt(u.value[0]));break;case"int":"bonus_intellect"==u.name&&(a+="necronomicon"==r?parseInt(u.value[l-1]):"diffusal_blade"==r?parseInt(u.value[l-1]):"dagon"==r?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_intelligence"==u.name&&(a+=parseInt(u.value[0])),"bonus_int"==u.name&&(a+=parseInt(u.value[0])),"bonus_stat"==u.name&&1==t.items()[i].state()&&(a+=parseInt(u.value[0]));break;case"str":"bonus_strength"==u.name&&(a+="necronomicon"==r?parseInt(u.value[l-1]):parseInt(u.value[0])),"bonus_stat"==u.name&&0==t.items()[i].state()&&(a+=parseInt(u.value[0])),"bonus_str"==u.name&&(a+=parseInt(u.value[0])),"unholy_bonus_strength"==u.name&&n&&(a+=parseInt(u.value[0]))}}}return a},t.getBash=function(e){for(var a=1,i=0;i<t.items().length;i++){var r=t.items()[i].item;if(t.items()[i].enabled())for(var n=0;n<o["item_"+r].attributes.length;n++){var l=o["item_"+r].attributes[n];switch(l.name){case"bash_chance":a*=1-parseInt(l.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==e&&(a*=1-parseInt(l.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&(a*=1-parseInt(l.value[0])/100)}}}return a},t.getCritChance=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"crit_chance":e*=1-parseInt(n.value[0])/100}}}return e},t.getCritSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled()){switch(i){case"lesser_crit":case"greater_crit":case"bloodthorn":void 0==e[i]?e[i]={chance:t.getItemAttributeValue(o["item_"+i].attributes,"crit_chance",0)/100,multiplier:t.getItemAttributeValue(o["item_"+i].attributes,"crit_multiplier",0)/100,count:1,displayname:o["item_"+i].displayname}:e[i].count+=1}"bloodthorn"===i&&r&&(void 0==e.soul_rend?e.soul_rend={chance:1,multiplier:t.getItemAttributeValue(o["item_"+i].attributes,"target_crit_multiplier",0)/100,count:1,displayname:"Soul Rend"}:e.soul_rend.count+=1)}}return e},t.getCleaveSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())switch(i){case"bfury":void 0==e[i]?e[i]={radius:t.getItemAttributeValue(o["item_"+i].attributes,"cleave_radius",0),magnitude:t.getItemAttributeValue(o["item_"+i].attributes,"cleave_damage_percent",0)/100,count:1,displayname:o["item_"+i].displayname}:e[i].count+=1}}return e},t.getBashSource=function(e){for(var a={},i=0;i<t.items().length;i++){var r=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())switch(r){case"javelin":void 0==a[r]?a[r]={damage:t.getItemAttributeValue(o["item_"+r].attributes,"bonus_chance_damage",1),damageType:"magic",count:1,chance:t.getItemAttributeValue(o["item_"+r].attributes,"bonus_chance",1)/100,displayname:o["item_"+r].displayname+" Pierce"}:a[r].count+=1;break;case"monkey_king_bar":void 0==a[r]?a[r]={item:r,chance:t.getItemAttributeValue(o["item_"+r].attributes,"bash_chance",0)/100,damage:t.getItemAttributeValue(o["item_"+r].attributes,"bash_damage",0),duration:t.getItemAttributeValue(o["item_"+r].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:"Mini-Bash"}:a[r].count+=1;break;case"abyssal_blade":case"basher":a.hasOwnProperty("bash")||(a.bash={item:r,chance:t.getItemAttributeValue(o["item_"+r].attributes,"DOTA_UNIT_CAP_MELEE_ATTACK"==e?"bash_chance_melee":"bash_chance_ranged",0)/100,damage:t.getItemAttributeValue(o["item_"+r].attributes,"bonus_chance_damage",0),duration:t.getItemAttributeValue(o["item_"+r].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:"Bash"})}}return a},t.getOrbProcSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())switch(i){case"maelstrom":case"mjollnir":void 0==e[i]?e[i]={chance:t.getItemAttributeValue(o["item_"+i].attributes,"chain_chance",0)/100,damage:t.getItemAttributeValue(o["item_"+i].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:o["item_"+i].displayname}:e[i].count+=1}}return e},t.getOrbSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())switch(i){case"diffusal_blade":void 0==e[i]?e[i]={chance:1,damage:t.getItemAttributeValue(o["item_"+i].attributes,"feedback_mana_burn",t.items()[a].size),count:1,damageType:"physical",displayname:o["item_"+i].displayname}:e[i].count+=1}}return e},t.getHealth=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"bonus_health":e+=parseInt(n.value[0])}}}return e},t.getHealthRegen=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var n=0;n<o["item_"+i].attributes.length;n++){var l=o["item_"+i].attributes[n];switch(l.name){case"health_regen":case"bonus_regen":e+=parseInt(l.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=i||r?"tranquil_boots"!=i&&(e+=parseInt(l.value[0])):e+=parseInt(l.value[0]);break;case"hp_regen":e+=parseInt(l.value[0]);break;case"health_regen_rate":"heart"==i&&r&&(e+=parseInt(l.value[0])/100*t.hero.health())}}}return e},t.getHealthRegenAura=function(e){for(var a=0,i=e||[],r=0;r<t.items().length;r++){var n=t.items()[r].item;t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var l=0;l<o["item_"+n].attributes.length;l++){var s=o["item_"+n].attributes[l];if(!(i.indexOf(n+s.name)>-1))switch(s.name){case"aura_health_regen":a+=parseInt(s.value[0]),i.push(n+s.name)}}}return{value:a,excludeList:i}},t.getMana=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"bonus_mana":e+=parseInt(n.value[0])}}}return e},t.getManaRegen=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"aura_mana_regen":case"mana_regen_aura":e+=parseFloat(n.value[0]);break;case"mana_regen":"infused_raindrop"==i&&(e+=parseFloat(n.value[0]))}}}return e},t.getManaRegenPercent=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=i&&(e+=parseFloat(n.value[0]))}}}return e/100},t.getManaRegenBloodstone=function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item;if(t.items()[e].enabled()&&a.indexOf("bloodstone")!=-1)return parseInt(t.items()[e].size)}return 0},t.getArmor=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var n=0;n<o["item_"+i].attributes.length;n++){var l=o["item_"+i].attributes[n];switch(l.name){case"bonus_armor":(!r||"medallion_of_courage"!=i&&"solar_crest"!=i)&&(e+=parseInt(l.value[0]));break;case"unholy_bonus_armor":r&&"armlet"==i&&(e+=parseInt(l.value[0]))}}}return e},t.getArmorAura=function(e){for(var a=0,i=e||[],r=0;r<t.items().length;r++){var n=t.items()[r].item,l=t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var s=0;s<o["item_"+n].attributes.length;s++){var u=o["item_"+n].attributes[s];if(!i.find(function(e){return u.name==e.name}))switch(u.name){case"bonus_aoe_armor":l&&i.push({name:u.name,value:parseInt(u.value[0])});break;case"aura_positive_armor":i.push({name:u.name,value:parseInt(u.value[0])});break;case"aura_bonus_armor":l&&i.push({name:u.name,value:parseInt(u.value[0])});break;case"armor_aura":i.push({name:u.name,value:parseInt(u.value[0])});break;case"heal_bonus_armor":l&&i.push({name:u.name,value:parseInt(u.value[0])})}}}return i.find(function(e){return"heal_bonus_armor"==e.name})&&(i=i.filter(function(e){return"bonus_aoe_armor"!==e.name})),i.find(function(e){return"armor_aura"==e.name})&&(i=i.filter(function(e){return"aura_bonus_armor"!==e.name})),a=i.reduce(function(e,t){return e+=t.value},0),{value:a,attributes:i}},t.getArmorReduction=function(e){for(var a=0,i=e||[],r=0;r<t.items().length;r++){var n=t.items()[r].item,l=t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var s=0;s<o["item_"+n].attributes.length;s++){var u=o["item_"+n].attributes[s];if(!(i.indexOf(u.name)>-1||i.indexOf(n+"_"+u.name)>-1))switch(u.name){case"armor_reduction":(l||"medallion_of_courage"!=n&&"solar_crest"!=n)&&(a+=parseInt(u.value[0]),i.push(n+"_"+u.name));break;case"aura_negative_armor":a+=parseInt(u.value[0]),i.push(u.name);break;case"corruption_armor":a+=parseInt(u.value[0]),i.push(u.name)}}}return{value:a,excludeList:i}},t.getEvasion=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var n=0;n<o["item_"+i].attributes.length;n++){var l=o["item_"+i].attributes[n];switch(l.name){case"bonus_evasion":(!r||"butterfly"!=i&&"solar_crest"!=i)&&(e*=1-parseInt(l.value[0])/100)}}}return e},t.getMovementSpeedFlat=function(){for(var e=0,a=!1,i=!1,r=!1,n=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],l=0;l<t.items().length;l++){var s=t.items()[l].item,u=t.activeItems.indexOf(t.items()[l])>=0;if(t.items()[l].enabled())for(var c=0;c<o["item_"+s].attributes.length;c++){var m=o["item_"+s].attributes[c];switch(m.name){case"bonus_movement_speed":!a&&n.indexOf(s)>=0?("tranquil_boots"!=s||"tranquil_boots"==s&&!u)&&(e+=parseInt(m.value[0]),a=!0):"cyclone"==s&&(e+=parseInt(m.value[0]),i=!0);break;case"broken_movement_speed":!a&&n.indexOf(s)>=0&&"tranquil_boots"==s&&u&&(e+=parseInt(m.value[0]),a=!0);break;case"bonus_movement":!a&&n.indexOf(s)>=0&&(e+=parseInt(m.value[0]),a=!0);break;case"movement_speed":r||"wind_lace"!=s||(e+=parseInt(m.value[0]),r=!0)}}}return e},t.getMovementSpeedPercent=function(e){for(var a=0,i=e||[],r=!1,n=!1,l=!1,s=!1,u=!1,c=!1,m=!1,b=["manta","yasha","sange_and_yasha"],d=0;d<t.items().length;d++){var p=t.items()[d].item,f=t.activeItems.indexOf(t.items()[d])>=0;if(t.items()[d].enabled())for(var g=0;g<o["item_"+p].attributes.length;g++){var _=o["item_"+p].attributes[g];if(!(i.indexOf(_.name)>-1))switch(_.name){case"movement_speed_percent_bonus":!r&&b.indexOf(p)>=0&&(a+=parseInt(_.value[0]),r=!0);break;case"bonus_aura_movement_speed_pct":n||"ancient_janggo"!=p||(a+=parseInt(_.value[0]),n=!0,i.push(_.name));break;case"phase_movement_speed":f&&!s&&(a+=parseInt(_.value[0]),s=!0);break;case"bonus_movement_speed_pct":f&&!l&&"ancient_janggo"==p&&(a+=parseInt(_.value[0]),l=!0,i.push(_.name));break;case"windwalk_movement_speed":!f||u||"invis_sword"!=p&&"silver_edge"!=p||(a+=parseInt(_.value[0]),u=!0);break;case"berserk_bonus_movement_speed":f&&!m&&"mask_of_madness"==p&&(a+=parseInt(_.value[0]),m=!0);break;case"bonus_movement_speed":r||"manta"!=p?"smoke_of_deceit"==p&&f&&(a+=parseInt(_.value[0])):(a+=parseInt(_.value[0]),r=!0);break;case"bonus_move_speed":f&&!c&&"butterfly"==p&&(a+=parseInt(_.value[0]),c=!0)}}}return{value:a/100,excludeList:i}},t.getMovementSpeedPercentReduction=function(e){for(var a=0,i=e||[],r=0;r<t.items().length;r++){var n=t.items()[r].item,l=t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var s=0;s<o["item_"+n].attributes.length;s++){var u=o["item_"+n].attributes[s];if(!(i.indexOf(u.name)>-1))switch(u.name){case"movespeed":"dust"==n&&l&&(a+=parseInt(u.value[0]));case"blast_movement_speed":"shivas_guard"==n&&l&&(a+=parseInt(u.value[0]),i.push(u.name));case"cold_movement_speed":"skadi"==n&&(a+=parseInt(u.value[0]));break;case"maim_movement_speed":t.items()[r].debuff&&"maim"==t.items()[r].debuff&&(a+=parseInt(u.value[0]),i.push(u.name))}}}return{value:a/100,excludeList:i}},t.getBonusDamage=function(){for(var e=0,a={},i=0;i<t.items().length;i++){var r=t.items()[i].item,n=t.activeItems.indexOf(t.items()[i])>=0;if(t.items()[i].enabled())for(var l=0;l<o["item_"+r].attributes.length;l++){var s=o["item_"+r].attributes[l];switch(s.name){case"bonus_damage":e+=parseInt(s.value[0]),void 0==a[r]?a[r]={damage:parseInt(s.value[0]),damageType:"physical",count:1,displayname:o["item_"+r].displayname}:a[r].count+=1;break;case"unholy_bonus_damage":n&&(e+=parseInt(s.value[0]),void 0==a[r+"_active"]?a[r+"_active"]={damage:parseInt(s.value[0]),damageType:"physical",count:1,displayname:o["item_"+r].displayname+" Unholy Strength"}:a[r].count+=1)}}}return{sources:a,total:e}},t.getBonusDamagePercent=function(e){e=e||{sources:{},total:0};for(var a=e.total||0,i=e.sources||{},r=0;r<t.items().length;r++){var n=t.items()[r].item;t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var l=0;l<o["item_"+n].attributes.length;l++){var s=o["item_"+n].attributes[l];switch(s.name){case"damage_aura":void 0==i[n]&&(a+=parseInt(s.value[0])/100,i[n]={damage:parseInt(s.value[0])/100,damageType:"physical",count:1,displayname:o["item_"+n].displayname})}}}return{sources:i,total:a}},t.getAttackSpeed=function(e){for(var a=0,i=!1,r=e||[],n=0;n<t.items().length;n++){var l=t.items()[n].item,s=t.activeItems.indexOf(t.items()[n])>=0;if(t.items()[n].enabled())for(var u=0;u<o["item_"+l].attributes.length;u++){var c=o["item_"+l].attributes[u];if(!(r.indexOf(c.name)>-1))switch(c.name){case"bonus_attack_speed":"power_treads"==l?i||(a+=parseInt(c.value[0]),i=!0):"moon_shard"==l?s||(a+=parseInt(c.value[0])):"hurricane_pike"==l?s&&(a+=parseInt(c.value[0])):a+=parseInt(c.value[0]);break;case"consumed_bonus":"moon_shard"==l&&s&&(a+=parseInt(c.value[0]));break;case"bonus_speed":a+=parseInt(c.value[0]);break;case"aura_attack_speed":"shivas_guard"!=l&&(a+=parseInt(c.value[0]));break;case"bonus_aura_attack_speed_pct":a+=parseInt(c.value[0]),r.push(c.name);break;case"bonus_attack_speed_pct":s&&(a+=parseInt(c.value[0]),r.push(c.name));break;case"unholy_bonus_attack_speed":s&&(a+=parseInt(c.value[0]));break;case"berserk_bonus_attack_speed":s&&(a+=parseInt(c.value[0]))}}}return{value:a,excludeList:r}},t.getAttackSpeedReduction=function(e){for(var a=0,i=e||[],r=0;r<t.items().length;r++){var n=t.items()[r].item;t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var l=0;l<o["item_"+n].attributes.length;l++){var s=o["item_"+n].attributes[l];if(!(i.indexOf(s.name)>-1))switch(s.name){case"aura_attack_speed":"shivas_guard"==n&&(a+=parseInt(s.value[0]),i.push(s.name));break;case"cold_attack_speed":"skadi"==n&&(a+=parseInt(s.value[0]),i.push(s.name));break;case"maim_attack_speed":t.items()[r].debuff&&"maim"==t.items()[r].debuff&&(a+=parseInt(s.value[0]),i.push(s.name))}}}return{value:a,excludeList:i}},t.getLifesteal=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var n=0;n<o["item_"+i].attributes.length;n++){var l=o["item_"+i].attributes[n];switch(l.name){case"lifesteal_percent":if("satanic"!=i)return parseInt(l.value[0]);if(!r)return parseInt(l.value[0]);break;case"unholy_lifesteal_percent":if(r)return parseInt(l.value[0])}}}return e},t.getLifestealAura=function(e){for(var a=0,i=e||[],r=0;r<t.items().length;r++){var n=t.items()[r].item;t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var l=0;l<o["item_"+n].attributes.length;l++){var s=o["item_"+n].attributes[l];if(!(i.indexOf(s.name)>-1))switch(s.name){case"vampiric_aura":a+=parseInt(s.value[0]),i.push(s.name)}}}return{value:a,excludeList:i}},t.getMagicResist=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"bonus_magical_armor":e*=1-parseInt(n.value[0])/100;break;case"bonus_spell_resist":e*=1-parseInt(n.value[0])/100;break;case"magic_resistance":e*=1-parseInt(n.value[0])/100}}}return e},t.getMagicResistReductionSelf=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled()&&r)for(var n=0;n<o["item_"+i].attributes.length;n++){var l=o["item_"+i].attributes[n];switch(l.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(l.value[0])/100}}}return e},t.getMagicResistReduction=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled()&&r)for(var n=0;n<o["item_"+i].attributes.length;n++){var l=o["item_"+i].attributes[n];switch(l.name){case"ethereal_damage_bonus":t.isEthereal()||(e*=1-parseInt(l.value[0])/100);case"resist_debuff":e*=1-parseInt(l.value[0])/100}}}return e},t.getVisionRangeNight=i.computed(function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var n=0;n<o["item_"+i].attributes.length;n++){var l=o["item_"+i].attributes[n];switch(l.name){case"bonus_night_vision":"moon_shard"==i&&r||(e+=parseInt(l.value[0]))}}}return e}),t.getAttackRange=function(e,a){for(var i=0,r=a||[],n=0;n<t.items().length;n++){var l=t.items()[n].item;t.activeItems.indexOf(t.items()[n])>=0;if(t.items()[n].enabled())for(var s=0;s<o["item_"+l].attributes.length;s++){var u=o["item_"+l].attributes[s];if(!r.find(function(e){return u.name==e.name}))switch(u.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&r.push({name:u.name,value:parseInt(u.value[0])})}}}return i=r.reduce(function(e,t){return e+=t.value},0),{value:i,attributes:r}},t.getMissChance=function(e){for(var a=1,i=e||[],r=0;r<t.items().length;r++){var n=t.items()[r].item,l=t.activeItems.indexOf(t.items()[r])>=0;if(t.items()[r].enabled())for(var s=0;s<o["item_"+n].attributes.length;s++){var u=o["item_"+n].attributes[s];if(!(i.indexOf(u.name)>-1))switch(u.name){case"miss_chance":"solar_crest"===n&&l&&(a*=1-parseInt(u.value[0])/100,i.push(u.name));break;case"blind_pct":a*=1-parseInt(u.value[0])/100,i.push(u.name)}}}return{value:a,excludeList:i}},t.getBaseDamageReductionPct=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"backstab_reduction":t.items()[a].debuff&&"shadow_walk"==t.items()[a].debuff&&(e*=1+parseInt(n.value[0])/100)}}}return e},t.getBonusDamageReductionPct=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0;if(t.items()[a].enabled())for(var r=0;r<o["item_"+i].attributes.length;r++){var n=o["item_"+i].attributes[r];switch(n.name){case"backstab_reduction":t.items()[a].debuff&&"shadow_walk"==t.items()[a].debuff&&(e*=1+parseInt(n.value[0])/100)}}}return e},t.itemOptions=i.observableArray(s.items),t.itemBuffOptions=i.observableArray(u.items),t.selectedItemBuff=i.observable("assault"),t.itemDebuffOptions=i.observableArray(c.items),t.selectedItemDebuff=i.observable("assault"),t};m.prototype=Object.create(l.prototype),m.prototype.constructor=m,t.exports=m},{"../data/main":7,"../herocalc_knockout":20,"./BasicInventoryViewModel":22,"./itemBuffOptions":25,"./itemDebuffOptions":26,"./itemOptionsArray":27,"./levelItems":29,"./stackableItems":30}],24:[function(e,t,a){var i=e("../data/main").itemData,r=function(e,t,a){if(i["item_"+e].ItemAliases instanceof Array)var r=i["item_"+e].ItemAliases.join(" ");else var r=i["item_"+e].ItemAliases;this.value=ko.observable(e),this.debuff=ko.observable(a),this.debuff()?(this.value=ko.observable(e+"|"+a.id),this.name=ko.observable(t+" ("+a.name+")"),this.displayname=ko.observable(t+" ("+a.name+') <span style="display:none">;'+r+"</span>")):(this.value=ko.observable(e),this.name=ko.observable(t),this.displayname=ko.observable(t+' <span style="display:none">;'+r+"</span>"))};t.exports=r},{"../data/main":7}],25:[function(e,t,a){var i=e("./ItemInput"),r=e("../data/main").itemData,n=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest"],o={},l=function(){return o.items=n.map(function(e){return new i(e,r["item_"+e].displayname)}),o.items};o.init=l,t.exports=o},{"../data/main":7,"./ItemInput":24}],26:[function(e,t,a){var i=e("./ItemInput"),r=e("../data/main").itemData,n=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}],o={},l=function(){return o.items=n.map(function(e){return new i(e.item,r["item_"+e.item].displayname,e.debuff)}),o.items};o.init=l,t.exports=o},{"../data/main":7,"./ItemInput":24}],27:[function(e,t,a){var i=e("./validItems"),r=e("./ItemInput"),n=e("../data/main").itemData,o={},l=function(){o.items=[];for(var e=0;e<i.length;e++)o.items.push(new r(i[e],n["item_"+i[e]].displayname));return o.items};o.init=l,t.exports=o},{"../data/main":7,"./ItemInput":24,"./validItems":31}],28:[function(e,t,a){t.exports=["solar_crest","heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge","bloodthorn","hurricane_pike"]},{}],29:[function(e,t,a){t.exports=["necronomicon","dagon","diffusal_blade","travel_boots"]},{}],30:[function(e,t,a){t.exports=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"]},{}],31:[function(e,t,a){t.exports=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance","echo_sabre","infused_raindrop","blight_stone","wind_lace","tome_of_knowledge","bloodthorn","hurricane_pike"]},{}],32:[function(e,t,a){"use strict";var i={};i.InventoryViewModel=e("./inventory/InventoryViewModel"),i.AbilityModel=e("./AbilityModel"),i.BuffViewModel=e("./BuffViewModel"),i.HeroModel=e("./hero/HeroModel"),i.CloneModel=e("./hero/CloneModel"),i.UnitModel=e("./hero/UnitModel"),i.IllusionModel=e("./hero/IllusionModel"),i.Data=e("./data/main"),i.Util=e("./util/main"),i.init=function(t,a,r,n){i.Data.init(t,a,r,function(){i.HeroOptions=e("./hero/heroOptionsArray").init(),i.BuffOptions=e("./buffs/buffOptionsArray").init(),i.DebuffOptions=e("./buffs/debuffOptionsArray").init(),i.ItemOptions=e("./inventory/itemOptionsArray").init(),i.ItemBuffOptions=e("./inventory/itemBuffOptions").init(),i.ItemDebuffOptions=e("./inventory/itemDebuffOptions").init(),n()})},t.exports=i},{"./AbilityModel":2,"./BuffViewModel":3,"./buffs/buffOptionsArray":5,"./buffs/debuffOptionsArray":6,"./data/main":7,"./hero/CloneModel":8,"./hero/HeroModel":11,"./hero/IllusionModel":13,"./hero/UnitModel":14,"./hero/heroOptionsArray":16,"./inventory/InventoryViewModel":23,"./inventory/itemBuffOptions":25,"./inventory/itemDebuffOptions":26,"./inventory/itemOptionsArray":27,"./util/main":36}],33:[function(e,t,a){var i=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var a=arguments[t];if(a)for(var r in a)a.hasOwnProperty(r)&&("object"==typeof a[r]?e[r]=i(e[r],a[r]):e[r]=a[r])}return e};t.exports=i},{}],34:[function(e,t,a){var i=function(e,t){e:for(var a=0;a<e.length;a++){for(var i in t)if(e[a][i]!=t[i])continue e;return e[a]}};t.exports=i},{}],35:[function(e,t,a){"use strict";var i=function(e,t,a){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=function(){if(i.status>=200&&i.status<400){var e=JSON.parse(i.responseText);t(e)}else a();
},i.onerror=function(){a()},i.send()};t.exports=i},{}],36:[function(e,t,a){"use strict";var i={};i.extend=e("./extend"),i.findWhere=e("./findWhere"),i.getJSON=e("./getJSON"),i.union=e("./union"),i.uniqueId=e("./uniqueId"),i.uniques=e("./uniques"),t.exports=i},{"./extend":33,"./findWhere":34,"./getJSON":35,"./union":37,"./uniqueId":38,"./uniques":39}],37:[function(e,t,a){"use strict";var i=e("./uniques"),r=function(e,t){var a=e.concat(t);return i(a)};t.exports=r},{"./uniques":39}],38:[function(e,t,a){"use strict";var i=0,r=function(e){var t=++i+"";return e?e+t:t};t.exports=r},{}],39:[function(e,t,a){"use strict";var i=function(e){for(var t=[],a=0,i=e.length;a<i;a++)t.indexOf(e[a])===-1&&""!==e[a]&&t.push(e[a]);return t};t.exports=i},{}],40:[function(e,t,a){(function(i){!function(r){"function"==typeof e&&"object"==typeof a&&"object"==typeof t?r("undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,a):"function"==typeof define&&define.amd?define(["knockout","exports"],r):r(ko,ko.mapping={})}(function(e,t){function a(e,t){for(var a={},i=e.length-1;i>=0;--i)a[e[i]]=e[i];for(var i=t.length-1;i>=0;--i)a[t[i]]=t[i];var r=[];for(var n in a)r.push(a[n]);return r}function i(e,r){var n;for(var o in r)if(r.hasOwnProperty(o)&&r[o])if(n=t.getType(e[o]),o&&e[o]&&"array"!==n&&"string"!==n)i(e[o],r[o]);else{var l="array"===t.getType(e[o])&&"array"===t.getType(r[o]);l?e[o]=a(e[o],r[o]):e[o]=r[o]}}function r(e,t){var a={};return i(a,e),i(a,t),a}function n(e,t){for(var a=r({},e),i=w.length-1;i>=0;i--){var n=w[i];a[n]&&(a[""]instanceof Object||(a[""]={}),a[""][n]=a[n],delete a[n])}return t&&(a.ignore=o(t.ignore,a.ignore),a.include=o(t.include,a.include),a.copy=o(t.copy,a.copy),a.observe=o(t.observe,a.observe)),a.ignore=o(a.ignore,I.ignore),a.include=o(a.include,I.include),a.copy=o(a.copy,I.copy),a.observe=o(a.observe,I.observe),a.mappedProperties=a.mappedProperties||{},a.copiedProperties=a.copiedProperties||{},a}function o(a,i){return"array"!==t.getType(a)&&(a="undefined"===t.getType(a)?[]:[a]),"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),e.utils.arrayGetDistinctValues(a.concat(i))}function l(t,a){var i=e.dependentObservable;e.dependentObservable=function(a,i,r){r=r||{},a&&"object"==typeof a&&(r=a);var n=r.deferEvaluation,o=!1,l=function(a){var i=e.dependentObservable;e.dependentObservable=T;var r=e.isWriteableObservable(a);e.dependentObservable=i;var n=T({read:function(){return o||(e.utils.arrayRemoveItem(t,a),o=!0),a.apply(a,arguments)},write:r&&function(e){return a(e)},deferEvaluation:!0});return y&&(n._wrapper=!0),n.__DO=a,n};r.deferEvaluation=!0;var s=new T(a,i,r);return n||(s=l(s),t.push(s)),s},e.dependentObservable.fn=T.fn,e.computed=e.dependentObservable;var r=a();return e.dependentObservable=i,e.computed=e.dependentObservable,r}function s(a,i,n,o,c,f,g){var _="array"===t.getType(e.utils.unwrapObservable(i));if(f=f||"",t.isMapped(a)){var y=e.utils.unwrapObservable(a)[A];n=r(y,n)}var T={data:i,parent:g||c},k=function(){return n[o]&&n[o].create instanceof Function},w=function(t){return l(h,function(){return e.utils.unwrapObservable(c)instanceof Array?n[o].create({data:t||T.data,parent:T.parent,skip:D}):n[o].create({data:t||T.data,parent:T.parent})})},x=function(){return n[o]&&n[o].update instanceof Function},I=function(t,a){var i={data:a||T.data,parent:T.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(i.observable=t),n[o].update(i)},S=v.get(i);if(S)return S;if(o=o||"",_){var P=[],O=!1,E=function(e){return e};n[o]&&n[o].key&&(E=n[o].key,O=!0),e.isObservable(a)||(a=e.observableArray([]),a.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return a.remove(function(e){return t(E(e))})},a.mappedRemoveAll=function(t){var i=b(t,E);return a.remove(function(t){return e.utils.arrayIndexOf(i,E(t))!=-1})},a.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return a.destroy(function(e){return t(E(e))})},a.mappedDestroyAll=function(t){var i=b(t,E);return a.destroy(function(t){return e.utils.arrayIndexOf(i,E(t))!=-1})},a.mappedIndexOf=function(t){var i=b(a(),E),r=E(t);return e.utils.arrayIndexOf(i,r)},a.mappedGet=function(e){return a()[a.mappedIndexOf(e)]},a.mappedCreate=function(t){if(a.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");var i=k()?w(t):t;if(x()){var r=I(i,t);e.isWriteableObservable(i)?i(r):i=r}return a.push(i),i});var R=b(e.utils.unwrapObservable(a),E).sort(),V=b(i,E);O&&V.sort();var N,M,B=e.utils.compareArrays(R,V),C={},L=e.utils.unwrapObservable(i),H={},z=!0;for(N=0,M=L.length;N<M;N++){var F=E(L[N]);if(void 0===F||F instanceof Object){z=!1;break}H[F]=L[N]}var j=[],U=0;for(N=0,M=B.length;N<M;N++){var q,F=B[N],G=f+"["+N+"]";switch(F.status){case"added":var Y=z?H[F.value]:m(e.utils.unwrapObservable(i),F.value,E);q=s(void 0,Y,n,o,a,G,c),k()||(q=e.utils.unwrapObservable(q));var Q=u(e.utils.unwrapObservable(i),Y,C);q===D?U++:j[Q-U]=q,C[Q]=!0;break;case"retained":var Y=z?H[F.value]:m(e.utils.unwrapObservable(i),F.value,E);q=m(a,F.value,E),s(q,Y,n,o,a,G,c);var Q=u(e.utils.unwrapObservable(i),Y,C);j[Q]=q,C[Q]=!0;break;case"deleted":q=m(a,F.value,E)}P.push({event:F.status,item:q})}a(j),n[o]&&n[o].arrayChanged&&e.utils.arrayForEach(P,function(e){n[o].arrayChanged(e.event,e.item)})}else if(p(i)){if(a=e.utils.unwrapObservable(a),!a){if(k()){var W=w();return x()&&(W=I(W)),W}if(x())return I(W);a={}}if(x()&&(a=I(a)),v.save(i,a),x())return a;d(i,function(t){var r=f.length?f+"."+t:t;if(e.utils.arrayIndexOf(n.ignore,r)==-1){if(e.utils.arrayIndexOf(n.copy,r)!=-1)return void(a[t]=i[t]);if("object"!=typeof i[t]&&"array"!=typeof i[t]&&n.observe.length>0&&e.utils.arrayIndexOf(n.observe,r)==-1)return a[t]=i[t],void(n.copiedProperties[r]=!0);var o=v.get(i[t]),l=s(a[t],i[t],n,t,a,r,a),u=o||l;if(n.observe.length>0&&e.utils.arrayIndexOf(n.observe,r)==-1)return a[t]=u(),void(n.copiedProperties[r]=!0);e.isWriteableObservable(a[t])?(u=e.utils.unwrapObservable(u),a[t]()!==u&&a[t](u)):(u=void 0===a[t]?u:e.utils.unwrapObservable(u),a[t]=u),n.mappedProperties[r]=!0}})}else switch(t.getType(i)){case"function":x()?e.isWriteableObservable(i)?(i(I(i)),a=i):a=I(i):a=i;break;default:if(e.isWriteableObservable(a)){if(x()){var J=I(a);return a(J),J}var J=e.utils.unwrapObservable(i);return a(J),J}var $=k()||x();if(a=k()?w():e.observable(e.utils.unwrapObservable(i)),x()&&a(I(a)),$)return a}return a}function u(e,t,a){for(var i=0,r=e.length;i<r;i++)if(a[i]!==!0&&e[i]===t)return i;return null}function c(a,i){var r;return i&&(r=i(a)),"undefined"===t.getType(r)&&(r=a),e.utils.unwrapObservable(r)}function m(t,a,i){t=e.utils.unwrapObservable(t);for(var r=0,n=t.length;r<n;r++){var o=t[r];if(c(o,i)===a)return o}throw new Error("When calling ko.update*, the key '"+a+"' was not found!")}function b(t,a){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return a?c(e,a):e})}function d(e,a){if("array"===t.getType(e))for(var i=0;i<e.length;i++)a(i);else for(var r in e)a(r)}function p(e){var a=t.getType(e);return("object"===a||"array"===a)&&null!==e}function f(e,a,i){var r=e||"";return"array"===t.getType(a)?e&&(r+="["+i+"]"):(e&&(r+="."),r+=i),r}function g(){var t=[],a=[];this.save=function(i,r){var n=e.utils.arrayIndexOf(t,i);n>=0?a[n]=r:(t.push(i),a.push(r))},this.get=function(i){var r=e.utils.arrayIndexOf(t,i),n=r>=0?a[r]:void 0;return n}}function _(){var e={},t=function(t){var a;try{a=t}catch(e){a="$$$"}var i=e[a];return void 0===i&&(i=new g,e[a]=i),i};this.save=function(e,a){t(e).save(e,a)},this.get=function(e){return t(e).get(e)}}var h,v,y=!0,A="__ko_mapping__",T=e.dependentObservable,k=0,w=["create","update","key","arrayChanged"],D={},x={include:["_destroy"],ignore:[],copy:[],observe:[]},I=x;t.isMapped=function(t){var a=e.utils.unwrapObservable(t);return a&&a[A]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{k++||(h=[],v=new _);var t,a;2==arguments.length&&(arguments[1][A]?a=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],a=arguments[2]),a&&(t=r(t,a[A])),t=n(t);var i=s(a,e,t);if(a&&(i=a),!--k)for(;h.length;){var o=h.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return i[A]=r(i[A],t),i}catch(e){throw k=0,e}},t.fromJSON=function(a){var i=e.utils.parseJson(a);return arguments[0]=i,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(a,i){if(I||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(I.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(I.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(I.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return i=n(i,a[A]),t.visitModel(a,function(t){return e.utils.unwrapObservable(t)},i)},t.toJSON=function(a,i){var r=t.toJS(a,i);return e.utils.stringifyJson(r)},t.defaultOptions=function(){return arguments.length>0?void(I=arguments[0]):I},t.resetDefaultOptions=function(){I={include:x.include.slice(0),ignore:x.ignore.slice(0),copy:x.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(a,i,r){r=r||{},r.visitedObjects=r.visitedObjects||new _;var o,l=e.utils.unwrapObservable(a);if(!p(l))return i(a,r.parentName);r=n(r,l[A]),i(a,r.parentName),o="array"===t.getType(l)?[]:{},r.visitedObjects.save(a,o);var s=r.parentName;return d(l,function(a){if(!r.ignore||e.utils.arrayIndexOf(r.ignore,a)==-1){var n=l[a];if(r.parentName=f(s,l,a),e.utils.arrayIndexOf(r.copy,a)!==-1||e.utils.arrayIndexOf(r.include,a)!==-1||!l[A]||!l[A].mappedProperties||l[A].mappedProperties[a]||!l[A].copiedProperties||l[A].copiedProperties[a]||"array"===t.getType(l)){switch(t.getType(e.utils.unwrapObservable(n))){case"object":case"array":case"undefined":var u=r.visitedObjects.get(n);o[a]="undefined"!==t.getType(u)?u:t.visitModel(n,i,r);break;default:o[a]=i(n,r.parentName)}}}}),o}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(e,t,a){(function(i){!function(r){"function"==typeof e&&"object"==typeof a&&"object"==typeof t?r("undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,a):"function"==typeof define&&define.amd?define(["knockout","exports"],r):r(ko,ko.wrap={})}(function(e,t){function a(e){var t=typeof e;return"object"===t&&(e?e.constructor==Date?t="date":"[object Array]"==Object.prototype.toString.call(e)&&(t="array"):t="null"),t}function i(t){var a={};for(var i in t){var r=t[i];e.isComputed(r)||(a[i]=n(r))}return a}function r(e){var t=[];if(!e||0==e.length)return t;for(var a=0,i=e.length;a<i;++a)t.push(n(e[a]));return t}function n(t){var o=e.isObservable(t);if(o){var l=t();return n(l)}return"array"==a(t)?r(t):"object"==a(t)?i(t):t}function o(){b=[{obj:null,wrapped:null,lvl:""}]}function l(t,a){for(var i=0;i<b.length;++i)if(b[i].obj===t)return b[i].wrapped;var r={};for(var n in t){var o=t[n];b.push({obj:t,wrapped:r,lvl:u()+"/"+n}),r[n]=c(o,a),b.pop()}return a&&a[u()]&&(r=a[u()](r)),m()&&e.track(r),r}function s(t,a){var i=e.observableArray();if(!t||0==t.length)return i;for(var r=0,n=t.length;r<n;++r)i.push(c(t[r],a));return i}function u(){return b[b.length-1].lvl}function c(t,i){if("array"==a(t))return s(t,i);if("object"==a(t))return l(t,i);if(m()||"function"==typeof t)return t;var r=e.observable();return r(t),r}function m(){return null!=e.track}t.fromJS=function(e,t){return o(),c(e,t)},t.updateFromJS=function(t,a,i){return o(),t(e.utils.unwrapObservable(c(a,i)))},t.fromJSON=function(a,i){var r=e.utils.parseJson(a);return arguments[0]=r,t.fromJS.apply(this,i)},t.toJS=function(e){return n(e)},t.toJSON=function(a){var i=t.toJS(a);return e.utils.stringifyJson(i)};var b})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,a){!function(e,a,i,r){"use strict";function n(e,t,a){return setTimeout(c(e,a),t)}function o(e,t,a){return!!Array.isArray(e)&&(l(e,a[t],a),!0)}function l(e,t,a){var i;if(e)if(e.forEach)e.forEach(t,a);else if(e.length!==r)for(i=0;i<e.length;)t.call(a,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(a,e[i],i,e)}function s(t,a,i){var r="DEPRECATED METHOD: "+a+"\n"+i+" AT \n";return function(){var a=new Error("get-stack-trace"),i=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=e.console&&(e.console.warn||e.console.log);return n&&n.call(e.console,r,i),t.apply(this,arguments)}}function u(e,t,a){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,a&&be(i,a)}function c(e,t){return function(){return e.apply(t,arguments)}}function m(e,t){return typeof e==fe?e.apply(t?t[0]||r:r,t):e}function b(e,t){return e===r?t:e}function d(e,t,a){l(_(t),function(t){e.addEventListener(t,a,!1)})}function p(e,t,a){l(_(t),function(t){e.removeEventListener(t,a,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function _(e){return e.trim().split(/\s+/g)}function h(e,t,a){if(e.indexOf&&!a)return e.indexOf(t);for(var i=0;i<e.length;){if(a&&e[i][a]==t||!a&&e[i]===t)return i;i++}return-1}function v(e){return Array.prototype.slice.call(e,0)}function y(e,t,a){for(var i=[],r=[],n=0;n<e.length;){var o=t?e[n][t]:e[n];h(r,o)<0&&i.push(e[n]),r[n]=o,n++}return a&&(i=t?i.sort(function(e,a){return e[t]>a[t]}):i.sort()),i}function A(e,t){for(var a,i,n=t[0].toUpperCase()+t.slice(1),o=0;o<de.length;){if(a=de[o],i=a?a+n:t,i in e)return i;o++}return r}function T(){return Ae++}function k(t){var a=t.ownerDocument||t;return a.defaultView||a.parentWindow||e}function w(e,t){var a=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){m(e.options.enable,[e])&&a.handler(t)},this.init()}function D(e){var t,a=e.options.inputClass;return new(t=a?a:we?H:De?j:ke?q:L)(e,x)}function x(e,t,a){var i=a.pointers.length,r=a.changedPointers.length,n=t&Ee&&i-r===0,o=t&(Ve|Ne)&&i-r===0;a.isFirst=!!n,a.isFinal=!!o,n&&(e.session={}),a.eventType=t,I(e,a),e.emit("hammer.input",a),e.recognize(a),e.session.prevInput=a}function I(e,t){var a=e.session,i=t.pointers,r=i.length;a.firstInput||(a.firstInput=O(t)),r>1&&!a.firstMultiple?a.firstMultiple=O(t):1===r&&(a.firstMultiple=!1);var n=a.firstInput,o=a.firstMultiple,l=o?o.center:n.center,s=t.center=E(i);t.timeStamp=he(),t.deltaTime=t.timeStamp-n.timeStamp,t.angle=M(l,s),t.distance=N(l,s),S(a,t),t.offsetDirection=V(t.deltaX,t.deltaY);var u=R(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=_e(u.x)>_e(u.y)?u.x:u.y,t.scale=o?C(o.pointers,i):1,t.rotation=o?B(o.pointers,i):0,t.maxPointers=a.prevInput?t.pointers.length>a.prevInput.maxPointers?t.pointers.length:a.prevInput.maxPointers:t.pointers.length,P(a,t);var c=e.element;f(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function S(e,t){var a=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},n=e.prevInput||{};t.eventType!==Ee&&n.eventType!==Ve||(r=e.prevDelta={x:n.deltaX||0,y:n.deltaY||0},i=e.offsetDelta={x:a.x,y:a.y}),t.deltaX=r.x+(a.x-i.x),t.deltaY=r.y+(a.y-i.y)}function P(e,t){var a,i,n,o,l=e.lastInterval||t,s=t.timeStamp-l.timeStamp;if(t.eventType!=Ne&&(s>Oe||l.velocity===r)){var u=t.deltaX-l.deltaX,c=t.deltaY-l.deltaY,m=R(s,u,c);i=m.x,n=m.y,a=_e(m.x)>_e(m.y)?m.x:m.y,o=V(u,c),e.lastInterval=t}else a=l.velocity,i=l.velocityX,n=l.velocityY,o=l.direction;t.velocity=a,t.velocityX=i,t.velocityY=n,t.direction=o}function O(e){for(var t=[],a=0;a<e.pointers.length;)t[a]={clientX:ge(e.pointers[a].clientX),clientY:ge(e.pointers[a].clientY)},a++;return{timeStamp:he(),pointers:t,center:E(t),deltaX:e.deltaX,deltaY:e.deltaY}}function E(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var a=0,i=0,r=0;r<t;)a+=e[r].clientX,i+=e[r].clientY,r++;return{x:ge(a/t),y:ge(i/t)}}function R(e,t,a){return{x:t/e||0,y:a/e||0}}function V(e,t){return e===t?Me:_e(e)>=_e(t)?e<0?Be:Ce:t<0?Le:He}function N(e,t,a){a||(a=Ue);var i=t[a[0]]-e[a[0]],r=t[a[1]]-e[a[1]];return Math.sqrt(i*i+r*r)}function M(e,t,a){a||(a=Ue);var i=t[a[0]]-e[a[0]],r=t[a[1]]-e[a[1]];return 180*Math.atan2(r,i)/Math.PI}function B(e,t){return M(t[1],t[0],qe)+M(e[1],e[0],qe)}function C(e,t){return N(t[0],t[1],qe)/N(e[0],e[1],qe)}function L(){this.evEl=Ye,this.evWin=Qe,this.pressed=!1,w.apply(this,arguments)}function H(){this.evEl=$e,this.evWin=Xe,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function z(){this.evTarget=Ze,this.evWin=et,this.started=!1,w.apply(this,arguments)}function F(e,t){var a=v(e.touches),i=v(e.changedTouches);return t&(Ve|Ne)&&(a=y(a.concat(i),"identifier",!0)),[a,i]}function j(){this.evTarget=at,this.targetIds={},w.apply(this,arguments)}function U(e,t){var a=v(e.touches),i=this.targetIds;if(t&(Ee|Re)&&1===a.length)return i[a[0].identifier]=!0,[a,a];var r,n,o=v(e.changedTouches),l=[],s=this.target;if(n=a.filter(function(e){return f(e.target,s)}),t===Ee)for(r=0;r<n.length;)i[n[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&l.push(o[r]),t&(Ve|Ne)&&delete i[o[r].identifier],r++;return l.length?[y(n.concat(l),"identifier",!0),l]:void 0}function q(){w.apply(this,arguments);var e=c(this.handler,this);this.touch=new j(this.manager,e),this.mouse=new L(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function G(e,t){e&Ee?(this.primaryTouch=t.changedPointers[0].identifier,Y.call(this,t)):e&(Ve|Ne)&&Y.call(this,t)}function Y(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var a={x:t.clientX,y:t.clientY};this.lastTouches.push(a);var i=this.lastTouches,r=function(){var e=i.indexOf(a);e>-1&&i.splice(e,1)};setTimeout(r,it)}}function Q(e){for(var t=e.srcEvent.clientX,a=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],n=Math.abs(t-r.x),o=Math.abs(a-r.y);if(n<=rt&&o<=rt)return!0}return!1}function W(e,t){this.manager=e,this.set(t)}function J(e){if(g(e,ct))return ct;var t=g(e,mt),a=g(e,bt);return t&&a?ct:t||a?t?mt:bt:g(e,ut)?ut:st}function $(){if(!ot)return!1;var t={},a=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!a||e.CSS.supports("touch-action",i)}),t}function X(e){this.options=be({},this.defaults,e||{}),this.id=T(),this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=pt,this.simultaneous={},this.requireFail=[]}function K(e){return e&vt?"cancel":e&_t?"end":e&gt?"move":e&ft?"start":""}function Z(e){return e==He?"down":e==Le?"up":e==Be?"left":e==Ce?"right":""}function ee(e,t){var a=t.manager;return a?a.get(e):e}function te(){X.apply(this,arguments)}function ae(){te.apply(this,arguments),this.pX=null,this.pY=null}function ie(){te.apply(this,arguments)}function re(){X.apply(this,arguments),this._timer=null,this._input=null}function ne(){te.apply(this,arguments)}function oe(){te.apply(this,arguments)}function le(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=b(t.recognizers,se.defaults.preset),new ue(e,t)}function ue(e,t){this.options=be({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=D(this),this.touchAction=new W(this,this.options.touchAction),ce(this,!0),l(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(e,t){var a=e.element;if(a.style){var i;l(e.options.cssProps,function(r,n){i=A(a.style,n),t?(e.oldCssProps[i]=a.style[i],a.style[i]=r):a.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function me(e,t){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}var be,de=["","webkit","Moz","MS","ms","o"],pe=a.createElement("div"),fe="function",ge=Math.round,_e=Math.abs,he=Date.now;be="function"!=typeof Object.assign?function(e){if(e===r||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),a=1;a<arguments.length;a++){var i=arguments[a];if(i!==r&&null!==i)for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}return t}:Object.assign;var ve=s(function(e,t,a){for(var i=Object.keys(t),n=0;n<i.length;)(!a||a&&e[i[n]]===r)&&(e[i[n]]=t[i[n]]),n++;return e},"extend","Use `assign`."),ye=s(function(e,t){return ve(e,t,!0)},"merge","Use `assign`."),Ae=1,Te=/mobile|tablet|ip(ad|hone|od)|android/i,ke="ontouchstart"in e,we=A(e,"PointerEvent")!==r,De=ke&&Te.test(navigator.userAgent),xe="touch",Ie="pen",Se="mouse",Pe="kinect",Oe=25,Ee=1,Re=2,Ve=4,Ne=8,Me=1,Be=2,Ce=4,Le=8,He=16,ze=Be|Ce,Fe=Le|He,je=ze|Fe,Ue=["x","y"],qe=["clientX","clientY"];w.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(k(this.element),this.evWin,this.domHandler)}};var Ge={mousedown:Ee,mousemove:Re,mouseup:Ve},Ye="mousedown",Qe="mousemove mouseup";u(L,w,{handler:function(e){var t=Ge[e.type];t&Ee&&0===e.button&&(this.pressed=!0),t&Re&&1!==e.which&&(t=Ve),this.pressed&&(t&Ve&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Se,srcEvent:e}))}});var We={pointerdown:Ee,pointermove:Re,pointerup:Ve,pointercancel:Ne,pointerout:Ne},Je={2:xe,3:Ie,4:Se,5:Pe},$e="pointerdown",Xe="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&($e="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),u(H,w,{handler:function(e){var t=this.store,a=!1,i=e.type.toLowerCase().replace("ms",""),r=We[i],n=Je[e.pointerType]||e.pointerType,o=n==xe,l=h(t,e.pointerId,"pointerId");r&Ee&&(0===e.button||o)?l<0&&(t.push(e),l=t.length-1):r&(Ve|Ne)&&(a=!0),l<0||(t[l]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:n,srcEvent:e}),a&&t.splice(l,1))}});var Ke={touchstart:Ee,touchmove:Re,touchend:Ve,touchcancel:Ne},Ze="touchstart",et="touchstart touchmove touchend touchcancel";u(z,w,{handler:function(e){var t=Ke[e.type];if(t===Ee&&(this.started=!0),this.started){var a=F.call(this,e,t);t&(Ve|Ne)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:xe,srcEvent:e})}}});var tt={touchstart:Ee,touchmove:Re,touchend:Ve,touchcancel:Ne},at="touchstart touchmove touchend touchcancel";u(j,w,{handler:function(e){var t=tt[e.type],a=U.call(this,e,t);a&&this.callback(this.manager,t,{pointers:a[0],changedPointers:a[1],pointerType:xe,srcEvent:e})}});var it=2500,rt=25;u(q,w,{handler:function(e,t,a){var i=a.pointerType==xe,r=a.pointerType==Se;if(!(r&&a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents)){if(i)G.call(this,t,a);else if(r&&Q.call(this,a))return;this.callback(e,t,a)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var nt=A(pe.style,"touchAction"),ot=nt!==r,lt="compute",st="auto",ut="manipulation",ct="none",mt="pan-x",bt="pan-y",dt=$();W.prototype={set:function(e){e==lt&&(e=this.compute()),ot&&this.manager.element.style&&dt[e]&&(this.manager.element.style[nt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){m(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),J(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,a=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=g(i,ct)&&!dt[ct],n=g(i,bt)&&!dt[bt],o=g(i,mt)&&!dt[mt];if(r){var l=1===e.pointers.length,s=e.distance<2,u=e.deltaTime<250;if(l&&s&&u)return}return o&&n?void 0:r||n&&a&ze||o&&a&Fe?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var pt=1,ft=2,gt=4,_t=8,ht=_t,vt=16,yt=32;X.prototype={defaults:{},set:function(e){return be(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ee(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=ee(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=ee(e,this),h(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=ee(e,this);var t=h(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){a.manager.emit(t,e)}var a=this,i=this.state;i<_t&&t(a.options.event+K(i)),t(a.options.event),e.additionalEvent&&t(e.additionalEvent),i>=_t&&t(a.options.event+K(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|pt)))return!1;e++}return!0},recognize:function(e){var t=be({},e);return m(this.options.enable,[this,t])?(this.state&(ht|vt|yt)&&(this.state=pt),this.state=this.process(t),void(this.state&(ft|gt|_t|vt)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(e){},getTouchAction:function(){},reset:function(){}},u(te,X,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,a=e.eventType,i=t&(ft|gt),r=this.attrTest(e);return i&&(a&Ne||!r)?t|vt:i||r?a&Ve?t|_t:t&ft?t|gt:ft:yt}}),u(ae,te,{defaults:{event:"pan",threshold:10,pointers:1,direction:je},getTouchAction:function(){var e=this.options.direction,t=[];return e&ze&&t.push(bt),e&Fe&&t.push(mt),t},directionTest:function(e){var t=this.options,a=!0,i=e.distance,r=e.direction,n=e.deltaX,o=e.deltaY;return r&t.direction||(t.direction&ze?(r=0===n?Me:n<0?Be:Ce,a=n!=this.pX,i=Math.abs(e.deltaX)):(r=0===o?Me:o<0?Le:He,a=o!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,a&&i>t.threshold&&r&t.direction},attrTest:function(e){return te.prototype.attrTest.call(this,e)&&(this.state&ft||!(this.state&ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Z(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),u(ie,te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ft)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),u(re,X,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,a=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!a||e.eventType&(Ve|Ne)&&!r)this.reset();else if(e.eventType&Ee)this.reset(),this._timer=n(function(){this.state=ht,this.tryEmit()},t.time,this);else if(e.eventType&Ve)return ht;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ht&&(e&&e.eventType&Ve?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=he(),this.manager.emit(this.options.event,this._input)))}}),u(ne,te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ft)}}),u(oe,te,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ze|Fe,pointers:1},getTouchAction:function(){return ae.prototype.getTouchAction.call(this)},attrTest:function(e){var t,a=this.options.direction;return a&(ze|Fe)?t=e.overallVelocity:a&ze?t=e.overallVelocityX:a&Fe&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&a&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&_e(t)>this.options.velocity&&e.eventType&Ve},emit:function(e){var t=Z(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),u(le,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ut]},process:function(e){var t=this.options,a=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ee&&0===this.count)return this.failTimeout();if(i&&r&&a){if(e.eventType!=Ve)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,l=!this.pCenter||N(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,l&&o?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=n(function(){this.state=ht,this.tryEmit()},t.interval,this),ft):ht}return yt},failTimeout:function(){return this._timer=n(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ht&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.7",se.defaults={domEvents:!1,touchAction:lt,enable:!0,inputTarget:null,inputClass:null,preset:[[ne,{enable:!1}],[ie,{enable:!1},["rotate"]],[oe,{direction:ze}],[ae,{direction:ze},["swipe"]],[le],[le,{event:"doubletap",taps:2},["tap"]],[re]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var At=1,Tt=2;ue.prototype={set:function(e){return be(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?Tt:At},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var a,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&ht)&&(r=t.curRecognizer=null);for(var n=0;n<i.length;)a=i[n],t.stopped===Tt||r&&a!=r&&!a.canRecognizeWith(r)?a.reset():a.recognize(e),!r&&a.state&(ft|gt|_t)&&(r=t.curRecognizer=a),n++}},get:function(e){if(e instanceof X)return e;for(var t=this.recognizers,a=0;a<t.length;a++)if(t[a].options.event==e)return t[a];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,a=h(t,e);a!==-1&&(t.splice(a,1),this.touchAction.update())}return this},on:function(e,t){if(e!==r&&t!==r){var a=this.handlers;return l(_(e),function(e){a[e]=a[e]||[],a[e].push(t)}),this}},off:function(e,t){if(e!==r){var a=this.handlers;return l(_(e),function(e){t?a[e]&&a[e].splice(h(a[e],t),1):delete a[e]}),this}},emit:function(e,t){this.options.domEvents&&me(e,t);var a=this.handlers[e]&&this.handlers[e].slice();if(a&&a.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault();
};for(var i=0;i<a.length;)a[i](t),i++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},be(se,{INPUT_START:Ee,INPUT_MOVE:Re,INPUT_END:Ve,INPUT_CANCEL:Ne,STATE_POSSIBLE:pt,STATE_BEGAN:ft,STATE_CHANGED:gt,STATE_ENDED:_t,STATE_RECOGNIZED:ht,STATE_CANCELLED:vt,STATE_FAILED:yt,DIRECTION_NONE:Me,DIRECTION_LEFT:Be,DIRECTION_RIGHT:Ce,DIRECTION_UP:Le,DIRECTION_DOWN:He,DIRECTION_HORIZONTAL:ze,DIRECTION_VERTICAL:Fe,DIRECTION_ALL:je,Manager:ue,Input:w,TouchAction:W,TouchInput:j,MouseInput:L,PointerEventInput:H,TouchMouseInput:q,SingleTouchInput:z,Recognizer:X,AttrRecognizer:te,Tap:le,Pan:ae,Swipe:oe,Pinch:ie,Rotate:ne,Press:re,on:d,off:p,each:l,merge:ye,extend:ve,assign:be,inherit:u,bindFn:c,prefixed:A});var kt="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};kt.Hammer=se,"function"==typeof define&&define.amd?define(function(){return se}):"undefined"!=typeof t&&t.exports?t.exports=se:e[i]=se}(window,document,"Hammer")},{}],43:[function(e,t,a){var i=e("./_root"),r=i.Symbol;t.exports=r},{"./_root":48}],44:[function(e,t,a){function i(e){return null==e?void 0===e?s:l:(e=Object(e),u&&u in e?n(e):o(e))}var r=e("./_Symbol"),n=e("./_getRawTag"),o=e("./_objectToString"),l="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=i},{"./_Symbol":43,"./_getRawTag":46,"./_objectToString":47}],45:[function(e,t,a){(function(e){var a="object"==typeof e&&e&&e.Object===Object&&e;t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(e,t,a){function i(e){var t=o.call(e,s),a=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=l.call(e);return i&&(t?e[s]=a:delete e[s]),r}var r=e("./_Symbol"),n=Object.prototype,o=n.hasOwnProperty,l=n.toString,s=r?r.toStringTag:void 0;t.exports=i},{"./_Symbol":43}],47:[function(e,t,a){function i(e){return n.call(e)}var r=Object.prototype,n=r.toString;t.exports=i},{}],48:[function(e,t,a){var i=e("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,n=i||r||Function("return this")();t.exports=n},{"./_freeGlobal":45}],49:[function(e,t,a){var i=Array.isArray;t.exports=i},{}],50:[function(e,t,a){function i(e){return null!=e&&"object"==typeof e}t.exports=i},{}],51:[function(e,t,a){function i(e){return"string"==typeof e||!n(e)&&o(e)&&r(e)==l}var r=e("./_baseGetTag"),n=e("./isArray"),o=e("./isObjectLike"),l="[object String]";t.exports=i},{"./_baseGetTag":44,"./isArray":49,"./isObjectLike":50}],52:[function(e,t,a){function i(e){return void 0===e}t.exports=i},{}],53:[function(e,t,a){!function(e,a){"use strict";"object"==typeof t&&t.exports?t.exports=a():"function"==typeof define&&define.amd?define(a):e.IPv6=a(e)}(this,function(e){"use strict";function t(e){var t=e.toLowerCase(),a=t.split(":"),i=a.length,r=8;""===a[0]&&""===a[1]&&""===a[2]?(a.shift(),a.shift()):""===a[0]&&""===a[1]?a.shift():""===a[i-1]&&""===a[i-2]&&a.pop(),i=a.length,a[i-1].indexOf(".")!==-1&&(r=7);var n;for(n=0;n<i&&""!==a[n];n++);if(n<r)for(a.splice(n,1,"0000");a.length<r;)a.splice(n,0,"0000");for(var o,l=0;l<r;l++){o=a[l].split("");for(var s=0;s<3&&("0"===o[0]&&o.length>1);s++)o.splice(0,1);a[l]=o.join("")}var u=-1,c=0,m=0,b=-1,d=!1;for(l=0;l<r;l++)d?"0"===a[l]?m+=1:(d=!1,m>c&&(u=b,c=m)):"0"===a[l]&&(d=!0,b=l,m=1);m>c&&(u=b,c=m),c>1&&a.splice(u,c,""),i=a.length;var p="";for(""===a[0]&&(p=":"),l=0;l<i&&(p+=a[l],l!==i-1);l++)p+=":";return""===a[i-1]&&(p+=":"),p}function a(){return e.IPv6===this&&(e.IPv6=i),this}var i=e&&e.IPv6;return{best:t,noConflict:a}})},{}],54:[function(e,t,a){!function(e,a){"use strict";"object"==typeof t&&t.exports?t.exports=a():"function"==typeof define&&define.amd?define(a):e.SecondLevelDomains=a(e)}(this,function(e){"use strict";var t=e&&e.SecondLevelDomains,a={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var i=e.lastIndexOf(".",t-1);if(i<=0||i>=t-1)return!1;var r=a.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(i+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var i=e.lastIndexOf(".",t-1);if(i>=0)return!1;var r=a.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var i=e.lastIndexOf(".",t-1);if(i<=0||i>=t-1)return null;var r=a.list[e.slice(t+1)];return r?r.indexOf(" "+e.slice(i+1,t)+" ")<0?null:e.slice(i+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return a})},{}],55:[function(e,t,a){!function(a,i){"use strict";"object"==typeof t&&t.exports?t.exports=i(e("./punycode"),e("./IPv6"),e("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],i):a.URI=i(a.punycode,a.IPv6,a.SecondLevelDomains,a)}(this,function(e,t,a,i){"use strict";function r(e,t){var a=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof r))return a?i?new r(e,t):new r(e):new r;if(void 0===e){if(a)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}function n(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function l(e){return"Array"===o(e)}function s(e,t){var a,i,r={};if("RegExp"===o(t))r=null;else if(l(t))for(a=0,i=t.length;a<i;a++)r[t[a]]=!0;else r[t]=!0;for(a=0,i=e.length;a<i;a++){var n=r&&void 0!==r[e[a]]||!r&&t.test(e[a]);n&&(e.splice(a,1),i--,a--)}return e}function u(e,t){var a,i;if(l(t)){for(a=0,i=t.length;a<i;a++)if(!u(e,t[a]))return!1;return!0}var r=o(t);for(a=0,i=e.length;a<i;a++)if("RegExp"===r){if("string"==typeof e[a]&&e[a].match(t))return!0}else if(e[a]===t)return!0;return!1}function c(e,t){if(!l(e)||!l(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var a=0,i=e.length;a<i;a++)if(e[a]!==t[a])return!1;return!0}function m(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function b(e){return escape(e)}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,b).replace(/\*/g,"%2A")}function p(e){return function(t,a){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!a),this)}}function f(e,t){return function(a,i){return void 0===a?this._parts[e]||"":(null!==a&&(a+="",a.charAt(0)===t&&(a=a.substring(1))),this._parts[e]=a,this.build(!i),this)}}var g=i&&i.URI;r.version="1.18.4";var _=r.prototype,h=Object.prototype.hasOwnProperty;r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}},r.duplicateQueryParameters=!1,r.escapeQuerySpace=!0,r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,r.idn_expression=/[^a-z0-9\.-]/i,r.punycode_expression=/(xn--)/i,r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},r.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},r.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return r.domAttributes[t]}},r.encode=d,r.decode=decodeURIComponent,r.iso8859=function(){r.encode=escape,r.decode=unescape},r.unicode=function(){r.encode=d,r.decode=decodeURIComponent},r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},r.encodeQuery=function(e,t){var a=r.encode(e+"");return void 0===t&&(t=r.escapeQuerySpace),t?a.replace(/%20/g,"+"):a},r.decodeQuery=function(e,t){e+="",void 0===t&&(t=r.escapeQuerySpace);try{return r.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,y={encode:"encode",decode:"decode"},A=function(e,t){return function(a){try{return r[t](a+"").replace(r.characters[e][t].expression,function(a){return r.characters[e][t].map[a]})}catch(e){return a}}};for(v in y)r[v+"PathSegment"]=A("pathname",y[v]),r[v+"UrnPathSegment"]=A("urnpath",y[v]);var T=function(e,t,a){return function(i){var n;n=a?function(e){return r[t](r[a](e))}:r[t];for(var o=(i+"").split(e),l=0,s=o.length;l<s;l++)o[l]=n(o[l]);return o.join(e)}};r.decodePath=T("/","decodePathSegment"),r.decodeUrnPath=T(":","decodeUrnPathSegment"),r.recodePath=T("/","encodePathSegment","decode"),r.recodeUrnPath=T(":","encodeUrnPathSegment","decode"),r.encodeReserved=A("reserved","encode"),r.parse=function(e,t){var a;return t||(t={}),a=e.indexOf("#"),a>-1&&(t.fragment=e.substring(a+1)||null,e=e.substring(0,a)),a=e.indexOf("?"),a>-1&&(t.query=e.substring(a+1)||null,e=e.substring(0,a)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=r.parseAuthority(e,t)):(a=e.indexOf(":"),a>-1&&(t.protocol=e.substring(0,a)||null,t.protocol&&!t.protocol.match(r.protocol_expression)?t.protocol=void 0:"//"===e.substring(a+1,a+3)?(e=e.substring(a+3),e=r.parseAuthority(e,t)):(e=e.substring(a+1),t.urn=!0))),t.path=e,t},r.parseHost=function(e,t){e=e.replace(/\\/g,"/");var a,i,r=e.indexOf("/");if(r===-1&&(r=e.length),"["===e.charAt(0))a=e.indexOf("]"),t.hostname=e.substring(1,a)||null,t.port=e.substring(a+2,r)||null,"/"===t.port&&(t.port=null);else{var n=e.indexOf(":"),o=e.indexOf("/"),l=e.indexOf(":",n+1);l!==-1&&(o===-1||l<o)?(t.hostname=e.substring(0,r)||null,t.port=null):(i=e.substring(0,r).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},r.parseAuthority=function(e,t){return e=r.parseUserinfo(e,t),r.parseHost(e,t)},r.parseUserinfo=function(e,t){var a,i=e.indexOf("/"),n=e.lastIndexOf("@",i>-1?i:e.length-1);return n>-1&&(i===-1||n<i)?(a=e.substring(0,n).split(":"),t.username=a[0]?r.decode(a[0]):null,a.shift(),t.password=a[0]?r.decode(a.join(":")):null,e=e.substring(n+1)):(t.username=null,t.password=null),e},r.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var a,i,n,o={},l=e.split("&"),s=l.length,u=0;u<s;u++)a=l[u].split("="),i=r.decodeQuery(a.shift(),t),n=a.length?r.decodeQuery(a.join("="),t):null,h.call(o,i)?("string"!=typeof o[i]&&null!==o[i]||(o[i]=[o[i]]),o[i].push(n)):o[i]=n;return o},r.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=r.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},r.buildHost=function(e){var t="";return e.hostname?(t+=r.ip6_expression.test(e.hostname)?"["+e.hostname+"]":e.hostname,e.port&&(t+=":"+e.port),t):""},r.buildAuthority=function(e){return r.buildUserinfo(e)+r.buildHost(e)},r.buildUserinfo=function(e){var t="";return e.username&&(t+=r.encode(e.username)),e.password&&(t+=":"+r.encode(e.password)),t&&(t+="@"),t},r.buildQuery=function(e,t,a){var i,n,o,s,u="";for(n in e)if(h.call(e,n)&&n)if(l(e[n]))for(i={},o=0,s=e[n].length;o<s;o++)void 0!==e[n][o]&&void 0===i[e[n][o]+""]&&(u+="&"+r.buildQueryParameter(n,e[n][o],a),t!==!0&&(i[e[n][o]+""]=!0));else void 0!==e[n]&&(u+="&"+r.buildQueryParameter(n,e[n],a));return u.substring(1)},r.buildQueryParameter=function(e,t,a){return r.encodeQuery(e,a)+(null!==t?"="+r.encodeQuery(t,a):"")},r.addQuery=function(e,t,a){if("object"==typeof t)for(var i in t)h.call(t,i)&&r.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=a);"string"==typeof e[t]&&(e[t]=[e[t]]),l(a)||(a=[a]),e[t]=(e[t]||[]).concat(a)}},r.removeQuery=function(e,t,a){var i,n,u;if(l(t))for(i=0,n=t.length;i<n;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(u in e)t.test(u)&&(e[u]=void 0);else if("object"==typeof t)for(u in t)h.call(t,u)&&r.removeQuery(e,u,t[u]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==a?"RegExp"===o(a)?!l(e[t])&&a.test(e[t])?e[t]=void 0:e[t]=s(e[t],a):e[t]!==String(a)||l(a)&&1!==a.length?l(e[t])&&(e[t]=s(e[t],a)):e[t]=void 0:e[t]=void 0}},r.hasQuery=function(e,t,a,i){switch(o(t)){case"String":break;case"RegExp":for(var n in e)if(h.call(e,n)&&t.test(n)&&(void 0===a||r.hasQuery(e,n,a)))return!0;return!1;case"Object":for(var s in t)if(h.call(t,s)&&!r.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(a)){case"Undefined":return t in e;case"Boolean":var m=Boolean(l(e[t])?e[t].length:e[t]);return a===m;case"Function":return!!a(e[t],t,e);case"Array":if(!l(e[t]))return!1;var b=i?u:c;return b(e[t],a);case"RegExp":return l(e[t])?!!i&&u(e[t],a):Boolean(e[t]&&e[t].match(a));case"Number":a=String(a);case"String":return l(e[t])?!!i&&u(e[t],a):e[t]===a;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},r.joinPaths=function(){for(var e=[],t=[],a=0,i=0;i<arguments.length;i++){var n=new r(arguments[i]);e.push(n);for(var o=n.segment(),l=0;l<o.length;l++)"string"==typeof o[l]&&t.push(o[l]),o[l]&&a++}if(!t.length||!a)return new r("");var s=new r("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||s.path("/"+s.path()),s.normalize()},r.commonPath=function(e,t){var a,i=Math.min(e.length,t.length);for(a=0;a<i;a++)if(e.charAt(a)!==t.charAt(a)){a--;break}return a<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(a)&&"/"===t.charAt(a)||(a=e.substring(0,a).lastIndexOf("/")),e.substring(0,a+1))},r.withinString=function(e,t,a){a||(a={});var i=a.start||r.findUri.start,n=a.end||r.findUri.end,o=a.trim||r.findUri.trim,l=a.parens||r.findUri.parens,s=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var u=i.exec(e);if(!u)break;var c=u.index;if(a.ignoreHtml){var m=e.slice(Math.max(c-3,0),c);if(m&&s.test(m))continue}for(var b=c+e.slice(c).search(n),d=e.slice(c,b),p=-1;;){var f=l.exec(d);if(!f)break;var g=f.index+f[0].length;p=Math.max(p,g)}if(d=p>-1?d.slice(0,p)+d.slice(p+1).replace(o,""):d.replace(o,""),!a.ignore||!a.ignore.test(d)){b=c+d.length;var _=t(d,c,b,e);void 0!==_?(_=String(_),e=e.slice(0,c)+_+e.slice(b),i.lastIndex=c+_.length):i.lastIndex=b}}return i.lastIndex=0,e},r.ensureValidHostname=function(t){if(t.match(r.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(r.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},r.noConflict=function(e){if(e){var t={URI:this.noConflict()};return i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(t.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(t.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=i.SecondLevelDomains.noConflict()),t}return i.URI===this&&(i.URI=g),this},_.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=r.build(this._parts),this._deferred_build=!1),this},_.clone=function(){return new r(this)},_.valueOf=_.toString=function(){return this.build(!1)._string},_.protocol=p("protocol"),_.username=p("username"),_.password=p("password"),_.hostname=p("hostname"),_.port=p("port"),_.query=f("query","?"),_.fragment=f("fragment","#"),_.search=function(e,t){var a=this.query(e,t);return"string"==typeof a&&a.length?"?"+a:a},_.hash=function(e,t){var a=this.fragment(e,t);return"string"==typeof a&&a.length?"#"+a:a},_.pathname=function(e,t){if(void 0===e||e===!0){var a=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?r.decodeUrnPath:r.decodePath)(a):a}return this._parts.urn?this._parts.path=e?r.recodeUrnPath(e):"":this._parts.path=e?r.recodePath(e):"/",this.build(!t),this},_.path=_.pathname,_.href=function(e,t){var a;if(void 0===e)return this.toString();this._string="",this._parts=r._parts();var i=e instanceof r,n="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var o=r.getDomAttribute(e);e=e[o]||"",n=!1}if(!i&&n&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=r.parse(String(e),this._parts);else{if(!i&&!n)throw new TypeError("invalid input");var l=i?e._parts:e;for(a in l)h.call(this._parts,a)&&(this._parts[a]=l[a])}return this.build(!t),this},_.is=function(e){var t=!1,i=!1,n=!1,o=!1,l=!1,s=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,i=r.ip4_expression.test(this._parts.hostname),n=r.ip6_expression.test(this._parts.hostname),t=i||n,o=!t,l=o&&a&&a.has(this._parts.hostname),s=o&&r.idn_expression.test(this._parts.hostname),u=o&&r.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return l;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return n;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var k=_.protocol,w=_.port,D=_.hostname;_.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(r.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return k.call(this,e,t)},_.scheme=_.protocol,_.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return w.call(this,e,t)},_.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var a={},i=r.parseHost(e,a);if("/"!==i)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=a.hostname}return D.call(this,e,t)},_.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var a=this.protocol(),i=this.authority();return i?(a?a+"://":"")+this.authority():""}var n=r(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},_.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildHost(this._parts):"";var a=r.parseHost(e,this._parts);if("/"!==a)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},_.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildAuthority(this._parts):"";var a=r.parseAuthority(e,this._parts);if("/"!==a)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},_.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var a=r.buildUserinfo(this._parts);return a?a.substring(0,a.length-1):a}return"@"!==e[e.length-1]&&(e+="@"),r.parseUserinfo(e,this._parts),this.build(!t),this},_.resource=function(e,t){var a;return void 0===e?this.path()+this.search()+this.hash():(a=r.parse(e),this._parts.path=a.path,this._parts.query=a.query,this._parts.fragment=a.fragment,this.build(!t),this)},_.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,a)||""}var i=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,i),l=new RegExp("^"+n(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&r.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(l,e),this.build(!t),this},_.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var a=this._parts.hostname.match(/\./g);if(a&&a.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(r.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(n(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},_.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(i+1);return t!==!0&&a&&a.list[r.toLowerCase()]?a.get(this._parts.hostname)||r:r}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!a||!a.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},_.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var a=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,a)||(this._parts.hostname?"/":"");return e?r.decodePath(i):i}var o=this._parts.path.length-this.filename().length,l=this._parts.path.substring(0,o),s=new RegExp("^"+n(l));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=r.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},_.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var a=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(a+1);return e?r.decodePathSegment(i):i}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var l=new RegExp(n(this.filename())+"$");return e=r.recodePath(e),this._parts.path=this._parts.path.replace(l,e),
o?this.normalizePath(t):this.build(!t),this},_.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var a,i,o=this.filename(),l=o.lastIndexOf(".");return l===-1?"":(a=o.substring(l+1),i=/^[a-z0-9%]+$/i.test(a)?a:"",e?r.decodePathSegment(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var s,u=this.suffix();if(u)s=e?new RegExp(n(u)+"$"):new RegExp(n("."+u)+"$");else{if(!e)return this;this._parts.path+="."+r.recodePath(e)}return s&&(e=r.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},_.segment=function(e,t,a){var i=this._parts.urn?":":"/",r=this.path(),n="/"===r.substring(0,1),o=r.split(i);if(void 0!==e&&"number"!=typeof e&&(a=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(n&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(l(t)){o=[];for(var s=0,u=t.length;s<u;s++)(t[s].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(m(t[s])))}else(t||"string"==typeof t)&&(t=m(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=m(t):o.splice(e,1);return n&&o.unshift(""),this.path(o.join(i),a)},_.segmentCoded=function(e,t,a){var i,n,o;if("number"!=typeof e&&(a=t,t=e,e=void 0),void 0===t){if(i=this.segment(e,t,a),l(i))for(n=0,o=i.length;n<o;n++)i[n]=r.decode(i[n]);else i=void 0!==i?r.decode(i):void 0;return i}if(l(t))for(n=0,o=t.length;n<o;n++)t[n]=r.encode(t[n]);else t="string"==typeof t||t instanceof String?r.encode(t):t;return this.segment(e,t,a)};var x=_.query;return _.query=function(e,t){if(e===!0)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var a=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,a);return this._parts.query=r.buildQuery(i||a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=r.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},_.setQuery=function(e,t,a){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var n in e)h.call(e,n)&&(i[n]=e[n])}return this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(a=t),this.build(!a),this},_.addQuery=function(e,t,a){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.addQuery(i,e,void 0===t?null:t),this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(a=t),this.build(!a),this},_.removeQuery=function(e,t,a){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.removeQuery(i,e,t),this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(a=t),this.build(!a),this},_.hasQuery=function(e,t,a){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(i,e,t,a)},_.setSearch=_.setQuery,_.addSearch=_.addQuery,_.removeSearch=_.removeQuery,_.hasSearch=_.hasQuery,_.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},_.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},_.normalizeHostname=function(a){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a)),this},_.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},_.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=r.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=r.recodePath(t);var a,i,n,o="";for("/"!==t.charAt(0)&&(a=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),a&&(o=t.substring(1).match(/^(\.\.\/)+/)||"",o&&(o=o[0]));;){if(i=t.search(/\/\.\.(\/|$)/),i===-1)break;0!==i?(n=t.substring(0,i).lastIndexOf("/"),n===-1&&(n=i),t=t.substring(0,n)+t.substring(i+3)):t=t.substring(3)}return a&&this.is("relative")&&(t=o+t.substring(1)),this._parts.path=t,this.build(!e),this},_.normalizePathname=_.normalizePath,_.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},_.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},_.normalizeSearch=_.normalizeQuery,_.normalizeHash=_.normalizeFragment,_.iso8859=function(){var e=r.encode,t=r.decode;r.encode=escape,r.decode=decodeURIComponent;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},_.unicode=function(){var e=r.encode,t=r.decode;r.encode=d,r.decode=unescape;try{this.normalize()}finally{r.encode=e,r.decode=t}return this},_.readable=function(){var t=this.clone();t.username("").password("").normalize();var a="";if(t._parts.protocol&&(a+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(a+=e.toUnicode(t._parts.hostname),t._parts.port&&(a+=":"+t._parts.port)):a+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(a+="/"),a+=t.path(!0),t._parts.query){for(var i="",n=0,o=t._parts.query.split("&"),l=o.length;n<l;n++){var s=(o[n]||"").split("=");i+="&"+r.decodeQuery(s[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==s[1]&&(i+="="+r.decodeQuery(s[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}a+="?"+i.substring(1)}return a+=r.decodeQuery(t.hash(),!0)},_.absoluteTo=function(e){var t,a,i,n=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof r||(e=new r(e)),n._parts.protocol||(n._parts.protocol=e._parts.protocol),this._parts.hostname)return n;for(a=0;i=o[a];a++)n._parts[i]=e._parts[i];return n._parts.path?(".."===n._parts.path.substring(-2)&&(n._parts.path+="/"),"/"!==n.path().charAt(0)&&(t=e.directory(),t=t?t:0===e.path().indexOf("/")?"/":"",n._parts.path=(t?t+"/":"")+n._parts.path,n.normalizePath())):(n._parts.path=e._parts.path,n._parts.query||(n._parts.query=e._parts.query)),n.build(),n},_.relativeTo=function(e){var t,a,i,n,o,l=this.clone().normalize();if(l._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new r(e).normalize(),t=l._parts,a=e._parts,n=l.path(),o=e.path(),"/"!==n.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===a.protocol&&(t.protocol=null),t.username!==a.username||t.password!==a.password)return l.build();if(null!==t.protocol||null!==t.username||null!==t.password)return l.build();if(t.hostname!==a.hostname||t.port!==a.port)return l.build();if(t.hostname=null,t.port=null,n===o)return t.path="",l.build();if(i=r.commonPath(n,o),!i)return l.build();var s=a.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=s+t.path.substring(i.length)||"./",l.build()},_.equals=function(e){var t,a,i,n=this.clone(),o=new r(e),s={},u={},m={};if(n.normalize(),o.normalize(),n.toString()===o.toString())return!0;if(t=n.query(),a=o.query(),n.query(""),o.query(""),n.toString()!==o.toString())return!1;if(t.length!==a.length)return!1;s=r.parseQuery(t,this._parts.escapeQuerySpace),u=r.parseQuery(a,this._parts.escapeQuerySpace);for(i in s)if(h.call(s,i)){if(l(s[i])){if(!c(s[i],u[i]))return!1}else if(s[i]!==u[i])return!1;m[i]=!0}for(i in u)if(h.call(u,i)&&!m[i])return!1;return!0},_.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},_.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},r})},{"./IPv6":53,"./SecondLevelDomains":54,"./punycode":56}],56:[function(e,t,a){(function(e){!function(i){function r(e){throw new RangeError(V[e])}function n(e,t){for(var a=e.length,i=[];a--;)i[a]=t(e[a]);return i}function o(e,t){var a=e.split("@"),i="";a.length>1&&(i=a[0]+"@",e=a[1]),e=e.replace(R,".");var r=e.split("."),o=n(r,t).join(".");return i+o}function l(e){for(var t,a,i=[],r=0,n=e.length;r<n;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<n?(a=e.charCodeAt(r++),56320==(64512&a)?i.push(((1023&t)<<10)+(1023&a)+65536):(i.push(t),r--)):i.push(t);return i}function s(e){return n(e,function(e){var t="";return e>65535&&(e-=65536,t+=B(e>>>10&1023|55296),e=56320|1023&e),t+=B(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:T}function c(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function m(e,t,a){var i=0;for(e=a?M(e/x):e>>1,e+=M(e/t);e>N*w>>1;i+=T)e=M(e/N);return M(i+(N+1)*e/(e+D))}function b(e){var t,a,i,n,o,l,c,b,d,p,f=[],g=e.length,_=0,h=S,v=I;for(a=e.lastIndexOf(P),a<0&&(a=0),i=0;i<a;++i)e.charCodeAt(i)>=128&&r("not-basic"),f.push(e.charCodeAt(i));for(n=a>0?a+1:0;n<g;){for(o=_,l=1,c=T;n>=g&&r("invalid-input"),b=u(e.charCodeAt(n++)),(b>=T||b>M((A-_)/l))&&r("overflow"),_+=b*l,d=c<=v?k:c>=v+w?w:c-v,!(b<d);c+=T)p=T-d,l>M(A/p)&&r("overflow"),l*=p;t=f.length+1,v=m(_-o,t,0==o),M(_/t)>A-h&&r("overflow"),h+=M(_/t),_%=t,f.splice(_++,0,h)}return s(f)}function d(e){var t,a,i,n,o,s,u,b,d,p,f,g,_,h,v,y=[];for(e=l(e),g=e.length,t=S,a=0,o=I,s=0;s<g;++s)f=e[s],f<128&&y.push(B(f));for(i=n=y.length,n&&y.push(P);i<g;){for(u=A,s=0;s<g;++s)f=e[s],f>=t&&f<u&&(u=f);for(_=i+1,u-t>M((A-a)/_)&&r("overflow"),a+=(u-t)*_,t=u,s=0;s<g;++s)if(f=e[s],f<t&&++a>A&&r("overflow"),f==t){for(b=a,d=T;p=d<=o?k:d>=o+w?w:d-o,!(b<p);d+=T)v=b-p,h=T-p,y.push(B(c(p+v%h,0))),b=M(v/h);y.push(B(c(b,0))),o=m(a,_,i==n),a=0,++i}++a,++t}return y.join("")}function p(e){return o(e,function(e){return O.test(e)?b(e.slice(4).toLowerCase()):e})}function f(e){return o(e,function(e){return E.test(e)?"xn--"+d(e):e})}var g="object"==typeof a&&a&&!a.nodeType&&a,_="object"==typeof t&&t&&!t.nodeType&&t,h="object"==typeof e&&e;h.global!==h&&h.window!==h&&h.self!==h||(i=h);var v,y,A=2147483647,T=36,k=1,w=26,D=38,x=700,I=72,S=128,P="-",O=/^xn--/,E=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=T-k,M=Math.floor,B=String.fromCharCode;if(v={version:"1.3.2",ucs2:{decode:l,encode:s},decode:b,encode:d,toASCII:f,toUnicode:p},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return v});else if(g&&_)if(t.exports==g)_.exports=v;else for(y in v)v.hasOwnProperty(y)&&(g[y]=v[y]);else i.punycode=v}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(e,t,a){(function(e){var t="undefined"!=typeof window?window.ko:"undefined"!=typeof e?e.ko:null;t.bindingHandlers.checkbox={init:function(e,a){var i=$(e),r=function(e){setTimeout(function(){var i=$(e.target),r=a(),n=i.val(),o=i.parent().hasClass("active");if(!i.prop("disbled"))if(t.unwrap(r)instanceof Array){var l=t.utils.arrayIndexOf(t.unwrap(r),n);o&&l===-1?r.push(n):o||l===-1||r.splice(l,1)}else r(o)},0)};if("buttons"===i.attr("data-toggle")&&i.find("input:checkbox").length){if(!(t.unwrap(a())instanceof Array))throw new Error("checkbox binding should be used only with array or observableArray values in this case");i.on("change","input:checkbox",r)}else{if("checkbox"!==i.attr("type"))throw new Error("checkbox binding should be used only with bootstrap checkboxes");if(!t.isObservable(a()))throw new Error("checkbox binding should be used only with observable values in this case");i.on("change",r)}},update:function(e,a){var i,r=$(e),n=t.unwrap(a());n instanceof Array?"buttons"===r.attr("data-toggle")?r.find("input:checkbox").each(function(e,a){i=t.utils.arrayIndexOf(n,a.value)!==-1,$(a).parent().toggleClass("active",i),a.checked=i}):(i=t.utils.arrayIndexOf(n,r.val())!==-1,r.toggleClass("active",i),r.find("input").prop("checked",i)):(i=!!n,r.prop("checked",i),r.parent().toggleClass("active",i))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(e,t,a){(function(e){var t="undefined"!=typeof window?window.ko:"undefined"!=typeof e?e.ko:null;t.bindingHandlers.radio={init:function(e,a){if(!t.isObservable(a()))throw new Error("radio binding should be used only with observable values");$(e).on("change","input:radio",function(e){setTimeout(function(){var t=$(e.target),i=a(),r=t.val();t.prop("disabled")||i(r)},0)})},update:function(e,a){var i,r=t.unwrap(a())||"",n=$(e).find('input[value="'+r.replace(/"/g,'\\"')+'"]');n.length?(i=n.parent(),i.siblings().removeClass("active"),i.addClass("active"),n.prop("checked",!0)):(i=$(e).find(".active"),i.removeClass("active"),i.find("input").prop("checked",!1))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,a){(function(t){var a="undefined"!=typeof window?window.ko:"undefined"!=typeof t?t.ko:null,i=e("urijs"),r=e("lodash/isString"),n=e("lodash/isUndefined");a.extenders.urlSync=function(e,t){if(t=r(t)?{param:t}:t||{},t.read=t.read||function(e){return e},t.write=t.write||function(e){return e},n(t.param))return e;var a=new i,o=a.query(!0)[t.param];if(!n(o)){var l=t.read(o);e(l),a.setSearch(t.param,t.write(l)),window.history.replaceState({},"",a.toString())}return e.subscribe(function(e){var a=new i,r=t.write(e);a.setSearch(t.param,r),window.history.replaceState({},"",a.toString())}),e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash/isString":51,"lodash/isUndefined":52,urijs:55}],60:[function(e,t,a){(function(t){var a="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,i="undefined"!=typeof window?window.ko:"undefined"!=typeof t?t.ko:null,r=e("dota-hero-calculator-library"),n=e("bit-array-js"),o=e("urijs"),l=e("./slider");e("./ko.bindingHandlers.checkbox"),e("./ko.bindingHandlers.radio"),e("./ko.extenders.urlSync"),a(function(){r.init("/media/js/herodata.json","/media/js/itemdata.json","/media/js/unitdata.json",function(){function e(e,t){return Math.floor(Math.random()*(t-e+1))+e}function t(e){for(var t,a,i=e.length;i>0;)a=Math.floor(Math.random()*i),i--,t=e[i],e[i]=e[a],e[a]=t;return e}function s(e,t){return e.hasOwnProperty(t)?e[t]():e.heroData()[t]}function u(e){return r.Data.heroData["npc_dota_hero_"+e].HeroID}function c(){for(var e=[],t=0;t<v.length;t++)for(var a=0;a<25;a++)for(var i=0;i<_.length;i++){var r={id:t*v.length+25*a+i,kind:"attributes",hero:v[t],name:_[i],level:a+1};e.push(r)}for(var n=v.length*_.length*25,t=0,a=0,i=0,o=0,l=0,s=0;t<v.length;){for(var u=v[t],c=h["npc_dota_hero_"+u].abilities;a<c.length;){var m=c[a];if("Attribute Bonus"!==m.displayname&&""!==m.displayname&&"Empty"!==m.displayname){for(var b=y.getAbilityLevelMax(m);i<m.attributes.length;){var d=m.attributes[i];if(d.hasOwnProperty("tooltip")){for(;o<b;)o++,e.push({id:n,kind:"abilities",hero:u,name:m.name,property:d.name,level:o}),n++;i++,o=0}else i++,o=0}for(;l<b;)l++,e.push({id:n,kind:"abilities",hero:u,name:m.name,property:"cooldown",level:l}),n++;for(;s<b;)s++,e.push({id:n,kind:"abilities",hero:u,name:m.name,property:"manacost",level:s}),n++;a++,i=0,o=0,l=0,s=0}else a++,i=0,o=0,l=0,s=0}t++,a=0,i=0,o=0,l=0,s=0}return e}function m(e,t,a,i,r,n){return e.filter(function(e){if(t.indexOf(e.hero)===-1)return!1;switch(e.kind){case"attributes":return e.level>=i&&e.level<=r&&a.indexOf(e.name)!==-1;case"abilities":switch(e.property){case"manacost":case"cooldown":return n.indexOf(e.property)!==-1;default:return n.indexOf("attributes")!==-1}}})}function b(e){var t=h["npc_dota_hero_"+e.hero].displayname;switch(e.kind){case"attributes":return"Level "+e.level+"<br>"+t+"<br>"+g.filter(function(t){return t.id==e.name})[0].name;case"abilities":var a=h["npc_dota_hero_"+e.hero].abilities.filter(function(t){return t.name==e.name})[0];switch(e.property){case"manacost":tooltip="Mana Cost";break;case"cooldown":tooltip="Cooldown";break;default:var i=a.attributes.filter(function(t){return t.name==e.property})[0];tooltip=i.tooltip}return":"==tooltip.slice(-1)&&(tooltip=tooltip.slice(0,-1)),t+"<br>"+a.displayname+"<br>Level "+e.level+"<br>"+tooltip}}function d(e){switch(y.heroId(e.hero),e.kind){case"attributes":return y.selectedHeroLevel(e.level),s(y,e.name);case"abilities":var t,a=h["npc_dota_hero_"+e.hero].abilities.filter(function(t){return t.name==e.name})[0];switch(e.property){case"manacost":case"cooldown":t=a[e.property];break;default:var i=a.attributes.filter(function(t){return t.name==e.property})[0];t=i.value}if(e.level>t.length)var r=t[0];else var r=t[Math.max(0,e.level-1)];return r}}function p(e){return e.toString().replace(/<br>/g," ").replace(/Avg/g,"Average").replace(/Shaman/g,"Shahman").replace(/Jakiro/g,"Jah-keer-roe").replace(/Huskar/g,"Husk-R").replace(/Omniknight/g,"Omni-knight").replace(/Aphotic/g,"Afotic").replace(/Avernus/g,"Ahvernus").replace(/Malefice/g,"Malifice").replace(/Chronosphere/g,"Chrohnosphere").replace(/Omnislash/g,"Omni-slash").replace(/Degen Aura/g,"D-gen Aura").replace(/Coup de Grace/g,"Coup de Grahs").replace(/Squad, Attack!/g,"Squad Attack!").replace(/Sigil/g,"Frozen Sijhil").replace(/Grave Chill/g,"Graiyv Chill").replace(/Familiars/g,"Familiarz.")}function f(){var a=this;this.attributes=i.observableArray(g),this.heroes=r.HeroOptions;var s=new o;this.selectedAttributesBitArray=new n(32),this.selectedAttributesBitArray.fromBase64UrlSafe(s.query(!0).attributes),this.selectedAttributes=i.observableArray(a.attributes().map(function(e){return e.id}).filter(function(e,t){return a.selectedAttributesBitArray.value(t)})).extend({deferred:!0}),this.selectedAttributes.subscribe(function(e){e.forEach(function(e){if("added"===e.status||"deleted"===e.status)for(var t=0;t<a.attributes().length;t++){var i=a.attributes()[t];if(i.id==e.value){a.selectedAttributesBitArray.value(t,"added"===e.status);break}}}),s.setSearch("attributes",a.selectedAttributesBitArray.toBase64UrlSafe()),window.history.replaceState({},"",s.toString())},null,"arrayChange"),this.selectedHeroesBitArray=new n(128),this.selectedHeroesBitArray.fromBase64UrlSafe(s.query(!0).heroes),this.selectedHeroes=i.observableArray(this.heroes.map(function(e){return e.heroName}).filter(function(e){return a.selectedHeroesBitArray.value(u(e))})).extend({deferred:!0}),this.selectedHeroes.subscribe(function(e){e.forEach(function(e){"added"!==e.status&&"deleted"!==e.status||a.selectedHeroesBitArray.value(u(e.value),"added"===e.status)}),s.setSearch("heroes",a.selectedHeroesBitArray.toBase64UrlSafe()),window.history.replaceState({},"",s.toString())},null,"arrayChange"),this.deck=[],this.card=null,this.state=i.observable(0),this.text=i.observable("<i>Tap to start</i>"),this.textToSpeech=i.observable(!1).extend({urlSync:{param:"speech",read:function(e){return 0!=e&&"false"!==e}}}),this.minLevel=i.observable(1).extend({numeric:{defaultValue:1},urlSync:{param:"minlevel",read:function(e){return parseInt(e)}}}),this.minLevel.subscribe(function(e){parseInt(e)>parseInt(a.maxLevel())&&a.maxLevel(a.minLevel())}),this.maxLevel=i.observable(1).extend({numeric:{defaultValue:1},urlSync:{param:"maxlevel",read:function(e){return parseInt(e)}}}),this.maxLevel.subscribe(function(e){parseInt(e)<parseInt(a.minLevel())&&a.minLevel(a.maxLevel())}),this.reset=function(){this.state(0),this.card&&this.deck.push(this.card),this.card=null,this.text("<i>Tap to start</i>")},this.isWrong=i.observable(!1),this.run=function(){if(!this.deck.length&&!this.card)return void alert("No heroes or attributes selected.");if(0===this.state()){if(this.card){var t;switch(this.drawStrategy()){case"back":t=0;break;case"random":t=Math.floor(Math.random()*this.deck.length);break;case"training":var a=Math.min(this.deck.length,5),i=Math.min(this.deck.length,10);t=this.isWrong()?this.deck.length-e(a,i):e(0,this.deck.length-i)}this.deck.splice(t,0,this.card)}this.card=this.deck.pop(),this.text(b(this.card)),this.isWrong(!1)}else 1===this.state()&&this.text(d(this.card));this.state((this.state()+1)%2),this.textToSpeech()?responsiveVoice.speak(p(this.text()),"US English Female",{onend:this.loop}):this.loop()},this.loop=function(){a.autoPlay()&&(clearTimeout(a.autoPlayInterval),a.autoPlayInterval=setTimeout(function(){a.slider.next()},a.autoPlayDelay()))},this.selectAllHeroes=function(){a.selectedHeroes(a.heroes.map(function(e){return e.heroName}))},this.deselectAllHeroes=function(){this.selectedHeroes.removeAll()},this.selectAllAttributes=function(){a.selectedAttributes(a.attributes().map(function(e){return e.id}))},this.deselectAllAttributes=function(){this.selectedAttributes.removeAll()},this.correct=function(){clearTimeout(this.autoPlayInterval),this.run()},this.wrong=function(){clearTimeout(this.autoPlayInterval),this.isWrong(!0),this.slider.next()},this.autoPlay=i.observable(!1).extend({urlSync:{param:"autoplay",read:function(e){return 0!=e&&"false"!==e}}}),this.autoPlayDelay=i.observable(3e3).extend({numeric:{defaultValue:3e3},urlSync:{param:"autodelay",read:function(e){return parseInt(e)}}}),this.autoPlayInterval,this.autoPlay.subscribe(function(e){e||clearInterval(a.autoPlayInterval)}),this.drawStrategy=i.observable("training").extend({urlSync:{param:"shuffle",read:function(e){return e=e.toLowerCase(),["training","back","random"].indexOf(e)!==-1?e:"training"}}}),this.questionTypes=i.observableArray(["attributes"]).extend({urlSync:{param:"categories",read:function(e){return e=[].concat(e).map(function(e){return e.toLowerCase()}).filter(function(e){return["attributes","abilities"].indexOf(e)!==-1}),e.length?e:["attributes"]}}}),this.questionTypes.subscribe(function(e){if(0===a.questionTypes().length){var t=[];e.forEach(function(e){"deleted"===e.status&&t.push(e.value)}),a.questionTypes(t)}},null,"arrayChange"),this.abilityQuestionTypes=i.observableArray(["attributes"]).extend({urlSync:{param:"abilities",read:function(e){return e=[].concat(e).map(function(e){return e.toLowerCase()}).filter(function(e){return["attributes","cooldown","manacost"].indexOf(e)!==-1}),e.length?e:["abilities"]}}}),this.abilityQuestionTypes.subscribe(function(e){if(0===a.abilityQuestionTypes().length){var t=[];e.forEach(function(e){"deleted"===e.status&&t.push(e.value)}),a.abilityQuestionTypes(t)}},null,"arrayChange"),this.abilityQuestionTypesVisible=i.computed(function(){return a.questionTypes().indexOf("abilities")!==-1}),this.deckSettingsState="",this.serializeDeckSettings=function(){return i.toJSON({heroes:a.selectedHeroesBitArray.toBase64UrlSafe(),attributes:a.selectedAttributesBitArray.toBase64UrlSafe(),minLevel:a.minLevel(),maxLevel:a.maxLevel(),autoPlay:a.autoPlay(),autoPlayDelay:a.autoPlayDelay(),drawStrategy:a.drawStrategy(),questionTypes:a.questionTypes(),abilityQuestionTypes:a.abilityQuestionTypes()})},this.updateDeck=function(){var e=this.questionTypes.indexOf("attributes")!==-1?this.selectedAttributes():[],a=this.questionTypes.indexOf("abilities")!==-1?this.abilityQuestionTypes():[];this.reset(),this.deck=t(m(A,this.selectedHeroes(),e,parseInt(this.minLevel()),parseInt(this.maxLevel()),a)),this.deckSettingsState=this.serializeDeckSettings()},this.updateDeck(),this.shuffleDeck=function(){this.reset(),this.deck=t(this.deck)},this.slider=new l("#slider",{onPanStart:function(){clearTimeout(a.autoPlayInterval)},onGoTo:function(e){e?a.correct():a.loop()}})}var g=[{id:"totalArmorPhysical",name:"Armor"},{id:"totalArmorPhysicalReduction",name:"Physical Damage Reduction"},{id:"totalMagicResistance",name:"Magic Resistance"},{id:"totalattackrange",name:"Attack Range"},{id:"totalAgi",name:"Agility"},{id:"totalInt",name:"Intelligence"},{id:"totalStr",name:"Strength"},{id:"health",name:"HP"},{id:"mana",name:"Mana"},{id:"healthregen",name:"HP Regen"},{id:"manaregen",name:"Mana Regen"},{id:"totalMovementSpeed",name:"Movement Speed"},{id:"totalTurnRate",name:"Turn Rate"},{id:"baseDamageMin",name:"Attack Damage Min"},{id:"baseDamageMax",name:"Attack Damage Max"},{id:"baseDamageAvg",name:"Attack Damage Avg"},{id:"ehpPhysical",name:"EHP"},{id:"ehpMagical",name:"Magical EHP"},{id:"primaryAttribute",name:"Primary Attribute"},{id:"projectilespeed",name:"Missile Speed"},{id:"attributeagilitygain",name:"Agility Gain"},{id:"attributestrengthgain",name:"Strength Gain"},{id:"attributeintelligencegain",name:"Intelligence Gain"},{id:"attributebaseagility",name:"Base Agility"},{id:"attributebaseintelligence",name:"Base Intelligence"},{id:"attributebasestrength",name:"Base Strength"},{id:"visionrangeday",name:"Day Vision Range"},{id:"visionrangenight",name:"Night Vision Range"}],_=g.map(function(e){return e.id}),h=r.Data.heroData,v=r.HeroOptions.map(function(e){return e.heroName}),y=new r.HeroModel("abaddon"),A=c(),T=new f;i.applyBindings(T),a('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=a(e.target).attr("href");"#home"===t?T.serializeDeckSettings()!==T.deckSettingsState&&T.updateDeck():clearInterval(T.autoPlayInterval)})})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ko.bindingHandlers.checkbox":57,"./ko.bindingHandlers.radio":58,"./ko.extenders.urlSync":59,"./slider":61,"bit-array-js":1,"dota-hero-calculator-library":32,urijs:55}],61:[function(e,t,a){function i(e,t){this.sliderPanelSelector=".slider-panel",this.sensitivity=25,this.activeSlide=0,this.slideCount=0,this.onGoTo=t.onGoTo,this.onPanStart=t.onPanStart,this.init(e)}var r=e("hammerjs");i.prototype.init=function(e){this.sliderEl=document.querySelector(e),this.slideCount=this.sliderEl.querySelectorAll(this.sliderPanelSelector).length;var t=new r.Manager(this.sliderEl),a=new r.Pan({threshold:5,pointers:0});t.add(a);var i=new r.Tap({interval:0});t.add(i),a.requireFailure(i);var n=this;t.on("tap",function(e){n.next()}),t.on("panstart",function(e){n.onPanStart&&n.onPanStart()}),t.on("pan",function(e){var t=100/n.slideCount*e.deltaX/window.innerWidth,a=t-100/n.slideCount*n.activeSlide;n.sliderEl.style.transform="translateX( "+a+"% )",e.isFinal&&(e.velocityX>1?n.goTo(n.activeSlide-1):e.velocityX<-1?n.goTo(n.activeSlide+1):t<=-(n.sensitivity/n.slideCount)?n.goTo(n.activeSlide+1):t>=n.sensitivity/n.slideCount?n.goTo(n.activeSlide-1):n.goTo(n.activeSlide))}),this.goTo(1,!0)},i.prototype.next=function(){this.goTo(this.activeSlide+1)},i.prototype.goTo=function(e,t){var a=this.activeSlide!==e;e<0?this.activeSlide=0:e>this.slideCount-1?this.activeSlide=this.slideCount-1:this.activeSlide=e,this.sliderEl.classList.add("is-animating");var i=-(100/this.slideCount)*this.activeSlide;this.sliderEl.style.transform="translateX( "+i+"% )",clearTimeout(this.timer);var r=this;this.timer=setTimeout(function(){if(r.sliderEl.classList.remove("is-animating"),r.activeSlide==r.slideCount-1){var e=r.sliderEl.querySelectorAll(r.sliderPanelSelector);r.sliderEl.appendChild(e[0]),r.activeSlide--;var t=-(100/r.slideCount)*r.activeSlide;r.sliderEl.style.transform="translateX( "+t+"% )"}if(0==r.activeSlide){var e=r.sliderEl.querySelectorAll(r.sliderPanelSelector);r.sliderEl.insertBefore(e[e.length-1],e[0]),r.activeSlide++;var t=-(100/r.slideCount)*r.activeSlide;r.sliderEl.style.transform="translateX( "+t+"% )"}},400),this.onGoTo&&!t&&this.onGoTo(a)},t.exports=i},{hammerjs:42}]},{},[60]);
